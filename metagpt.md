# Combined Markdown Content
# Timestamp: 20250628_135715
# Source Identifier: docs_deepwisdom_ai
# Total Files Combined: 55

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/introduction.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/introduction.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [MetaGPT's Abilities](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#metagpt-s-abilities "MetaGPT's Abilities")
  * [Examples (fully generated by GPT-4)](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#examples-fully-generated-by-gpt-4 "Examples \(fully generated by GPT-4\)")


On this page 
# MetaGPT: The Multi-Agent Framework [​](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#metagpt-the-multi-agent-framework)
**Assign different roles to GPTs to form a collaborative software entity for complex tasks.**
  1. MetaGPT takes a **one line requirement** as input and outputs **user stories / competitive analysis / requirements / data structures / APIs / documents, etc.**
  2. Internally, MetaGPT includes **product managers / architects / project managers / engineers.** It provides the entire process of a **software company along with carefully orchestrated SOPs.**
    1. `Code = SOP(Team)` is the core philosophy. We materialize SOP and apply it to teams composed of LLMs.


![A software company consists of LLM-based roles](https://docs.deepwisdom.ai/main/assets/software_company_cd.7154a15c.jpg)
Software Company Multi-Role Schematic
## MetaGPT's Abilities [​](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#metagpt-s-abilities)
MetaGPT started as a software company, but its capabilities are not limited to that. You can use this multi-agent framework in your own scenario to build your own application. For details, you can refer to [Researcher](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html) under **Use Cases**. Let's do it.
## Examples (fully generated by GPT-4) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html#examples-fully-generated-by-gpt-4)
For example, if you type `metagpt "Design a RecSys like Toutiao"`, you would get many outputs, one of them is data & api design
![Jinri Toutiao Recsys Data & API Design](https://docs.deepwisdom.ai/main/assets/data_api_design.9f5a6265.png)
It costs approximately **$0.2** (in GPT-4 API fees) to generate one example with analysis and design, and around **$2.0** for a full project.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/introduction.md)
[Next pageQuickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/api.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/api.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/api.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/api.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# API [​](https://docs.deepwisdom.ai/main/en/guide/api.html#api)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/api.md)
[Previous pageFAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[Next pageIndex / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/android.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/android.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Space Definition](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#space-definition "Space Definition")
    * [Observation Space](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#observation-space "Observation Space")
    * [Action Space](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#action-space "Action Space")
  * [Usage](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#usage "Usage")


On this page 
# Android Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#android-environment)
[Code](https://github.com/geekan/MetaGPT/tree/main/metagpt/environment/android)
The Android environment provides a running environment for controlling the Android emulator (virtual phone) or real Android phone through `adb`. Generally, what can be directly observed from the environment are screenshots and UI tree structure information. The set of actions that can be operated in the environment are: click, enter text, slide, return to the desktop, long press and other operations.
## Space Definition [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#space-definition)
### Observation Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#observation-space)
Definition: `spaces.Dict({"screenshot": spaces.Text(256), "xml": spaces.Text(256)})`, provides the local address of the screenshot and the local address of the UI tree structure information.
Description of observation
Field| Description| Maximum text length  
---|---|---  
screenshot| The local address of the screenshot| 256  
xml| Local address of UI tree structure information| 256  
Space sample example:
```
OrderedDict([('screenshot', 'cQUnpNjpsOeTAFG3TkFWRQpRBcF3vAPeblVbM7Kc4KRcnCe2UVMH1WEeAjAwbil1gimsZYztZBzrfIiYQY820ZEjOgFB'), ('xml', 'siXd9XILsNnJTA9sqpNSfaIysHIJ75CbOYfmrIaDAxxObK0X0DKpGI5EazYBCIFFvUDfdw8ZkHVHhWCSS7AIsD2p7mgu7766pRt37gjhY8cxb')])
```
```
OrderedDict([('screenshot', 'cQUnpNjpsOeTAFG3TkFWRQpRBcF3vAPeblVbM7Kc4KRcnCe2UVMH1WEeAjAwbil1gimsZYztZBzrfIiYQY820ZEjOgFB'), ('xml', 'siXd9XILsNnJTA9sqpNSfaIysHIJ75CbOYfmrIaDAxxObK0X0DKpGI5EazYBCIFFvUDfdw8ZkHVHhWCSS7AIsD2p7mgu7766pRt37gjhY8cxb')])
```

### Action Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#action-space)
Definition:
python```
from gymnasium import spaces
import numpy as np
from metagpt.environment.android.env_space import EnvActionType
device_shape = (720, 1080)
space = spaces.Dict(
  {
"action_type": spaces.Discrete(len(EnvActionType)),
"coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([device_shape[0], device_shape[1]], dtype=np.int64)
    ),
"tgt_coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([device_shape[0], device_shape[1]], dtype=np.int64)
    ),
"input_txt": spaces.Text(256),
"orient": spaces.Text(16),
"dist": spaces.Text(16),
  }
)
```
```
from gymnasium import spaces
import numpy as np
from metagpt.environment.android.env_space import EnvActionType
device_shape = (720, 1080)
space = spaces.Dict(
  {
"action_type": spaces.Discrete(len(EnvActionType)),
"coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([device_shape[0], device_shape[1]], dtype=np.int64)
    ),
"tgt_coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([device_shape[0], device_shape[1]], dtype=np.int64)
    ),
"input_txt": spaces.Text(256),
"orient": spaces.Text(16),
"dist": spaces.Text(16),
  }
)
```

Description of action
Field| Description| Value Description  
---|---|---  
action_type| Action type| Different actions correspond to different IntEnum values, followed by None, SYSTEM_BACK, SYSTEM_TAP, USER_INPUT, USER_LONGPRESS, USER_SWIPE, USER_SWIPE_TO  
coord| The starting coordinate of the basic operation, an `ndarray` with size (2,)| The minimum value of the first value is 0, and the maximum value is the screen width. The minimum value of the second value is 0 and the maximum value is the screen height. Unit pixel  
tgt_coord| Used for sliding actions, corresponding to the target position coordinates. `ndarray` with size (2,)| The minimum value of the first value is 0, and the maximum value is the screen width. The minimum value of the second value is 0 and the maximum value is the screen height. Unit pixel  
input_txt| Input text| Maximum length 256  
orient| sliding direction| corresponding to `up`, `down`, `left`, `right`  
dist| sliding distance| corresponding to `long`, `medium`  
Space sample example:
```
OrderedDict([('action_type', 1), ('coord', array([ 55.44057, 842.3602 ], dtype=float32)), ('dist', '6NY'), ('input_txt', 'GdW'), ('orient', 'mSWYHlXuVIdBmqo'), ('tgt_coord', array([431.0454 , 658.18286], dtype=float32))])
```
```
OrderedDict([('action_type', 1), ('coord', array([ 55.44057, 842.3602 ], dtype=float32)), ('dist', '6NY'), ('input_txt', 'GdW'), ('orient', 'mSWYHlXuVIdBmqo'), ('tgt_coord', array([431.0454 , 658.18286], dtype=float32))])
```

When used, use `EnvAction` to initialize an action: the action type to be executed and the corresponding required input parameters, and execute the action through `env.step(action)`, and get the corresponding rewards and new observations.
## Usage [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html#usage)
python```
from pathlib import Path
from metagpt.environment.android.android_ext_env import AndroidExtEnv
from metagpt.environment.android.env_space import (
  EnvAction,
  EnvActionType,
  EnvObsParams,
  EnvObsType,
)
from metagpt.logs import logger
env = AndroidExtEnv(device_id="emulator-5554", screenshot_dir="/android/path/to/store/screenshot", xml_dir="/android/path/to/store/xml")
obs, _ = env.reset() # get full observation
screenshot_path: Path = env.observe(
  EnvObsParams(
obs_type=EnvObsType.GET_SCREENSHOT, ss_name="step_0", local_save_dir="/local/path/to/store/screenshot"
  )
) # get partial observation

action = EnvAction(action_type=EnvActionType.USER_INPUT, input_txt="user_input") # define a action, and init corresponding params
obs, _, _, _, info = env.step(action) # execute action and get new observation
logger.info(f'action execute result: {info["res"]}') # action execute result
```
```
from pathlib import Path
from metagpt.environment.android.android_ext_env import AndroidExtEnv
from metagpt.environment.android.env_space import (
  EnvAction,
  EnvActionType,
  EnvObsParams,
  EnvObsType,
)
from metagpt.logs import logger
env = AndroidExtEnv(device_id="emulator-5554", screenshot_dir="/android/path/to/store/screenshot", xml_dir="/android/path/to/store/xml")
obs, _ = env.reset() # get full observation
screenshot_path: Path = env.observe(
  EnvObsParams(
obs_type=EnvObsType.GET_SCREENSHOT, ss_name="step_0", local_save_dir="/local/path/to/store/screenshot"
  )
) # get partial observation

action = EnvAction(action_type=EnvActionType.USER_INPUT, input_txt="user_input") # define a action, and init corresponding params
obs, _, _, _, info = env.step(action) # execute action and get new observation
logger.info(f'action execute result: {info["res"]}') # action execute result
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/android.md)
[Previous pageStanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Next pageCode of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/intro.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/intro.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html#environment)
Early MetaGPT versions used the same implementation of `Environment` in `metagpt/environment/base_env.py` to describe the environment of a software team. In order to support the application of multiple agents in different environments (such as games, mobile phones, etc.), we have expanded the overall definition and functions of the environment to better support the development of different scenarios.
## Definition [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html#definition)
`ExtEnv` external environment is defined as the carrier for the interaction between the agent and different environments. For example, the game to be connected by the agent is a remote engine service and a collection of API interfaces provided externally. We manage the docking API by defining the external environment, so that the agent has the direct ability to interact with the game. For another example, the agent connects to the role-playing Werewolf game and defines the external environment to implement the Werewolf game rules itself, so that the agent can know the current status of the character after dark and dawn.
The internal environment of `XxxEnv` is defined as the environment used directly by the agent and its team, similar to the `Environment` used in software development. Generally, it directly inherits `ExtEnv` and adds additional custom parts as required.
In `ExtEnv`, we refer to the design of `gymnasium` in the reinforcement learning scenario and introduce the `observation_space` and the `action_space`, which are used to represent the set of states obtained from the external environment and the action collection that can act on the environment respectively. Through the definition of two spaces, you can simplify the abstraction in different environments, allowing the environment provider to focus on the implementation of environment logic and the user to focus on the use of different space values.
In addition, the decorators `mark_as_readable` and `mark_as_writeable` for the different `read-write` interfaces provided by `ExtEnv` are also provided to facilitate the unified management of method interfaces for external environment docking, so that subsequent agents can use them as A tool capability that can directly and automatically call different external environment docking interfaces based on the input natural language (this part of the function is to be opened).
## Different Environments [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html#different-environments)
Currently, we provide several scenario environments and provide corresponding scenario usage entrances under `MetaGPT/examples/`.
  * ToBeAdded, [Minecraft Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/minecraft.html)
  * Added, [Werewolf Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
  * Added, [Stanford Town Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
  * Added, [Android Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
  * ToBeAdded, [Web Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/web.html)


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/intro.md)
[Previous pageRAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
[Next pageWerewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/breakpoint_recovery.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/breakpoint_recovery.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Serialization & Breakpoint Recovery [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#serialization-breakpoint-recovery)
## Definition [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#definition)
Breakpoint recovery refers to recording different increments of the program module and storing into files during program running. When the program encounters external situations such as `Ctrl-C` or internal execution exceptions such as LLM Api network abnormality leading to exit. When the program is executed again, it can resume execution from the results before the interruption without starting execution from 0 to 1, reducing the developer's time and cost.
## Serialization and deserialization [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#serialization-and-deserialization)
In order to support breakpoint recovery operations, the output of different modules in the program needs to be structured and stored, that is, serialized, to save the scene for subsequent recovery operations. Serialization operations are differentiated according to the functions of different modules. For example, basic character information can be serialized after initialization and will not change during the process. Memory information needs to be serialized in real time during execution to ensure integrity (serialization time-consuming accounts for a very low proportion of the entire program execution). Here, we uniformly perform serialization when an exception occurs or the run ends normally.
## Implement logic [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#implement-logic)
### Possible interruptions [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#possible-interruptions)
  * Network and other problems, the LLM-Api call still fails after retrying multiple times.
  * During Action execution, parsing of the output content failed, resulting in exit.
  * `Ctrl-C` interrupts the program


### Serialized storage structure [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#serialized-storage-structure)
In order to reduce the impact of subsequent new functions on the storage structure, an "integrated" single json file is used for storage.
When the program is interrupted or terminated, the file structure in the storage directory is as follows:
bash```
./workspace
storage
team
team.json# Contains information such as team, environment, roles, actions, etc.
```
```
./workspace
storage
team
team.json# Contains information such as team, environment, roles, actions, etc.
```

Example of data summary corresponding to team.json 
json```
{
"env": {
"desc": "",
"roles": {
"Role A": {},
"Role B": {
"name": "RoleB",
"profile": "Role B",
"goal": "RoleB's goal",
"constraints": "RoleB's constraints",
"desc": "",
"is_human": false,
"role_id": "",
"states": [
"0. <class 'tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK'>",
"1. <class 'tests.metagpt.serialize_deserialize.test_serdeser_base.ActionRaise'>"
    ],
"actions": [
     {
"name": "ActionOK",
"context": "",
"prefix": "You are a Role B, named RoleB, your goal is RoleB's goal. the constraint is RoleB's constraints. ",
"desc": "",
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK"
     },
     {
"name": "ActionRaise",
"context": "",
"prefix": "You are a Role B, named RoleB, your goal is RoleB's goal. the constraint is RoleB's constraints. ",
"desc": "",
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionRaise"
     }
    ],
"rc": {
"memory": {
"storage": [
       {
"id": "7cc01798c3324c6c8b676d282ea9e92c",
"content": "ActionPass run passed",
"instruct_content": {
"class": "pass",
"mapping": {
"result": "(<class 'str'>, Ellipsis)"
         },
"value": {
"result": "pass result"
         }
        },
"role": "RoleA(Role A)",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA",
"send_to": ["<all>"]
       }
      ],
"index": {
"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK": [
        {
"id": "018bde1d4bdb4e9387c1053da0dc0cb3",
"content": "ok",
"instruct_content": null,
"role": "Role B",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB",
"send_to": ["<all>"]
        }
       ]
      },
"ignore_id": false
     },
"state": 1,
"watch": [
"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass"
     ],
"react_mode": "by_order",
"max_react_loop": 1
    },
"addresses": [
"RoleB",
"tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB"
    ],
"recovered": true,
"latest_observed_msg": {
"id": "7cc01798c3324c6c8b676d282ea9e92c",
"content": "ActionPass run passed",
"instruct_content": {
"class": "pass",
"mapping": {
"result": "(<class 'str'>, Ellipsis)"
      },
"value": {
"result": "pass result"
      }
     },
"role": "RoleA(Role A)",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA",
"send_to": ["<all>"]
    },
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB"
   }
  },
"history": "\nHuman: write a snake game\nRoleA(Role A): {'result': 'pass result'}\nHuman: write a snake game"
 },
"investment": 10.0,
"idea": "write a snake game"
}
```
```
{
"env": {
"desc": "",
"roles": {
"Role A": {},
"Role B": {
"name": "RoleB",
"profile": "Role B",
"goal": "RoleB's goal",
"constraints": "RoleB's constraints",
"desc": "",
"is_human": false,
"role_id": "",
"states": [
"0. <class 'tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK'>",
"1. <class 'tests.metagpt.serialize_deserialize.test_serdeser_base.ActionRaise'>"
    ],
"actions": [
     {
"name": "ActionOK",
"context": "",
"prefix": "You are a Role B, named RoleB, your goal is RoleB's goal. the constraint is RoleB's constraints. ",
"desc": "",
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK"
     },
     {
"name": "ActionRaise",
"context": "",
"prefix": "You are a Role B, named RoleB, your goal is RoleB's goal. the constraint is RoleB's constraints. ",
"desc": "",
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionRaise"
     }
    ],
"rc": {
"memory": {
"storage": [
       {
"id": "7cc01798c3324c6c8b676d282ea9e92c",
"content": "ActionPass run passed",
"instruct_content": {
"class": "pass",
"mapping": {
"result": "(<class 'str'>, Ellipsis)"
         },
"value": {
"result": "pass result"
         }
        },
"role": "RoleA(Role A)",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA",
"send_to": ["<all>"]
       }
      ],
"index": {
"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK": [
        {
"id": "018bde1d4bdb4e9387c1053da0dc0cb3",
"content": "ok",
"instruct_content": null,
"role": "Role B",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionOK",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB",
"send_to": ["<all>"]
        }
       ]
      },
"ignore_id": false
     },
"state": 1,
"watch": [
"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass"
     ],
"react_mode": "by_order",
"max_react_loop": 1
    },
"addresses": [
"RoleB",
"tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB"
    ],
"recovered": true,
"latest_observed_msg": {
"id": "7cc01798c3324c6c8b676d282ea9e92c",
"content": "ActionPass run passed",
"instruct_content": {
"class": "pass",
"mapping": {
"result": "(<class 'str'>, Ellipsis)"
      },
"value": {
"result": "pass result"
      }
     },
"role": "RoleA(Role A)",
"cause_by": "tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass",
"sent_from": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA",
"send_to": ["<all>"]
    },
"__module_class_name": "tests.metagpt.serialize_deserialize.test_serdeser_base.RoleB"
   }
  },
"history": "\nHuman: write a snake game\nRoleA(Role A): {'result': 'pass result'}\nHuman: write a snake game"
 },
"investment": 10.0,
"idea": "write a snake game"
}
```

### Execution order during recovery [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#execution-order-during-recovery)
Since MetaGPT is an asynchronous execution framework, there are several typical interception points and recovery sequences as follows.
  1. Role A (1 action) -> Role B (2 actions). Role A exits abnormally when selecting an action.
  2. Role A (1 action) -> Role B (2 actions). The first action of role B executes normally, but an abnormal exit occurs when the second action is executed.


#### Situation 1 [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#situation-1)
After the execution entry is re-executed, each module is deserialized. Role A did not observe the message that it processed and re-executed the corresponding action. After role B recovers, it observes a Message that has not been processed before, and then re-executes the corresponding `react` operation after `_observe`, and executes the corresponding 2 actions according to the react strategy.
#### Situation 2 [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#situation-2)
After the execution entry is re-executed, each module is deserialized. Role A did not observe the Message that it processed and did not process it. After role B is restored, `_observe` receives a Message that has not been completely processed before. In `react`, if it knows that it failed to execute the second action, it will start execution directly from the second action.
### Re-execute from the Message before the interruption [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#re-execute-from-the-message-before-the-interruption)
Generally speaking, Message is a bridge for communication and collaboration between different roles. When an interruption occurs during the execution of Message, the Message has been stored in the Role's Memory(in RoleContext) by the role. During recovery, if all the memory of the character is loaded directly, the `_observe` of the character will not observe the interruption and trigger the execution of `Message` at that time, so the continued execution of the Message cannot be restored. Therefore, in order to ensure that the Message can continue to be executed during recovery, the corresponding Message needs to be deleted from the character memory based on the latest information obtained by `_observe` after an interruption occurs.
### Re-execute from the action before the interruption [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#re-execute-from-the-action-before-the-interruption)
Generally speaking, Action is a relatively small execution module granularity. When an interruption occurs during the execution of Action, you need to know the execution order of multiple Actions and which Action(`_rc.state`) is currently executed. When resuming, locate the action where it was interrupted and re-execute the action.
## Result [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#result)
### The entry of Breakpoint recovery [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#the-entry-of-breakpoint-recovery)
`metagpt "xxx" --recover_path "./workspace/storage/team"` # Serialized to `./workspace/storage/team` by default.
### Continuing execution results after recovery [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html#continuing-execution-results-after-recovery)
A single test case is provided here to illustrate breakpoint recovery execution:
Execution case of `test_team_recover_multi_roles_save` of `python3 -s tests/metagpt/serialize_deserialize/test_team.py`
`ActionRaise` of `RoleB` simulates Action exceptions. An exception occurred when executing the Action, and exited after serializing the project. After recovering, `RoleA` and `ActionOK` of `RoleB` have already been executed and will not continue to be executed. `RoleB` continues to execute from `ActionRaise` and continues to exit when an exception is encountered.
bash```
2023-12-1910:26:01.380|DEBUG|metagpt.config:__init__:50-Configloadingdone.
2023-12-1910:26:01.381|DEBUG|metagpt.config:_ensure_workspace_exists:125-WORKSPACE_PATHsetto/Users/xxxx/work/MetaGPT/workspace
2023-12-1910:26:02.476|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"771137834c34447981f5c66c94eb2657","content":"write a snake game","role":"Human","cause_by":"metagpt.actions.add_requirement.UserRequirement","sent_from":"","send_to": ["<all>"]}
2023-12-1910:26:02.477|DEBUG|metagpt.team:run:101-maxn_round=3left.
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_observe:421-RoleA(RoleA) observed: ['Human: write a snake game...']
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionPass],state=0
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_react:452-RoleA(RoleA):self.rc.state=0,willdoActionPass
2023-12-1910:26:02.477|INFO|metagpt.roles.role:_act:373-RoleA(RoleA):readytoActionPass
2023-12-1910:26:02.478|DEBUG|metagpt.roles.role:run:517-RoleB(RoleB):nonews.waiting.
2023-12-1910:26:07.484|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionPass],state=-1
2023-12-1910:26:07.485|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"00f068c2570c4435897ef126ee736258","content":"ActionPass run passed","instruct_content":{"result":"pass result"},"role":"Role A","cause_by":"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass","sent_from":"tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA","send_to": ["<all>"]}
2023-12-1910:26:07.486|DEBUG|metagpt.environment:run:141-isidle:False
2023-12-1910:26:07.486|DEBUG|metagpt.team:run:101-maxn_round=2left.
2023-12-1910:26:07.487|DEBUG|metagpt.roles.role:run:517-RoleA(RoleA):nonews.waiting.
2023-12-1910:26:07.488|DEBUG|metagpt.roles.role:_observe:421-RoleB(RoleB) observed: ['Role A: ActionPass run passe...']
2023-12-1910:26:07.488|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=0
2023-12-1910:26:07.489|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionOK
2023-12-1910:26:12.492|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=1
2023-12-1910:26:12.492|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionRaise
2023-12-1910:26:12.493|WARNING|metagpt.utils.utils:wrapper:96-Thereisaexceptioninrole's execution, in order to resume, we delete the newest role communication message in the role'smemory.
2023-12-1910:26:12.499|ERROR|metagpt.utils.utils:wrapper:79-Exceptionoccurs,starttoserializetheproject,exp:
Traceback (most recentcalllast):
File"/Users/xxxx/work/MetaGPT/metagpt/utils/utils.py",line88,inwrapper
....
rsp=awaitself._act_by_order()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line462,in_act_by_order
rsp=awaitself._act()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line374,in_act
response=awaitself.rc.todo.run(self.rc.important_memory)
File"/Users/xxxx/work/MetaGPT/tests/metagpt/serialize_deserialize/test_serdeser_base.py",line50,inrun
raiseRuntimeError("parse error in ActionRaise")
RuntimeError:parseerrorinActionRaise
############################# --------- Here re-run the Team ----------- ############################
2023-12-1910:26:12.515|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"0bfdde08d4294f07923201d51b2b0068","content":"write a snake game","role":"Human","cause_by":"metagpt.actions.add_requirement.UserRequirement","sent_from":"","send_to": ["<all>"]}
2023-12-1910:26:12.516|DEBUG|metagpt.team:run:101-maxn_round=3left.
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:run:517-RoleA(RoleA):nonews.waiting.
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:_observe:421-RoleB(RoleB) observed: ['Role A: ActionPass run passe...']
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=1# run from the failed action `ActionRaise`
2023-12-1910:26:12.518|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionRaise
2023-12-1910:26:12.518|WARNING|metagpt.utils.utils:wrapper:96-Thereisaexceptioninrole's execution, in order to resume, we delete the newest role communication message in the role'smemory.
2023-12-1910:26:12.519|ERROR|metagpt.utils.utils:wrapper:79-Exceptionoccurs,starttoserializetheproject,exp:
Traceback (most recentcalllast):
....
rsp=awaitself._act_by_order()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line462,in_act_by_order
rsp=awaitself._act()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line374,in_act
response=awaitself.rc.todo.run(self.rc.important_memory)
File"/Users/xxxx/work/MetaGPT/tests/metagpt/serialize_deserialize/test_serdeser_base.py",line50,inrun
raiseRuntimeError("parse error in ActionRaise")
RuntimeError:parseerrorinActionRaise
```
```
2023-12-1910:26:01.380|DEBUG|metagpt.config:__init__:50-Configloadingdone.
2023-12-1910:26:01.381|DEBUG|metagpt.config:_ensure_workspace_exists:125-WORKSPACE_PATHsetto/Users/xxxx/work/MetaGPT/workspace
2023-12-1910:26:02.476|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"771137834c34447981f5c66c94eb2657","content":"write a snake game","role":"Human","cause_by":"metagpt.actions.add_requirement.UserRequirement","sent_from":"","send_to": ["<all>"]}
2023-12-1910:26:02.477|DEBUG|metagpt.team:run:101-maxn_round=3left.
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_observe:421-RoleA(RoleA) observed: ['Human: write a snake game...']
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionPass],state=0
2023-12-1910:26:02.477|DEBUG|metagpt.roles.role:_react:452-RoleA(RoleA):self.rc.state=0,willdoActionPass
2023-12-1910:26:02.477|INFO|metagpt.roles.role:_act:373-RoleA(RoleA):readytoActionPass
2023-12-1910:26:02.478|DEBUG|metagpt.roles.role:run:517-RoleB(RoleB):nonews.waiting.
2023-12-1910:26:07.484|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionPass],state=-1
2023-12-1910:26:07.485|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"00f068c2570c4435897ef126ee736258","content":"ActionPass run passed","instruct_content":{"result":"pass result"},"role":"Role A","cause_by":"tests.metagpt.serialize_deserialize.test_serdeser_base.ActionPass","sent_from":"tests.metagpt.serialize_deserialize.test_serdeser_base.RoleA","send_to": ["<all>"]}
2023-12-1910:26:07.486|DEBUG|metagpt.environment:run:141-isidle:False
2023-12-1910:26:07.486|DEBUG|metagpt.team:run:101-maxn_round=2left.
2023-12-1910:26:07.487|DEBUG|metagpt.roles.role:run:517-RoleA(RoleA):nonews.waiting.
2023-12-1910:26:07.488|DEBUG|metagpt.roles.role:_observe:421-RoleB(RoleB) observed: ['Role A: ActionPass run passe...']
2023-12-1910:26:07.488|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=0
2023-12-1910:26:07.489|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionOK
2023-12-1910:26:12.492|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=1
2023-12-1910:26:12.492|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionRaise
2023-12-1910:26:12.493|WARNING|metagpt.utils.utils:wrapper:96-Thereisaexceptioninrole's execution, in order to resume, we delete the newest role communication message in the role'smemory.
2023-12-1910:26:12.499|ERROR|metagpt.utils.utils:wrapper:79-Exceptionoccurs,starttoserializetheproject,exp:
Traceback (most recentcalllast):
File"/Users/xxxx/work/MetaGPT/metagpt/utils/utils.py",line88,inwrapper
....
rsp=awaitself._act_by_order()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line462,in_act_by_order
rsp=awaitself._act()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line374,in_act
response=awaitself.rc.todo.run(self.rc.important_memory)
File"/Users/xxxx/work/MetaGPT/tests/metagpt/serialize_deserialize/test_serdeser_base.py",line50,inrun
raiseRuntimeError("parse error in ActionRaise")
RuntimeError:parseerrorinActionRaise
############################# --------- Here re-run the Team ----------- ############################
2023-12-1910:26:12.515|DEBUG|metagpt.environment:publish_message:117-publish_message:{"id":"0bfdde08d4294f07923201d51b2b0068","content":"write a snake game","role":"Human","cause_by":"metagpt.actions.add_requirement.UserRequirement","sent_from":"","send_to": ["<all>"]}
2023-12-1910:26:12.516|DEBUG|metagpt.team:run:101-maxn_round=3left.
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:run:517-RoleA(RoleA):nonews.waiting.
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:_observe:421-RoleB(RoleB) observed: ['Role A: ActionPass run passe...']
2023-12-1910:26:12.517|DEBUG|metagpt.roles.role:_set_state:314-actions=[ActionOK,ActionRaise],state=1# run from the failed action `ActionRaise`
2023-12-1910:26:12.518|INFO|metagpt.roles.role:_act:373-RoleB(RoleB):readytoActionRaise
2023-12-1910:26:12.518|WARNING|metagpt.utils.utils:wrapper:96-Thereisaexceptioninrole's execution, in order to resume, we delete the newest role communication message in the role'smemory.
2023-12-1910:26:12.519|ERROR|metagpt.utils.utils:wrapper:79-Exceptionoccurs,starttoserializetheproject,exp:
Traceback (most recentcalllast):
....
rsp=awaitself._act_by_order()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line462,in_act_by_order
rsp=awaitself._act()
File"/Users/xxxx/work/MetaGPT/metagpt/roles/role.py",line374,in_act
response=awaitself.rc.todo.run(self.rc.important_memory)
File"/Users/xxxx/work/MetaGPT/tests/metagpt/serialize_deserialize/test_serdeser_base.py",line50,inrun
raiseRuntimeError("parse error in ActionRaise")
RuntimeError:parseerrorinActionRaise
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/breakpoint_recovery.md)
[Previous pageIncremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Next pageRAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/incremental_development.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/incremental_development.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Incremental Development [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#incremental-development)
You can improve existing project code through these steps:
  * Locate the folder of project created by MetaGPT which you want to improve anywhere on your computer
  * execute `metagpt <user-requirements-described-in-natural-language-about-new-idea-or-bug-feedback> --project-path <the-project-path-created-by-metagpt>`


## metagpt Options [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#metagpt-options)
By using the following parameters, it is possible to iterate continuously on the exists project generated by MetaGPT.
CLI Parameter Name| Value Type| Optional/Required| Description| Usage  
---|---|---|---|---  
`--project-path`| TEXT| Optional| Specify the directory path of the old version project created by metagpt to fulfill the incremental requirements.| metagpt "BUG_FEEDBACK_XXX" --project-path "YOUR_PROJECT_FULL_PATH"metagpt "INCREMENT_REQUIREMENTS" --project-path "YOUR_PROJECT_FULL_PATH"  
`--project-name`| TEXT| Optional| Unique project name, such as 'game_2048'.| metagpt "NEW_REQUIREMENTS" --project-name "YOUR_PROJECT_NAME"  
For more command options, check `metagpt --help`.
## Demo [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#demo)
Using the example of Snake, we will demonstrate how to incrementally carry out software iterations.
### Create a new Snake game project. [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#create-a-new-snake-game-project)
We use the following command parameters to create a Snake software project with gpt-4-turbo.
shell```
metagpt"Write a cli snake game based on pygame"--project-name"snake_game"--run-tests--n-round20--max-auto-summarize-code1
```
```
metagpt"Write a cli snake game based on pygame"--project-name"snake_game"--run-tests--n-round20--max-auto-summarize-code1
```

Among them, the functional descriptions of the relevant parameters are as follows:
CLI Parameter Name| Value| Description  
---|---|---  
--project-name| "snake_game"| The folder name and project name for the newly created software project are "snake_game."  
--run-tests| Enable the unit testing phase.  
--n-round| 20| Perform 20 rounds.  
--max-auto-summarize-code| 1| Fixing issues found in the "summarize code" is allowed for up to 1 time.  
The entire process is as follows: ![part1](https://docs.deepwisdom.ai/main/assets/20231218-165803.3d270aa9.gif)![part2](https://docs.deepwisdom.ai/main/assets/20231218-170323.2c1b0da7.gif)
### Add new requirements to an existing project. [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#add-new-requirements-to-an-existing-project)
We use Azure's GPT-4 and the following parameters to append requirements:
shell```
metagpt"Add a randomly appearing enemy that lasts for 5 seconds. If the enemy is eaten, the game ends. If the enemy is not eaten, it disappears after 5 seconds."--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"--run-tests--n-round20--max-auto-summarize-code1
```
```
metagpt"Add a randomly appearing enemy that lasts for 5 seconds. If the enemy is eaten, the game ends. If the enemy is not eaten, it disappears after 5 seconds."--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"--run-tests--n-round20--max-auto-summarize-code1
```

Among them, the functional descriptions of the relevant parameters are as follows:
CLI Parameter Name| Value| Description  
---|---|---  
--project-path| "/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"| Project path of the existing project.  
--run-tests| Enable the unit testing phase.  
--n-round| 20| Perform 20 rounds.  
--max-auto-summarize-code| 1| Fixing issues found in the "summarize code" is allowed for up to 1 time.  
The entire process is as follows: ![part1](https://docs.deepwisdom.ai/main/assets/20231218-171621.37b9fff6.gif)![part2](https://docs.deepwisdom.ai/main/assets/20231218-172141.138bb745.gif)![part3](https://docs.deepwisdom.ai/main/assets/20231218-172656.8c174f3a.gif)![part4](https://docs.deepwisdom.ai/main/assets/20231218-173215.2b298a81.gif)![part5](https://docs.deepwisdom.ai/main/assets/20231218-173737.1fe13d34.gif) The final LLM request for code generation timed out, but it won't affect the subsequent incremental iterations of the project. Since the new requirements have already accumulated in the PRD, rerunning or adding new requirements will be based on the current PRD.
### Fix Bug [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#fix-bug)
We use Azure's GPT-4 and the following parameters to fix bugs. To demonstrate the bug-fixing process, we directly introduce erroneous code onto the generated code to trigger a bug. Subsequently, we submit the bug information as part of the requirement content, as shown below:
shell```
metagpt"TypeError: draw() takes 1 positional argument but 2 were given"--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"--run-tests--n-round10--max-auto-summarize-code0
```
```
metagpt"TypeError: draw() takes 1 positional argument but 2 were given"--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"--run-tests--n-round10--max-auto-summarize-code0
```

Among them, the functional descriptions of the relevant parameters are as follows:
CLI Parameter Name| Value| Description  
---|---|---  
--project-path| "/Users/iorishinier/github/bak/MetaGPT/workspace/snake_game"| Project path of the existing project.  
--run-tests| Enable the unit testing phase.  
--n-round| 10| Perform 10 rounds.  
--max-auto-summarize-code| 0| Do not fixing issues found in the "summarize code".  
The entire process is as follows: ![part1](https://docs.deepwisdom.ai/main/assets/20231218-213655.dbe59c0f.gif)![part2](https://docs.deepwisdom.ai/main/assets/20231218-214234.f614bbc9.gif)![part3](https://docs.deepwisdom.ai/main/assets/20231218-214752.caca9267.gif)![part4](https://docs.deepwisdom.ai/main/assets/20231218-215313.099d67bf.gif)![part5](https://docs.deepwisdom.ai/main/assets/20231218-215442.4b6265f3.gif)
## Unresolved Issues [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#unresolved-issues)
The Software Company is a laboratory project designed to showcase the capabilities of the MetaGPT framework rather than to address practical issues in production. Therefore, MetaGPT Software Company does not support the input of new requirements of the following nature:
  1. Requirements related to the architecture, such as how to write setup.py or requirements.txt.
  2. Specifying that a particular function should perform a specific operation.


The reasons for this are as follows:
  1. Such "requirements" are essentially constraints or instructions. Unlike true requirements, they specify functionality for certain modules within the system rather than overall system functionality.
  2. MetaGPT Software Company simplifies software development process into requirements to class views and sequence diagrams, which are then directly translated into source code. Design requirements for internal modules of the system, such as those mentioned above, lack a clear implementation process and are therefore discarded.


## Edit Project Files [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#edit-project-files)
You can add new requirements by directly editing the project files generated by the Software Company. After making the necessary modifications to the relevant files, initiate a new round of incremental iteration using the `metagpt` command. Below is an explanation of the folder structure generated by the Software Company. Files to be used during the project iteration should be placed in the `docs` directory.
Path| Editable| Description  
---|---|---  
.dependencies.json| No| Store explicit dependency relationships among files.  
docs/requirement.txt| No| Store the newly added requirements for this iteration. During the project handling process, the contents inside will be split and merged into `docs/prds/`. Please modify this file using the metagpt command.  
docs/bugfix.txt| No| Store bug feedback information for this round.During iterations, convert bug feedback into input for requirements; do not directly modify this file.  
docs/prds| Yes| The final breakdown of project requirements.  
docs/system_designs| Yes| The ultimate system design for the project.  
docs/tasks| Yes| The coding tasks for the project.  
docs/code_summaries| Yes| The review outcomes for the entire codebase.  
resources/competitive_analysis| No| Competitor analysis  
resources/data_api_design| No| Classes view files  
resources/seq_flow| No| Sequence view files  
resources/system_design| No| System design files  
resources/prd| No| PRD files  
resources/api_spec_and_tasks| No| Task files for coding  
tmp| No| Intermediate files generated during the project handling process. These files will not be archived by git.  
<workspace>| Yes| Project source code directory  
tests| Yes| Unit test code  
test_outputs| No| Results of unit test execution  
## More Demos [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#more-demos)
### Flappy Bird Game [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#flappy-bird-game)
  * #### New Project [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#new-project)


Create a new flappy bird Game project with the command below using gpt-4-turbo:
shell```
metagpt"write a flappy bird game without any obstacles"--project-name"flappy_bird"--run-tests--n-round20--max-auto-summarize-code0
```
```
metagpt"write a flappy bird game without any obstacles"--project-name"flappy_bird"--run-tests--n-round20--max-auto-summarize-code0
```

  * #### Fix bug [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#fix-bug-1)


Fix bug using azure gpt-4:
shell```
metagpt"for event in pygame.event.get(): pygame.error: video system not initialized"--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/flappy_bird"--run-tests--n-round20--max-auto-summarize-code1
```
```
metagpt"for event in pygame.event.get(): pygame.error: video system not initialized"--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/flappy_bird"--run-tests--n-round20--max-auto-summarize-code1
```

We can see that game.py is continuously refactored through code review: ![img](https://docs.deepwisdom.ai/main/assets/9ada7f82adfe4d63b45c9558cd986a7f.0026d3e9.png)![img](https://docs.deepwisdom.ai/main/assets/34d41fcfc20043c39bd0cb778fe42dec.571a6f3a.png)
Besides, summarization code action also points out issues that were not found through code review, causing a new round of refactoring for game.py:
text```
{
  "game.py": "Implement the 'jump' method in the 'Bird' class, the 'generate_obstacles' method in the 'Game' class, and improve the collision detection in the 'check_collision_and_update_score' method. Also, use the 'obstacles' attribute in the 'Game' class to store and manage the obstacles, and update the score in real-time in the 'draw' method.",
  "main.py": "No changes needed."
}
```
```
{
  "game.py": "Implement the 'jump' method in the 'Bird' class, the 'generate_obstacles' method in the 'Game' class, and improve the collision detection in the 'check_collision_and_update_score' method. Also, use the 'obstacles' attribute in the 'Game' class to store and manage the obstacles, and update the score in real-time in the 'draw' method.",
  "main.py": "No changes needed."
}
```

![img](https://docs.deepwisdom.ai/main/assets/54f1b80bdd874984b07184f4d834f326.a0ca1138.png) Summarization code action can lead to unlimited and continuous refactoring of source code. However, we limit it to 1 round by setting `--max-auto-summarize-code 1` to showcase the capabilities of summarization code action.
The following are available project versions:
![img](https://docs.deepwisdom.ai/main/assets/29dcde2670534c8694ec5341fc3141a0.53e82388.png)
  * #### Add New Requirements [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html#add-new-requirements)
We'll add obstacles to the game using azure gpt-4. Before adding the new requirements:


![img](https://docs.deepwisdom.ai/main/assets/6d081360d0c74bb48794b9f8a2b0a23e.8fb2f4b3.png)![img](https://docs.deepwisdom.ai/main/assets/2dd5080ad50749feb3e241ab5f679b9a.f3562acc.png)
shell```
metagpt"Add moving obstacles, move randomly, last for 5 seconds."--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/flappy_bird"--run-tests--n-round20--max-auto-summarize-code1
```
```
metagpt"Add moving obstacles, move randomly, last for 5 seconds."--project-path"/Users/iorishinier/github/bak/MetaGPT/workspace/flappy_bird"--run-tests--n-round20--max-auto-summarize-code1
```

Here is the new class view and the sequence view:
![img](https://docs.deepwisdom.ai/main/assets/671f926264284392bf81796a645f93d1.abb3dbda.png)![img](https://docs.deepwisdom.ai/main/assets/e1c769d21ad94138baf831a48e741da9.a14e9f81.png)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/incremental_development.md)
[Previous pageAgent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Next pageSerialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/guideline/code_contribution.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/guideline/code_contribution.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Code Contribution [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#code-contribution)
## Development Environment Setup [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#development-environment-setup)
You can refer to [Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html) to configure the development environment
## Basic Guideline [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#basic-guideline)
  * Searching to see if there are similar issues or PRs to avoid duplicate creation
  * Describing the issue or submitted PR as clearly as possible
  * Performing comprehensive code formatting and unit test checks before writing code, and submit only after passing
  * Checking for updated dependency package versions to avoid installation failures in the new environment


## PR [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#pr)
Please use [fork and pull request](https://docs.github.com/en/get-started/exploring-projects-on-github/contributing-to-a-project) to submit code.
Generally, **LGTM** needs to be reviewed by 2 contributors before it is allowed to be merged. After the PR with more than 10 lines of code is passed, the submitter can join the `MetaGPT-dev` group. In general, small amounts of code are encouraged to be submitted more often. Large PR submissions often require more context understanding and review time, and it would be better if you could provide more supporting materials.
PR generally includes bug fixes and new feature submissions, and both need to be submitted as per the following process specifications as possible.
### Before submission [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#before-submission)
Please ensure that the unit tests involved in the modification of existing code or the new unit tests corresponding to the new code can pass the self-test. Please ensure that the submitted code has a complete `Google Docstring` description and procedural functional comments.
We use `pytest` for single testing. Before submitting, install `pytest` related dependency packages, update the unit test for the modified code or add a unit test for the newly added code. Generally, we expect the unit test file name to start with `test_` and be created using the same module path. For example: `role.py` implements role abstraction and is placed under `metagpt/roles/`. The corresponding unit test file should be `tests/metagpt/roles/test_role.py`. In particular, for unit tests that require network access, such as `provider`, we recommend using the `mock` method to add it, which will not be affected by the network. A reference example is: `tests/metagpt/provider/test_qianfan_api.py`.
bash```
pip3installpytest==7.2.2pytest-mock==3.11.1pytest-asyncio==0.21.1# Recommended
pytesttests# Example, execute all test files
pytesttests/metagpt/environment/*# Example, execute multiple test files
pytesttests/metagpt/environment/test_base_env.py# Example, execute a single test file
```
```
pip3installpytest==7.2.2pytest-mock==3.11.1pytest-asyncio==0.21.1# Recommended
pytesttests# Example, execute all test files
pytesttests/metagpt/environment/*# Example, execute multiple test files
pytesttests/metagpt/environment/test_base_env.py# Example, execute a single test file
```

Before committing, install `pre-commit` and use it to check the code specification to meet the submission conditions. The specific usage is as follows:
bash```
pip3installpre-commit
pre-commitinstall
pre-commitrun--all-files# or check individual files pre-commit run --files metagpt/roles/*
```
```
pip3installpre-commit
pre-commitinstall
pre-commitrun--all-files# or check individual files pre-commit run --files metagpt/roles/*
```

After execution, it will automatically modify the local code according to the specification requirements, and you need to `git add` again.
### When submitting [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#when-submitting)
We have added the `PULL_REQUEST_TEMPLATE` template by default. Necessary information needs to be added when submitting, including:
  * Features, Features added by the current PR (explaining necessity) or problems fixed. Required.
  * Features Docs, Document description of the document station corresponding to the function. Optional.
  * Influence, The possible impact of this feature. Optional.
  * Result, (partial) single test execution result, sample execution result file or log (if any), etc. Required.
  * Other, other materials that can be supplemented. Optional.


The above information can facilitate code reviewers to understand the context of the PR and speed up PR review.
### After submission [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#after-submission)
After submission, the github-ci workflow will be used by default to check code specifications and unit tests. If it does not pass, it will be sent back for modification until it passes. Therefore, in order to improve efficiency, `pre-commit` inspection and single test result review are done offline.
## Issue [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html#issue)
Issue content can include bug feedback, description of new features expected to be supported, in-depth optimization of supported functions, etc.
Among them, new features, optimization items, etc. can be described based on your demand scenarios to provide sufficient context for further communication between the two parties. After submission, community staff will contact you and we will update it to ROADMAP after communication and confirmation. We have added the `request_new_features` template by default. When submitting, you need to add the necessary information, including:
  * Feature description, Feature description. Required.
  * Your Feature, Describes the motivation, idea, reference source or implementation process for implementing the Feature. Optional.


For bug feedback, in order to have enough problem context for analysis, the `show_me_the_bug` template is added by default. Necessary information needs to be added when submitting, including:
  * Bug description, Bug description. Required.
  * Bug solved method, Bug solution (if you know how to solve it). Optional.
  * Environment information, includes the large model type configuration used, system version, python version, and some dependent package versions of the error stack. Required.
  * Screenshots or logs, On-site screenshots or logs corresponding to the bug. Required.


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/contribution/guideline/code_contribution.md)
[Previous pageContribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Next pageDoc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/quickstart.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/quickstart.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Quickstart [​](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#quickstart)
## Installation [​](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#installation)
```
pip install metagpt
```
```
pip install metagpt
```

Available installation methods can be found in the [Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html) section
## Configuration [​](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#configuration)
Variations for setting up LLM API (OpenAI, Azure, Anthropic, etc.) and other components can be found in the [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html) section.
For formal usage of MetaGPT, using a config2.yaml. See [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html).
## Develop software with a one-line requirement [​](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#develop-software-with-a-one-line-requirement)
> Note:
> Below is a breakdown of the [software startup example](https://github.com/geekan/MetaGPT/blob/main/metagpt/software_company.py). If you install MetaGPT with the git clone approach, simply run
> ```
metagpt "write a cli blackjack game"
```
```
metagpt "write a cli blackjack game"
```

> Now, let's get started! We will create a team of agents to write software based on one line of our instruction.
First, import off-the-shelf roles
python```
import asyncio
from metagpt.roles import (
  Architect,
  Engineer,
  ProductManager,
  ProjectManager,
)
from metagpt.team import Team
```
```
import asyncio
from metagpt.roles import (
  Architect,
  Engineer,
  ProductManager,
  ProjectManager,
)
from metagpt.team import Team
```

Next, initiate the team, equip it with agents, set their budget, and provide our requirement of writing a small game
python```
asyncdefstartup(idea: str):
  company = Team()
  company.hire(
    [
      ProductManager(),
      Architect(),
      ProjectManager(),
      Engineer(),
    ]
  )
  company.invest(investment=3.0)
  company.run_project(idea=idea)
await company.run(n_round=5)
```
```
asyncdefstartup(idea: str):
  company = Team()
  company.hire(
    [
      ProductManager(),
      Architect(),
      ProjectManager(),
      Engineer(),
    ]
  )
  company.invest(investment=3.0)
  company.run_project(idea=idea)
await company.run(n_round=5)
```

Finally, run it and get the code!
python```
await startup(idea="write a cli blackjack game")
```
```
await startup(idea="write a cli blackjack game")
```

You may expect similar outputs below:
**Try this example on the spot:**
[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/drive/1xlReN7EIpKzgZO1If29-zsw7QNUUfEbx?usp=sharing)
## Usage [​](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html#usage)
```
 Usage: metagpt [OPTIONS] [IDEA]
 Start a new project.
╭─ Arguments ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│  idea   [IDEA] Your innovative idea, such as 'Create a 2048 game.' [default: None]                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Options ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --investment                   FLOAT  Dollar amount to invest in the AI company. [default: 3.0]                                                  │
│ --n-round                    INTEGER Number of rounds for the simulation. [default: 5]                                                      │
│ --code-review        --no-code-review       Whether to use code review. [default: code-review]                                                      │
│ --run-tests         --no-run-tests        Whether to enable QA for adding & running tests. [default: no-run-tests]                                           │
│ --implement         --no-implement        Enable or disable code implementation. [default: implement]                                                 │
│ --project-name                  TEXT   Unique project name, such as 'game_2048'.                                                          │
│ --inc            --no-inc           Incremental mode. Use it to coop with existing repo. [default: no-inc]                                            │
│ --project-path                  TEXT   Specify the directory path of the old version project to fulfill the incremental requirements.                                │
│ --reqa-file                   TEXT   Specify the source file name for rewriting the quality assurance code.                                            │
│ --max-auto-summarize-code            INTEGER The maximum number of times the 'SummarizeCode' action is automatically invoked, with -1 indicating unlimited. This parameter is used for debugging the   │
│                              workflow.                                                                          │
│                              [default: 0]                                                                         │
│ --recover-path                  TEXT   recover the project from existing serialized storage [default: None]                                             │
│ --init-config        --no-init-config       Initialize the configuration file for MetaGPT. [default: no-init-config]                                           │
│ --help                          Show this message and exit.                                                                 │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
```
```
 Usage: metagpt [OPTIONS] [IDEA]
 Start a new project.
╭─ Arguments ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│  idea   [IDEA] Your innovative idea, such as 'Create a 2048 game.' [default: None]                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Options ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --investment                   FLOAT  Dollar amount to invest in the AI company. [default: 3.0]                                                  │
│ --n-round                    INTEGER Number of rounds for the simulation. [default: 5]                                                      │
│ --code-review        --no-code-review       Whether to use code review. [default: code-review]                                                      │
│ --run-tests         --no-run-tests        Whether to enable QA for adding & running tests. [default: no-run-tests]                                           │
│ --implement         --no-implement        Enable or disable code implementation. [default: implement]                                                 │
│ --project-name                  TEXT   Unique project name, such as 'game_2048'.                                                          │
│ --inc            --no-inc           Incremental mode. Use it to coop with existing repo. [default: no-inc]                                            │
│ --project-path                  TEXT   Specify the directory path of the old version project to fulfill the incremental requirements.                                │
│ --reqa-file                   TEXT   Specify the source file name for rewriting the quality assurance code.                                            │
│ --max-auto-summarize-code            INTEGER The maximum number of times the 'SummarizeCode' action is automatically invoked, with -1 indicating unlimited. This parameter is used for debugging the   │
│                              workflow.                                                                          │
│                              [default: 0]                                                                         │
│ --recover-path                  TEXT   recover the project from existing serialized storage [default: None]                                             │
│ --init-config        --no-init-config       Initialize the configuration file for MetaGPT. [default: no-init-config]                                           │
│ --help                          Show this message and exit.                                                                 │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/quickstart.md)
[Previous pageIntroduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Next pageInstallation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Configuration [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html#configuration)
## [LLM API Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html#llm-api-configuration)
## [Configuration for tools (Optional)](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html#configuration-for-tools-optional)
## Others (Optional) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html#others-optional)
Check [config2.example.yaml](https://github.com/geekan/MetaGPT/blob/main/config/config2.example.yaml) and [config2.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/config2.py) for more details.
yaml```
enable_longterm_memory: false
prompt_schema: json#json or markdown
```
```
enable_longterm_memory: false
prompt_schema: json#json or markdown
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/configuration.md)
[Previous pageInstallation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
[Next pageLLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/contribution_guidelines.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/contribution_guidelines.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Contribution Guide [​](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html#contribution-guide)
MetaGPT welcomes developers to actively participate in open source community building, including but not limited to:
  * Implement functions and submit PR according to the feature description of `docs/ROADMAP.md`.
  * Additional implementations besides ROADMAP (including new features, bug fixes, agent scenario cases, code annotations, etc.) and PR submissions.
  * The documentation site includes supplementary submissions of tutorials, usage samples, advanced guides and other documents.
  * Submit issues such as new features expected to be implemented by MetaGPT, bugs discovered during use, and exchanges on implemented applications.


However you choose to contribute, please note and respect our [Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
## Contribution [​](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html#contribution)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html) Help us get more feedback, implement your ideas or improve our code
[Document Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html) Help us enrich the details of the documentation site so that developers can get started faster
## Reference Reviewers [​](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html#reference-reviewers)
When you submit a PR or Issue that requires the assistance of a specific reviewer, you can invite the major contributors of the corresponding module. Of course, you are also welcome to designate other contributors to assist.
MetaGPT Module| Github Username  
---|---  
Overall| [geekan](https://github.com/geekan), [better629](https://github.com/better629), [garylin2099](https://github.com/garylin2099), [stellaHSR](https://github.com/stellaHSR)  
Environment| [better629](https://github.com/better629), [garylin2099](https://github.com/garylin2099)  
Communication Mechanism| [iorisa](https://github.com/iorisa), [garylin2099](https://github.com/garylin2099)  
Memory| [better629](https://github.com/better629), [seehi](https://github.com/seehi)  
Provider| [better629](https://github.com/better629), [shenchucheng](https://github.com/shenchucheng)  
Tool| [shenchucheng](https://github.com/shenchucheng), [iorisa](https://github.com/iorisa)  
RAG| [seehi](https://github.com/seehi), [better629](https://github.com/better629)  
Incremental Development| [iorisa](https://github.com/iorisa), [garylin2099](https://github.com/garylin2099)  
DataInterpreter| [garylin2099](https://github.com/garylin2099), [stellaHSR](https://github.com/stellaHSR)  
Ext| [better629](https://github.com/better629), [stellaHSR](https://github.com/stellaHSR), [garylin2099](https://github.com/garylin2099)  
## FAQ [​](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html#faq)
Refer to [Contribution FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/contribution/contribution_guidelines.md)
[Previous pageCode of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
[Next pageCode Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/agent_communication.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/agent_communication.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Agent Communication [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html#agent-communication)
The exchange of messages between agents is facilitated through attributes provided in the `Message` class and the `publish_message` capability provided by the `Environment`.
  * When an agent acts as a message sender, it only needs to provide the source information of the message. The source of the message corresponds to the `sent_from` and `cause_by` attributes of the `Message`.
  * When an agent acts as a message consumer, it needs to subscribe to the corresponding messages. The subscription labels for messages correspond to the `cause_by` attribute of the `Message`.
  * The `Environment` object is responsible for broadcasting messages to the various agents according to their subscription requirements.


python```
classMessage(BaseModel):
id: str= Field(default="", validate_default=True) # According to Section 2.2.3.1.1 of RFC 135
  content: str
  instruct_content: Optional[BaseModel] = Field(default=None, validate_default=True)
  role: str="user"# system / user / assistant
  cause_by: str= Field(default="", validate_default=True)
  sent_from: str= Field(default="", validate_default=True)
  send_to: set[str] = Field(default={MESSAGE_ROUTE_TO_ALL}, validate_default=True)
```
```
classMessage(BaseModel):
id: str= Field(default="", validate_default=True) # According to Section 2.2.3.1.1 of RFC 135
  content: str
  instruct_content: Optional[BaseModel] = Field(default=None, validate_default=True)
  role: str="user"# system / user / assistant
  cause_by: str= Field(default="", validate_default=True)
  sent_from: str= Field(default="", validate_default=True)
  send_to: set[str] = Field(default={MESSAGE_ROUTE_TO_ALL}, validate_default=True)
```

When planning the message forwarding process between agents, it's essential to first determine the functional boundaries of the agents, similar to designing a function:
  1. What inputs does the agent take? The inputs of the agent determine the value of the `rc.watch` attribute of the agent object.
  2. What outputs does the agent produce? The outputs of the agent determine the parameters of the `Message` output by the agent.
  3. What tasks does the agent need to accomplish? The tasks the agent needs to accomplish determine how many actions the agent has and how the actions transition between states.


Let's illustrate the entire implementation process with a complex interaction example. Suppose we want to implement the following process:
text```
Agent A takes requirements, splits into 10 subtasks.
Agent B is assigned to do 10 sub tasks.
Agent C is assigned to compile 10 subtasks.
Agent D reviews the compilation, provides feedback to Agent B.
Steps 2-4 need to happen 3-4 times. How do I architect my system such that this happens the right way? I can do the dirty code to tape it together but wanted to know the right way.
```
```
Agent A takes requirements, splits into 10 subtasks.
Agent B is assigned to do 10 sub tasks.
Agent C is assigned to compile 10 subtasks.
Agent D reviews the compilation, provides feedback to Agent B.
Steps 2-4 need to happen 3-4 times. How do I architect my system such that this happens the right way? I can do the dirty code to tape it together but wanted to know the right way.
```

Analyzing this scenario, we can conclude:
  1. Agent A is responsible for splitting the requirements into 10 subtasks.
  2. For each subtask, Agents B, C, and D process as follows:
```
Message(subtask) -> AgentB.run -> AgentC.run -> AgentD.run -> AgentB.run -> AgentC.run -> AgentD.run -> ...
```
```
Message(subtask) -> AgentB.run -> AgentC.run -> AgentD.run -> AgentB.run -> AgentC.run -> AgentD.run -> ...
```

Meaning: 
    1. Agent B's input is either a subtask from Agent A or the result of Agent D's execution.
    2. Agent C's input is the output of Agent B.
    3. Agent D's input is the output of Agent C.


Therefore, the actions of Agent A need to split the user requirements into 10 subtasks and send them to Agent B:
  1. Step 1: Enable Agent A to receive requirements sent by the user:


python```
classAgentA(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentAAction]) # Since the agent has only one action, there's no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({UserRequirement}) # `UserRequirement` is the default value for the `cause_by` attribute in `Message`.
```
```
classAgentA(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentAAction]) # Since the agent has only one action, there's no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({UserRequirement}) # `UserRequirement` is the default value for the `cause_by` attribute in `Message`.
```

  1. Step 2: In `AgentAAction`, split the user requirements into 10 subtasks:


python```
classAgentAAction(Aciton):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> List[str]:
    subtasks: List[str] = split_10_subtask(with_messages[0].content)
return subtasks
```
```
classAgentAAction(Aciton):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> List[str]:
    subtasks: List[str] = split_10_subtask(with_messages[0].content)
return subtasks
```

  1. Step 3: In `_act` method of Agent A, run `AgentAAction` and then send the results to Agent B:


python```
classAgentA(Role):
asyncdef_act(self) -> Message:
    subtasks =awaitself.rc.todo.run(self.rc.history)
for i in subtasks:
self.rc.env.publish_message(Message(content=i, cause_by=AgentAAction)) # Send 10 messages of this type; Agent B subscribes to this type of message
return Message(content="dummy message", send_to=MESSAGE_ROUTE_TO_NONE) # Since the messages have been sent, returning an empty message is sufficient.
```
```
classAgentA(Role):
asyncdef_act(self) -> Message:
    subtasks =awaitself.rc.todo.run(self.rc.history)
for i in subtasks:
self.rc.env.publish_message(Message(content=i, cause_by=AgentAAction)) # Send 10 messages of this type; Agent B subscribes to this type of message
return Message(content="dummy message", send_to=MESSAGE_ROUTE_TO_NONE) # Since the messages have been sent, returning an empty message is sufficient.
```

The message sending and receiving logic for Agent B, Agent C, and Agent D is similar:
  1. Agent B subscribes to messages with `cause_by` attributes being `AgentAAction` and `AgentDAction`.
  2. Agent C subscribes to messages with `cause_by` attribute being `AgentBAction`.
  3. Agent D subscribes to messages with `cause_by` attribute being `AgentCAction`.


python```
classAgentBAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentB(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentBAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentAAction, AgentDAction})
```
```
classAgentBAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentB(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentBAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentAAction, AgentDAction})
```

python```
classAgentCAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentC(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentCAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentBAction})
```
```
classAgentCAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentC(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentCAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentBAction})
```

python```
classAgentDAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentD(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentDAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentCAction})
```
```
classAgentDAction(Action):
asyncdefrun(self, with_messages:List[Message]=None, **kwargs) -> Message:
...# Fill the results into the `Message`.
classAgentD(Role):
def__init__(self, **kwargs) -> None:
super().__init__(**kwargs)
# Initialize actions specific to the Architect role
self.set_actions([AgentDAction]) # Since the agent only has one type of action, there is no need to modify the `Role._think` function.
# Subscribe to messages
self._watch({AgentCAction})
```

Now that all agents are defined, they can be placed in the same `Environment` object, and the user message can be sent to Agent A to initiate the workflow:
python```
  context = Context() # Load config2.yaml
  env = Environment(context=context)
  env.add_roles([AgentA(), AgentB(), AgentC(), AgentD()])
  env.publish_message(Message(content='New user requirements', send_to=AgentA)) # Send the user's message to Agent A to start the process.
whilenot env.is_idle: # `env.is_idle` becomes True only when all agents have no new messages to process.
await env.run()
```
```
  context = Context() # Load config2.yaml
  env = Environment(context=context)
  env.add_roles([AgentA(), AgentB(), AgentC(), AgentD()])
  env.publish_message(Message(content='New user requirements', send_to=AgentA)) # Send the user's message to Agent A to start the process.
whilenot env.is_idle: # `env.is_idle` becomes True only when all agents have no new messages to process.
await env.run()
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/agent_communication.md)
[Previous pageStanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
[Next pageIncremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/werewolf.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/werewolf.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Werewolf Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#werewolf-environment)
[Code](https://github.com/geekan/MetaGPT/tree/main/metagpt/environment/werewolf)
Werewolf Environment provides a strategy desktop game environment that allows you to customize the number of werewolves and villager when initializing the environment. When the game is executed, through the built-in prompt words of different players, non-moderator characters can conduct private chats at dusk and public speeches at dawn under the guidance of the moderator. Based on the results of different speeches and votes, the environment automatically calculates the eliminated player, the player's skill usage and survival status, whether the game is over, the winner and the reason, etc.
## Space Definition [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#space-definition)
### Observation Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#observation-space)
Definition:
python```
from gymnasium import spaces
from metagpt.environment.werewolf.const importSTEP_INSTRUCTIONS
space = spaces.Dict(
   {
"game_setup": spaces.Text(256),
"step_idx": spaces.Discrete(len(STEP_INSTRUCTIONS)),
"living_players": spaces.Tuple(
       (spaces.Text(16), spaces.Text(16))
     ), # TODO should be tuple of variable length
"werewolf_players": spaces.Tuple(
       (spaces.Text(16), spaces.Text(16))
     ), # TODO should be tuple of variable length
"player_hunted": spaces.Text(16),
"player_current_dead": spaces.Tuple((spaces.Text(16))), # TODO should be tuple of variable length
"witch_poison_left": spaces.Discrete(2),
"witch_antidote_left": spaces.Discrete(2),
"winner": spaces.Text(16),
"win_reason": spaces.Text(64),
   }
 )
```
```
from gymnasium import spaces
from metagpt.environment.werewolf.const importSTEP_INSTRUCTIONS
space = spaces.Dict(
   {
"game_setup": spaces.Text(256),
"step_idx": spaces.Discrete(len(STEP_INSTRUCTIONS)),
"living_players": spaces.Tuple(
       (spaces.Text(16), spaces.Text(16))
     ), # TODO should be tuple of variable length
"werewolf_players": spaces.Tuple(
       (spaces.Text(16), spaces.Text(16))
     ), # TODO should be tuple of variable length
"player_hunted": spaces.Text(16),
"player_current_dead": spaces.Tuple((spaces.Text(16))), # TODO should be tuple of variable length
"witch_poison_left": spaces.Discrete(2),
"witch_antidote_left": spaces.Discrete(2),
"winner": spaces.Text(16),
"win_reason": spaces.Text(64),
   }
 )
```

Description of observation
Field| Description| Value Description  
---|---|---  
game_setup| Game initial information text string| Maximum length 16  
step_idx| The current number of steps in each round of the game| Value range `[0-18]`  
living_players| List of currently living player names| Multiple players possible  
werewolf_players| Werewolf player name list| Multiple werewolves available. There is currently no isolation, and the list can be obtained directly from the environment, to be optimized  
player_hunted| The name of the player currently eliminated by werewolves| 0 or 1 player  
player_current_dead| List of currently eliminated player names| Multiple players possible  
witch_poison_left| The number of poisons left by the witch| 0 or 1  
witch_antidote_left| The number of antidote left by the witch| 0 or 1  
winner| The Winner| Maximum length 16  
win_reason| Winning reason| Maximum length 64  
Space sample example:
```
OrderedDict([('game_setup', 'Game setup: xxx'), ('living_players', ('Player1', 'Player2')), ('player_current_dead', ('Player5', 'Player6')), (' player_hunted', 'Player5'), ('step_idx', 7), ('werewolf_players', ('Player3', 'Player4')), ('win_reason', 'xx'), ('winner', 'werewolf' ), ('witch_antidote_left', 1), ('witch_poison_left', 1)])
```
```
OrderedDict([('game_setup', 'Game setup: xxx'), ('living_players', ('Player1', 'Player2')), ('player_current_dead', ('Player5', 'Player6')), (' player_hunted', 'Player5'), ('step_idx', 7), ('werewolf_players', ('Player3', 'Player4')), ('win_reason', 'xx'), ('winner', 'werewolf' ), ('witch_antidote_left', 1), ('witch_poison_left', 1)])
```

### Action Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#action-space)
Definition:
python```
from gymnasium import spaces
from metagpt.environment.werewolf.env_space import EnvActionType
space = spaces.Dict(
   {
"action_type": spaces.Discrete(len(EnvActionType)),
"player_name": spaces.Text(16), # the player to do the action
"target_player_name": spaces.Text(16), # the target player who take the action
   }
)
```
```
from gymnasium import spaces
from metagpt.environment.werewolf.env_space import EnvActionType
space = spaces.Dict(
   {
"action_type": spaces.Discrete(len(EnvActionType)),
"player_name": spaces.Text(16), # the player to do the action
"target_player_name": spaces.Text(16), # the target player who take the action
   }
)
```

Description of action
Field| Description| Value Description  
---|---|---  
action_type| Action type| Different actions correspond to different IntEnum values, followed by None, WOLF_KILL, VOTE_KILL, WITCH_POISON, WITCH_SAVE, GUARD_PROTECT, PROGRESS_STEP  
player_name| The initiator of the action| Maximum length 16  
target_player_name| The target party of the action| Maximum length 16  
Space sample example:
```
OrderedDict([('action_type', 5), ('player_name', 'Player1'), ('target_player_name', 'Player2')])
```
```
OrderedDict([('action_type', 5), ('player_name', 'Player1'), ('target_player_name', 'Player2')])
```

## Usage [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html#usage)
python```
from metagpt.environment.werewolf.werewolf_ext_env import WerewolfExtEnv
from metagpt.environment.werewolf.env_space import (
   EnvAction,
   EnvActionType
)
env = WerewolfExtEnv()
obs, _ = env.reset() # Get complete observation values
action = EnvAction(action_type=EnvActionType.VOTE_KILL, player_name="Player1", target_player_name="Player2") #Initialize a set of action values, `Player1` will kill `Player2`
obs, _, _, _, info = env.step(action) # Execute the action and get a new complete observation
```
```
from metagpt.environment.werewolf.werewolf_ext_env import WerewolfExtEnv
from metagpt.environment.werewolf.env_space import (
   EnvAction,
   EnvActionType
)
env = WerewolfExtEnv()
obs, _ = env.reset() # Get complete observation values
action = EnvAction(action_type=EnvActionType.VOTE_KILL, player_name="Player1", target_player_name="Player2") #Initialize a set of action values, `Player1` will kill `Player2`
obs, _, _, _, info = env.step(action) # Execute the action and get a new complete observation
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/werewolf.md)
[Previous pageEnvironment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Next pageStanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/llm_api_configuration.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/llm_api_configuration.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# LLM API Configuration [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#llm-api-configuration)
After completing the installation, follow these steps to configure the LLM API, using the OpenAI API as an example. This process is similar for other LLM APIs.
## Steps [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#steps)
  1. **Initialize Configuration** :
     * Execute `metagpt --init-config` to generate `~/.metagpt/config2.yaml`. Edit this file with your configurations to avoid sharing your API key by accident.
  2. **Edit Configuration** :
     * Update `~/.metagpt/config2.yaml` according to the [example](https://github.com/geekan/MetaGPT/blob/main/config/config2.example.yaml) and [configuration code](https://github.com/geekan/MetaGPT/blob/main/metagpt/config2.py):


yaml```
llm:
api_type: 'openai'# or azure / ollama / groq etc. Check LLMType for more options
model: 'gpt-4-turbo'# or gpt-3.5-turbo
base_url: 'https://api.openai.com/v1'# or forward url / other llm url
api_key: 'YOUR_API_KEY'
# proxy: 'YOUR_LLM_PROXY_IF_NEEDED' # Optional. If you want to use a proxy, set it here.
# pricing_plan: 'YOUR_PRICING_PLAN' # Optional. If your pricing plan uses a different name than the `model`.
```
```
llm:
api_type: 'openai'# or azure / ollama / groq etc. Check LLMType for more options
model: 'gpt-4-turbo'# or gpt-3.5-turbo
base_url: 'https://api.openai.com/v1'# or forward url / other llm url
api_key: 'YOUR_API_KEY'
# proxy: 'YOUR_LLM_PROXY_IF_NEEDED' # Optional. If you want to use a proxy, set it here.
# pricing_plan: 'YOUR_PRICING_PLAN' # Optional. If your pricing plan uses a different name than the `model`.
```

> **Note** : Configuration priority is `~/.metagpt/config2.yaml > config/config2.yaml`.
If you want to use the openai o1 series, you need to configure the following additional information
yaml```
llm:
api_type: 'openai'
api_key: 'sk-...'
model: 'o1-mini'
use_system_prompt: false
stream: false
```
```
llm:
api_type: 'openai'
api_key: 'sk-...'
model: 'o1-mini'
use_system_prompt: false
stream: false
```

It can be used to initialize LLM. Due to some restrictions on the use of o1 series, problems can be reported to us in time.
With these steps, your setup is complete. For starting with MetaGPT, check out the [Quickstart guide](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/quickstart.html) or our [Tutorials](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html).
MetaGPT supports a range of LLM models. Configure your model API keys as needed.
## Anthropic / Claude API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#anthropic-claude-api)
supported model list, see `claude-*` inside `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'claude'# or anthropic
base_url: 'https://api.anthropic.com'
api_key: 'YOUR_API_KEY'
model: 'claude-3-opus-20240229'
```
```
llm:
api_type: 'claude'# or anthropic
base_url: 'https://api.anthropic.com'
api_key: 'YOUR_API_KEY'
model: 'claude-3-opus-20240229'
```

## Zhipu API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#zhipu-api)
Check [llm_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/llm_config.py)
yaml```
llm:
api_type: 'zhipuai'
api_key: 'YOUR_API_KEY'
model: 'MODEL_NAME'
```
```
llm:
api_type: 'zhipuai'
api_key: 'YOUR_API_KEY'
model: 'MODEL_NAME'
```

## iFlytek's large model Spark API : [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#iflytek-s-large-model-spark-api)
Check [llm_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/llm_config.py)
Normally YOU only need to modify `SPARK_APPID` `SPARK_API_SECRET` `SPARK_API_KEY`
yaml```
llm:
api_type: 'spark'
app_id: 'YOUR_APPID'
api_key: 'YOUR_API_KEY'
api_secret: 'YOUR_API_SECRET'
domain: 'generalv3'
base_url: 'wss://spark-api.xf-yun.com/v3.1/chat'
```
```
llm:
api_type: 'spark'
app_id: 'YOUR_APPID'
api_key: 'YOUR_API_KEY'
api_secret: 'YOUR_API_SECRET'
domain: 'generalv3'
base_url: 'wss://spark-api.xf-yun.com/v3.1/chat'
```

## Azure OpenAI API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#azure-openai-api)
Check [llm_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/llm_config.py)
yaml```
llm:
api_type: 'azure'
base_url: 'YOUR_AZURE_BASE_URL'
api_key: 'YOUR_API_KEY'
api_version: 'YOUR_API_VERSION'# such as '2024-03-01-preview'
model: 'YOUR_MODEL_NAME'# or YOUR_DEPLOYMENT_NAME
```
```
llm:
api_type: 'azure'
base_url: 'YOUR_AZURE_BASE_URL'
api_key: 'YOUR_API_KEY'
api_version: 'YOUR_API_VERSION'# such as '2024-03-01-preview'
model: 'YOUR_MODEL_NAME'# or YOUR_DEPLOYMENT_NAME
```

## Google Gemini [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#google-gemini)
supports default model `gemini-pro`
yaml```
llm:
api_type: 'gemini'
api_key: 'YOUR_API_KEY'
model: 'gemini-pro'
```
```
llm:
api_type: 'gemini'
api_key: 'YOUR_API_KEY'
model: 'gemini-pro'
```

## Baidu QianFan API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#baidu-qianfan-api)
support `ERNIE-*` models and some popular open-source models, see `metagpt/utils/token_counter.py`
### Use security authentication AK/SK to authenticate [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#use-security-authentication-ak-sk-to-authenticate)
use `model`
yaml```
llm:
api_type: qianfan
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'YOUR_MODEL_NAME like ERNIE-Bot-turbo'
```
```
llm:
api_type: qianfan
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'YOUR_MODEL_NAME like ERNIE-Bot-turbo'
```

use `endpoint`
yaml```
llm:
api_type: qianfan
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
endpoint: 'YOUR_ENDPOINT_NAME like ernie_speed'
```
```
llm:
api_type: qianfan
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
endpoint: 'YOUR_ENDPOINT_NAME like ernie_speed'
```

### Use application AK/SK to authenticate (Not Recommended) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#use-application-ak-sk-to-authenticate-not-recommended)
use `model`
yaml```
llm:
api_type: qianfan
api_key: 'YOUR_API_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'YOUR_MODEL_NAME like ERNIE-Bot-turbo'
```
```
llm:
api_type: qianfan
api_key: 'YOUR_API_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'YOUR_MODEL_NAME like ERNIE-Bot-turbo'
```

use `endpoint` for parts of self-deployed models
yaml```
llm:
api_type: qianfan
api_key: 'YOUR_API_KEY'
secret_key: 'YOUR_SECRET_KEY'
endpoint: 'YOUR_ENDPOINT_NAME like ernie_speed'
```
```
llm:
api_type: qianfan
api_key: 'YOUR_API_KEY'
secret_key: 'YOUR_SECRET_KEY'
endpoint: 'YOUR_ENDPOINT_NAME like ernie_speed'
```

## Aliyun DashScope API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#aliyun-dashscope-api)
support `qwen-*` models and some popular open-source models, see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: dashscope
api_key: 'YOUR_API_KEY'
model: 'YOUR_ENDPOINT_NAME like qwen-max'
```
```
llm:
api_type: dashscope
api_key: 'YOUR_API_KEY'
model: 'YOUR_ENDPOINT_NAME like qwen-max'
```

## Moonshot / Kimi API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#moonshot-kimi-api)
support `moonshot-v1-*`models，see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'moonshot'
base_url: 'https://api.moonshot.cn/v1'
api_key: 'YOUR_API_KEY'
model: 'moonshot-v1-8k'
```
```
llm:
api_type: 'moonshot'
base_url: 'https://api.moonshot.cn/v1'
api_key: 'YOUR_API_KEY'
model: 'moonshot-v1-8k'
```

## Fireworks API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#fireworks-api)
support `Fireworks`models，see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'fireworks'
base_url: 'https://api.fireworks.ai/inference/v1'
api_key: 'YOUR_API_KEY'
model: 'accounts/fireworks/models/llama-v2-13b-chat'
```
```
llm:
api_type: 'fireworks'
base_url: 'https://api.fireworks.ai/inference/v1'
api_key: 'YOUR_API_KEY'
model: 'accounts/fireworks/models/llama-v2-13b-chat'
```

## Mistral API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#mistral-api)
support `Mistral`models，see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'mistral'
base_url: 'https://api.mistral.ai/v1'
api_key: 'YOUR_API_KEY'
model: 'open-mixtral-8x7b'
```
```
llm:
api_type: 'mistral'
base_url: 'https://api.mistral.ai/v1'
api_key: 'YOUR_API_KEY'
model: 'open-mixtral-8x7b'
```

## Yi / lingyiwanwu API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#yi-lingyiwanwu-api)
support `yi-34b-*`models，see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'yi'
base_url: 'https://api.lingyiwanwu.com/v1'
api_key: 'YOUR_API_KEY'
model: 'yi-34b-chat-0205'
max_token: 4000
```
```
llm:
api_type: 'yi'
base_url: 'https://api.lingyiwanwu.com/v1'
api_key: 'YOUR_API_KEY'
model: 'yi-34b-chat-0205'
max_token: 4000
```

## ollama API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#ollama-api)
yaml```
llm:
api_type: 'ollama'
base_url: 'http://127.0.0.1:11434/api'
model: 'llama2'
```
```
llm:
api_type: 'ollama'
base_url: 'http://127.0.0.1:11434/api'
model: 'llama2'
```

## WizardLM-2-8x22b via [openrouter](https://openrouter.ai/) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#wizardlm-2-8x22b-via-openrouter)
If you need [wizardlm-2-8x22b](https://openrouter.ai/models/microsoft/wizardlm-2-8x22b), you can use the following configuration:
yaml```
llm:
api_type: 'openrouter'
base_url: 'https://openrouter.ai/api/v1'
api_key: 'sk...'
model: microsoft/wizardlm-2-8x22b
```
```
llm:
api_type: 'openrouter'
base_url: 'https://openrouter.ai/api/v1'
api_key: 'sk...'
model: microsoft/wizardlm-2-8x22b
```

## Llama-3-70b instruct via [openrouter](https://openrouter.ai/) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#llama-3-70b-instruct-via-openrouter)
If you need [llama-3-70b instruct](https://openrouter.ai/models/meta-llama/llama-3-70b-instruct:nitro), you can use the following configuration:
yaml```
llm:
api_type: 'openrouter'
base_url: 'https://openrouter.ai/api/v1'
api_key: 'sk...'
model: meta-llama/llama-3-70b-instruct:nitro
```
```
llm:
api_type: 'openrouter'
base_url: 'https://openrouter.ai/api/v1'
api_key: 'sk...'
model: meta-llama/llama-3-70b-instruct:nitro
```

## Llama-3-70b via [groq](https://groq.com/) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#llama-3-70b-via-groq)
If you need llama3-70b, you can use the following configuration:
yaml```
llm:
# Visit https://console.groq.com/keys to create api key
base_url: 'https://api.groq.com/openai/v1'
api_key: 'YOUR_API_KEY'
model: 'llama3-70b-8192'# llama3-8b-8192，llama3-70b-8192，llama2-70b-4096 ，mixtral-8x7b-32768，gemma-7b-it
```
```
llm:
# Visit https://console.groq.com/keys to create api key
base_url: 'https://api.groq.com/openai/v1'
api_key: 'YOUR_API_KEY'
model: 'llama3-70b-8192'# llama3-8b-8192，llama3-70b-8192，llama2-70b-4096 ，mixtral-8x7b-32768，gemma-7b-it
```

## [Amazon Bedrock API](https://aws.amazon.com/bedrock) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#amazon-bedrock-api)
access key and secret key from [Amazon IAM](https://aws.amazon.com/iam)
see `metagpt/provider/bedrock/utils.py` for all available models
yaml```
llm:
api_type: 'bedrock'
model: 'meta.llama3-70b-instruct-v1:0'
region_name: 'REGION'# e.g. us-east-1
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
```
```
llm:
api_type: 'bedrock'
model: 'meta.llama3-70b-instruct-v1:0'
region_name: 'REGION'# e.g. us-east-1
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
```

## Ark API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html#ark-api)
support `doubao-*`models，see `metagpt/utils/token_counter.py`
yaml```
llm:
api_type: 'ark'
base_url: 'https://ark.cn-beijing.volces.com/api/v3'
api_key: 'YOUR_API_KEY'
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'doubao-lite'
```
```
llm:
api_type: 'ark'
base_url: 'https://ark.cn-beijing.volces.com/api/v3'
api_key: 'YOUR_API_KEY'
access_key: 'YOUR_ACCESS_KEY'
secret_key: 'YOUR_SECRET_KEY'
model: 'doubao-lite'
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/configuration/llm_api_configuration.md)
[Previous pageConfiguration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[Next pageTools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/installation.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/installation.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Installation [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#installation)
We provide several ways for installing MetaGPT, please take the one most convenient to your case.
## Support system and version [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#support-system-and-version)
System Version| Python Version| Supported  
---|---|---  
macOS 13.x| python 3.9| Yes  
Windows 11| python 3.9| Yes  
Ubuntu 22.04| python 3.9| Yes  
Ensure that Python 3.9+ is installed on your system. You can check this by using:
```
python3 --version
```
```
python3 --version
```

## Install stable version [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-stable-version)
Recommended for most users. You can import MetaGPT like any python package, employ teams of diverse built-in roles, and build your own agents to serve all kinds of application.
```
pip install metagpt
```
```
pip install metagpt
```

### Install submodules [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-submodules)
  * RAG, `pip install 'metagpt[rag]'`. Purpose: Used in systems based on RAG (Retrieval-Augmented Generation), combining multiple LLM (Large Language Model) and vector storage technologies.
  * OCR, `pip install 'metagpt[ocr]'`. Purpose: For optical character recognition (OCR) tasks, identifying and extracting text from images.
  * search-ddg, `pip install 'metagpt[search-ddg]'`. Purpose: Used in the DuckDuckGo search function.
  * search-google, `pip install 'metagpt[search-google]'`. Purpose: Used to interact with Google APIs (such as the Google Search API).
  * selenium, `pip install 'metagpt[selenium]'`. Purpose: Used to automate browser operations and web scraping.


## Install latest development version [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-latest-development-version)
Best for experiencing newest features.
```
pip install git+https://github.com/geekan/MetaGPT
```
```
pip install git+https://github.com/geekan/MetaGPT
```

## Install in development mode [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-in-development-mode)
Recommended for developers and researchers looking to customize the framework for their unique requirements, experiment on new ideas, or create sophisticated functionalities like a novel memory mechanism using the framework.
```
git clone https://github.com/geekan/MetaGPT.git
cd ./MetaGPT
pip install -e .
```
```
git clone https://github.com/geekan/MetaGPT.git
cd ./MetaGPT
pip install -e .
```

### Install submodules [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-submodules-1)
  * RAG, `pip install -e .[rag]`


## Install with Docker [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#install-with-docker)
### Use default MetaGPT image [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#use-default-metagpt-image)
bash```
# Step 1: Download metagpt official image and prepare config2.yaml
dockerpullmetagpt/metagpt:latest
mkdir-p/opt/metagpt/{config,workspace}
dockerrun--rmmetagpt/metagpt:latestcat/app/metagpt/config/config2.yaml>/opt/metagpt/config/config2.yaml
vim/opt/metagpt/config/config2.yaml# Change the config
# Step 2: Run metagpt demo with container
dockerrun--rm\
--privileged\
-v/opt/metagpt/config/config2.yaml:/app/metagpt/config/config2.yaml\
-v/opt/metagpt/workspace:/app/metagpt/workspace\
metagpt/metagpt:latest\
metagpt"Write a cli snake game"
# You can also start a container and execute commands in it
dockerrun--namemetagpt-d\
--privileged\
-v/opt/metagpt/config/config2.yaml:/app/metagpt/config/config2.yaml\
-v/opt/metagpt/workspace:/app/metagpt/workspace\
metagpt/metagpt:latest
dockerexec-itmetagpt/bin/bash
$metagpt"Write a cli snake game"
```
```
# Step 1: Download metagpt official image and prepare config2.yaml
dockerpullmetagpt/metagpt:latest
mkdir-p/opt/metagpt/{config,workspace}
dockerrun--rmmetagpt/metagpt:latestcat/app/metagpt/config/config2.yaml>/opt/metagpt/config/config2.yaml
vim/opt/metagpt/config/config2.yaml# Change the config
# Step 2: Run metagpt demo with container
dockerrun--rm\
--privileged\
-v/opt/metagpt/config/config2.yaml:/app/metagpt/config/config2.yaml\
-v/opt/metagpt/workspace:/app/metagpt/workspace\
metagpt/metagpt:latest\
metagpt"Write a cli snake game"
# You can also start a container and execute commands in it
dockerrun--namemetagpt-d\
--privileged\
-v/opt/metagpt/config/config2.yaml:/app/metagpt/config/config2.yaml\
-v/opt/metagpt/workspace:/app/metagpt/workspace\
metagpt/metagpt:latest
dockerexec-itmetagpt/bin/bash
$metagpt"Write a cli snake game"
```

The command `docker run ...` do the following things:
  * Run in privileged mode to have permission to run the browser
  * Map host configure file `/opt/metagpt/config/config2.yaml` to container `/app/metagpt/config/config2.yaml`
  * Map host directory `/opt/metagpt/workspace` to container `/app/metagpt/workspace`
  * Execute the demo command `metagpt "Write a cli snake game"`


### Build image by yourself [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#build-image-by-yourself)
bash```
# You can also build metagpt image by yourself.
gitclonehttps://github.com/geekan/MetaGPT.git
cdMetaGPT && dockerbuild-tmetagpt:custom.
```
```
# You can also build metagpt image by yourself.
gitclonehttps://github.com/geekan/MetaGPT.git
cdMetaGPT && dockerbuild-tmetagpt:custom.
```

## Installation for full features [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#installation-for-full-features)
This is relevant if you want to generate diagrams such as quadrant chart, system designs, sequence flow, etc. They are provided as intermediate results if you run the [software startup example](https://github.com/geekan/MetaGPT/blob/main/metagpt/software_company.py).
### Mermaid [​](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html#mermaid)
Mermaid is a language that uses text to generate flowcharts, pie charts, Gantt charts, and other diagrams. MetaGPT uses Mermaid to create flowcharts, sequence diagrams, Gantt charts, etc. Mermaid is implemented in Node.js, and direct installation can be somewhat costly. MetaGPT provides the following Mermaid Engines to convert Mermaid text into diagrams:
**nodejs** Install mermaid-cli directly through nodejs. MetaGPT calls the command line to turn Mermaid text into diagrams. You need to install nodejs first, then use npm to install:
```
npm install -g @mermaid-js/mermaid-cli
```
```
npm install -g @mermaid-js/mermaid-cli
```

The official method provided by mermaid, installed via nodejs, thus it basically supports all platforms and also supports output in png/svg/pdf formats. However, it requires the installation of nodejs and mermaid-cli, which comes with certain costs for installation and use, and also requires a browser environment at runtime.
**pyppeteer** Mermaid can also be called via JavaScript, and pyppeteer is a web automation testing tool implemented in Python that can execute JavaScript scripts. Therefore, using pyppeteer + mermaidjs can convert Mermaid text into diagrams. You can install pyppeteer with pip:
```
pip install pyppeteer
```
```
pip install pyppeteer
```

This method is relatively simple to install, has no platform restrictions, and supports output in png/svg/pdf formats. However, it requires a dependency on a browser, so you need to install a browser first and set the browser path when running:
```
export PUPPETEER_EXECUTABLE_PATH=/path/to/your/chromium # or edge or chrome
```
```
export PUPPETEER_EXECUTABLE_PATH=/path/to/your/chromium # or edge or chrome
```

(Note: pyppeteer is no longer maintained)
**playwright** As pyppeteer is no longer maintained, it recommends using playwright-python as a replacement. The principle of running mermaid with playwright is the same as with pyppeteer. However, playwright-python requires the installation of its own provided browser and cannot use an already installed browser. The official only supports the following platforms:
  * Windows 10+, Windows Server 2016+ or Windows Subsystem for Linux (WSL).
  * MacOS 12 Monterey or MacOS 13 Ventura.
  * Debian 11, Debian 12, Ubuntu 20.04 or Ubuntu 22.04.


```
pip install playwright
playwright install --with-deps chromium
```
```
pip install playwright
playwright install --with-deps chromium
```

**ink** The mermaid.ink project provides the function to convert Mermaid text into diagrams online, refer to <https://mermaid.ink/>. Thus, any internet-connected device can use ink method without the need for a local browser or other dependencies. However, this method only supports generating png and svg, not pdf, and requires access to <https://mermaid.ink/> during operation, so it may be affected by the network and other factors, possibly impacting stability.
Comparison
Mermaid Engine| nodejs| pyppeteer| playwright| ink  
---|---|---|---|---  
Installation Simplicity| ★| ★★★| ★★| ★★★★★  
Platform Compatibility| ★★★★★| ★★★★| ★★★| ★★★★★  
Generates png| ✔| ✔| ✔| ✔  
Generates svg| ✔| ✔| ✔| ✔  
Generates pdf| ✔| ✔| ✔| ✘  
Offline Running| ✔| ✔| ✔| ✘  
  * **Installation Simplicity** : The more stars, the lower the difficulty of installation.


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/installation.md)
[Previous pageQuickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Next pageConfiguration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/stanford_town.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/stanford_town.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Stanford Town Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#stanford-town-environment)
[Code](https://github.com/geekan/MetaGPT/tree/main/metagpt/environment/stanford_town)
The Stanford Town Environment internally defines a grid map including target information such as town buildings, and uses the `frontend_server` of [generative_agents](https://github.com/joonspk-research/generative_agents) to display the town environment. and character behavior output. Generally, the grid map and the description of building information at different locations on the map can be directly observed from the environment. The set of actions that can be operated in the environment are: adding event at the specified location on the map, deleting qualified event from the specified location on the map, resetting event from the specified location on the map, etc.
## Space Definition [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#space-definition)
### Observation Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#observation-space)
Since the definition of complete observations is complicated, it is not used in actual use. The pile observation space is used here, and it is not expanded here.
### Action Space [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#action-space)
Definition:
python```
from gymnasium import spaces
import numpy as np
from metagpt.environment.stanford_town.env_space import EnvActionType
maze_shape = (140, 100)
space = spaces.Dict(
  {
"action_type": spaces.Discrete(len(EnvActionType)),
"coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([maze_shape[0], maze_shape[1]], dtype=np.int64)
    ), # coord of the tile
"subject": spaces.Text(256), # the first element of an tile event
"event": spaces.Tuple(
      (spaces.Text(256), spaces.Text(256), spaces.Text(256), spaces.Text(256))
    ), # event is a tuple of four str
  }
)
```
```
from gymnasium import spaces
import numpy as np
from metagpt.environment.stanford_town.env_space import EnvActionType
maze_shape = (140, 100)
space = spaces.Dict(
  {
"action_type": spaces.Discrete(len(EnvActionType)),
"coord": spaces.Box(
      np.array([0, 0], dtype=np.int64), np.array([maze_shape[0], maze_shape[1]], dtype=np.int64)
    ), # coord of the tile
"subject": spaces.Text(256), # the first element of an tile event
"event": spaces.Tuple(
      (spaces.Text(256), spaces.Text(256), spaces.Text(256), spaces.Text(256))
    ), # event is a tuple of four str
  }
)
```

Description of action
Field| Description| Value Description  
---|---|---  
action_type| Action type| Different actions correspond to different IntEnum values, followed by None, ADD_TILE_EVENT, RM_TILE_EVENT, TURN_TILE_EVENT_IDLE, RM_TITLE_SUB_EVENT  
coord| Coordinates on the map, `ndarray` with size (2,)| The minimum value of the first value is 0, and the maximum value is the map width. The minimum value of the second value is 0, and the maximum value is the map height.  
subject| The subject of the event, text type| Maximum length 256  
event| event, tuple type containing 4 texts| maximum length of each element 256  
Space sample example:
```
OrderedDict([('action_type', 1), ('coord', array([102.284424, 142.02187 ], dtype=float32)), ('event', ('cW6PUEhxxxKp9xitcEjNm', '9noCkVjHexxxd0D45p37q', '5r4ICxxxnqkoyGXv6', 'PK7YxxxOOsJq93')), ('subject', 'kTvgixxx4C4')])
```
```
OrderedDict([('action_type', 1), ('coord', array([102.284424, 142.02187 ], dtype=float32)), ('event', ('cW6PUEhxxxKp9xitcEjNm', '9noCkVjHexxxd0D45p37q', '5r4ICxxxnqkoyGXv6', 'PK7YxxxOOsJq93')), ('subject', 'kTvgixxx4C4')])
```

## Usage [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html#usage)
python```
from metagpt.environment.stanford_town.stanford_town_ext_env import StanfordTownExtEnv
from metagpt.environment.stanford_town.env_space import (
  EnvAction,
  EnvActionType,
  EnvObsParams,
  EnvObsType,
)
env = StanfordTownExtEnv(maze_asset_path="/path/to/maze_asset_path")
obs, _ = env.reset() # get full observation
nearby_tiles = env.observe(
  EnvObsParams(
obs_type=EnvObsType.TILE_NBR, coord=(72, 14), vision_radius=10
  )
) # get partial observation，other grid information inside the vision of coordinate(200, 300)
action = EnvAction(action_type=EnvActionType.RM_TITLE_SUB_EVENT, coord=(72, 14), subject="Isabella Rodriguez") # define a action, delete the event which subject is `Isabella Rodriguez` from particular coordinate.
obs, _, _, _, info = env.step(action) # execute action and get new observation
```
```
from metagpt.environment.stanford_town.stanford_town_ext_env import StanfordTownExtEnv
from metagpt.environment.stanford_town.env_space import (
  EnvAction,
  EnvActionType,
  EnvObsParams,
  EnvObsType,
)
env = StanfordTownExtEnv(maze_asset_path="/path/to/maze_asset_path")
obs, _ = env.reset() # get full observation
nearby_tiles = env.observe(
  EnvObsParams(
obs_type=EnvObsType.TILE_NBR, coord=(72, 14), vision_radius=10
  )
) # get partial observation，other grid information inside the vision of coordinate(200, 300)
action = EnvAction(action_type=EnvActionType.RM_TITLE_SUB_EVENT, coord=(72, 14), subject="Isabella Rodriguez") # define a action, delete the event which subject is `Isabella Rodriguez` from particular coordinate.
obs, _, _, _, info = env.step(action) # execute action and get new observation
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/stanford_town.md)
[Previous pageWerewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Next pageAndroid](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/faq.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/faq.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/faq.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/faq.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# MetaGPT-Index / FAQ [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#metagpt-index-faq)
> Our vision is to [extend human life](https://github.com/geekan/HowToLiveLonger) and [reduce working hours](https://github.com/geekan/MetaGPT/).
### Convenient Link for Sharing this Document: [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#convenient-link-for-sharing-this-document)
```
https://docs.deepwisdom.ai/main/en/guide/faq.html
https://docs.deepwisdom.ai/main/zh/guide/faq.html
```
```
https://docs.deepwisdom.ai/main/en/guide/faq.html
https://docs.deepwisdom.ai/main/zh/guide/faq.html
```

### Link [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#link)
  1. Code：<https://github.com/geekan/MetaGPT>
  2. Roadmap：<https://github.com/geekan/MetaGPT/blob/main/docs/ROADMAP.md>
  3. EN 
    1. Demo Video: [MetaGPT: Multi-Agent AI Programming Framework](https://www.youtube.com/watch?v=8RNzxZBTW8M)
    2. Tutorial: [MetaGPT: Deploy POWERFUL Autonomous Ai Agents BETTER Than SUPERAGI!](https://www.youtube.com/watch?v=q16Gi9pTG_M&t=659s)
    3. Author's thoughts video(EN): [MetaGPT Matthew Berman](https://youtu.be/uT75J_KG_aY?si=EgbfQNAwD8F5Y1Ak)
  4. CN 
    1. Demo Video: [MetaGPT：一行代码搭建你的虚拟公司_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1NP411C7GW/?spm_id_from=333.999.0.0&vd_source=735773c218b47da1b4bd1b98a33c5c77)
    2. Tutorial: [一个提示词写游戏 Flappy bird, 比AutoGPT强10倍的MetaGPT，最接近AGI的AI项目](https://youtu.be/Bp95b8yIH5c)
    3. Author's thoughts video(CN): [MetaGPT作者深度解析直播回放_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1Ru411V7XL/?spm_id_from=333.337.search-card.all.click)


### How to become a contributor? [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#how-to-become-a-contributor)
  1. Choose a task from the Roadmap (or you can propose one). By submitting a PR, you can become a contributor and join the dev team.
  2. Current contributors come from backgrounds including ByteDance AI Lab/JingDong/Didi/Xiaohongshu, Tencent/Baidu/MSRA/TikTok/BloomGPT Infra/Bilibili/CUHK/HKUST/CMU/UCB


### Chief Evangelist (Monthly Rotation) [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#chief-evangelist-monthly-rotation)
MetaGPT Community - The position of Chief Evangelist rotates on a monthly basis. The primary responsibilities include:
  1. Maintaining community FAQ documents, announcements, and Github resources/READMEs.
  2. Responding to, answering, and distributing community questions within an average of 30 minutes, including on platforms like Github Issues, Discord and WeChat.
  3. Upholding a community atmosphere that is enthusiastic, genuine, and friendly.
  4. Encouraging everyone to become contributors and participate in projects that are closely related to achieving AGI (Artificial General Intelligence).
  5. (Optional) Organizing small-scale events, such as hackathons.


### FAQ [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#faq)
  1. **Experience of Generated Repo Code** :
     * Some examples are available at [MetaGPT Release v0.1.0](https://github.com/geekan/MetaGPT/releases/tag/v0.1.0).
  2. **Code Truncation / Parsing Failure** :
     * Check if the length is too long and consider using gpt-3.5-turbo-16k or another model with a higher token limit.
  3. **Success Rate** :
     * No quantified statistics yet, but GPT-4 has a noticeably higher code generation success rate than gpt-3.5-turbo.
  4. **Does it Support Incremental or Differential Updates (e.g., Resuming Half-Completed Tasks)?**
     * Supported. Refer to [Incremental Development Guide](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html) for details.
  5. **Does it Support Loading Existing Code?**
     * Not currently on the roadmap, but there are plans for it, which will take some time to implement.
  6. **Does it Support Multiple Programming and Natural Languages?**
     * On the [ROADMAP](https://github.com/geekan/MetaGPT/blob/main/docs/ROADMAP.md); already supported.
  7. **How Can I Join the Contributor Team?**
     * Submit a PR to become part of the contributor team. The current work focus is outlined on the [ROADMAP](https://github.com/geekan/MetaGPT/blob/main/docs/ROADMAP.md).
  8. **PRD Stuck / Unreachable / Connection Interrupted** :
     * The official `OPENAI_API_BASE` endpoint is `https://api.openai.com/v1`.
     * If the official address is unreachable in your environment (verify with curl), consider using a reverse proxy like [openai-forward](https://github.com/beidongjiedeguang/openai-forward), setting `OPENAI_API_BASE` to `https://api.openai-forward.com/v1`.
     * Alternatively, configure `OPENAI_PROXY` to access the official `OPENAI_API_BASE` through a local proxy if needed. Be sure to disable `OPENAI_PROXY` if it's not required. Correct configuration example: `OPENAI_API_BASE: "https://api.openai.com/v1"`.
     * For persistent network issues, try a cloud environment, such as the [MetaGPT Quick Experience](https://deepwisdom.feishu.cn/wiki/Q8ycw6J9tiNXdHk66MRcIN8Pnlg).
  9. **Are You Using Chi or Similar Services?** :
     * These services can occasionally encounter errors, with a higher error rate around 3.5k–4k tokens in GPT-4.
  10. **What Does Max Token Mean?** :
     * This sets OpenAI’s maximum response length; exceeding the max token count will truncate the response.
  11. **How to Change Investment Amount** :
     * Use the `--investment` parameter.
     * Run `python {startup.py} --help` to view all available commands.
  12. **Which Python Version is Stable?**
     * Python 3.9 and 3.10.
  13. **GPT-4 Not Available, Model Not Found (`The model gpt-4 does not exist`)**:
     * OpenAI requires a minimum $1 spend to access GPT-4. Running a small workload with gpt-3.5-turbo (after free credits are used) generally unlocks GPT-4 access.
  14. **Can It Generate Code for Unseen Games?**
     * Per the README, it can produce recommendations or code for complex systems, such as a recommendation system similar to TikTok's. The prompt would be “Write a recommendation system like TikTok’s.”
  15. **Common Error Scenarios** :
     * Code over 500 lines: Some functions may be left unimplemented.
     * Database usage: Initialization often has errors because the SQL DB setup is missing in the code.
     * For large codebases, hallucinations may occur, like calling nonexistent APIs.
  16. **SD Skill Instructions** :
     * The SD skill is a callable tool, instantiated via `SDEngine` (see `metagpt/tools/libs/sd_engine.py`).
     * Deployment details are in [stable-diffusion-webui](https://github.com/AUTOMATIC1111/stable-diffusion-webui), for instance: 
       1. `python webui.py --enable-insecure-extension-access --port xxx --no-gradio-queue --nowebui`
       2. Access the SD service after model loading (~1 min). Set `sd_url` to `IP:Port` (default 7860).
  17. **File in Use Error during Installation** :
     * Delete the file and retry, or manually run `pip install -r requirements.txt`.
  18. **Origin of MetaGPT’s Name?** :
     * After several rounds with GPT-4, it suggested and rated “MetaGPT” highly.
  19. **Is there a More Step-by-Step Installation Guide?**
     * YouTube: [MetaGPT Overview](https://youtu.be/Bp95b8yIH5c)
  20. **openai.error.RateLimitError** :
     * If free credits remain, set `RPM` to 3 or lower.
     * Consider upgrading to a paid plan if credits are depleted.
  21. **What Does`borg` in `n_borg` Mean?**:
     * [Borg Civilization on Wikipedia](https://en.wikipedia.org/wiki/Borg) - refers to a collective or hive mind.
  22. **How to Use the Claude API?** :
     * Configure `llm` in `config2.yaml`. Details: [Claude API Configuration](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/llm_api_configuration.html#anthropic-claude-api).
  23. **Does it Support Llama2/3?**
     * Llama2 was tested the first day it was released. Llama2 requires an extended context window for optimal project output (at least 8k tokens). See [Llama-3 Configuration](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/llm_api_configuration.html#llama-3-70b-instruct-via-openrouter).
  24. **SyntaxError in`mermaid-cli`** :
     * Update Node.js to version 14.x or later.
     * Use `npm install -g n` followed by `n stable` to install the stable Node version (v18.x).
  25. **Tenacity Retry Error (`RetryError`)**:
     * Refer to FAQ #8 for network solutions.
     * Use model `gpt-3.5-turbo-16k` or `gpt-4`. See [GitHub Issue #117](https://github.com/geekan/MetaGPT/issues/117).


### Reference [​](https://docs.deepwisdom.ai/main/en/guide/faq.html#reference)
  1. [MetaGPT-Dev-SOP](https://deepwisdom.feishu.cn/wiki/EI91wZdcciqmtvknZMkcgHGgn3e)
  2. [0723-MetaGPT walkthrough](https://deepwisdom.feishu.cn/docx/A0abdLlZJogwsRxjkQucifVinsd)


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/faq.md)
[Previous pageAPI](https://docs.deepwisdom.ai/main/en/guide/api.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/agent_101.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/agent_101.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Agent 101 [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#agent-101)
After this tutorial, you will be able to:
  1. Use off-the-shelf agents
  2. Develop your first agent capable of one or more actions


## Use off-the-shelf agents [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#use-off-the-shelf-agents)
Import any role, initialize it, run it with a starting message, done!
python```
import asyncio
from metagpt.context import Context
from metagpt.roles.product_manager import ProductManager
from metagpt.logs import logger
asyncdefmain():
  msg ="Write a PRD for a snake game"
  context = Context() # The session Context object is explicitly created, and the Role object implicitly shares it automatically with its own Action object
  role = ProductManager(context=context)
while msg:
    msg =await role.run(msg)
    logger.info(str(msg))
if__name__=='__main__':
  asyncio.run(main())
```
```
import asyncio
from metagpt.context import Context
from metagpt.roles.product_manager import ProductManager
from metagpt.logs import logger
asyncdefmain():
  msg ="Write a PRD for a snake game"
  context = Context() # The session Context object is explicitly created, and the Role object implicitly shares it automatically with its own Action object
  role = ProductManager(context=context)
while msg:
    msg =await role.run(msg)
    logger.info(str(msg))
if__name__=='__main__':
  asyncio.run(main())
```

## Develop your first agent [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#develop-your-first-agent)
Consider agent from a practical usage viewpoint, what are the bare essentials for an agent to be of any utility to us? From MetaGPT's standpoint, if an agent can execute certain actions (whether powered by LLM or otherwise), it holds some degree of usefulness. Put it simply, we define what actions our agent is expected to possess, equip the agent with these capabilities, and we have a basic useful agent! MetaGPT provides high flexibility to define your own action and your own agent. We will walk you through this in the rest of this section.
### Flowchart of one agent run cycle [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#flowchart-of-one-agent-run-cycle)
![flowchart](https://docs.deepwisdom.ai/main/image/guide/tutorials/agent_run_flowchart.png)
## Agent with a single action [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#agent-with-a-single-action)
Suppose we want to write codes in natural language and want an agent to do this for us. Let's call this agent SimpleCoder and we need two steps to put it to work:
  1. Define a write code action
  2. Equip the agent with the action


### Define Actions [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#define-actions)
In MetaGPT, class `Action` is the logical abstraction for an action. Users may use LLM to empower this Action by simply invoking the self._aask function, which will make LLM api call under the hood.
In our scenario, we define a `SimpleWriteCode` subclassed `Action`. Although it primarily acts as a wrapper around a prompt and the LLM call, we believe that this `Action` abstraction is more intuitive. In downstream and higher-level tasks, using it as a whole feels more natural than crafting a prompt and invoking the LLM separately, especially when viewed within the framework of an agent.
python```
import re
from metagpt.actions import Action
classSimpleWriteCode(Action):
PROMPT_TEMPLATE: str="""
  Write a python function that can {instruction} and provide two runnnable test cases.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteCode"
asyncdefrun(self, instruction: str):
    prompt =self.PROMPT_TEMPLATE.format(instruction=instruction)
    rsp =awaitself._aask(prompt)
    code_text = SimpleWriteCode.parse_code(rsp)
return code_text
@staticmethod
defparse_code(rsp):
    pattern =r"```python(.*)```"
    match = re.search(pattern, rsp, re.DOTALL)
    code_text = match.group(1) if match else rsp
return code_text
```
```
import re
from metagpt.actions import Action
classSimpleWriteCode(Action):
PROMPT_TEMPLATE: str="""
  Write a python function that can {instruction} and provide two runnnable test cases.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteCode"
asyncdefrun(self, instruction: str):
    prompt =self.PROMPT_TEMPLATE.format(instruction=instruction)
    rsp =awaitself._aask(prompt)
    code_text = SimpleWriteCode.parse_code(rsp)
return code_text
@staticmethod
defparse_code(rsp):
    pattern =r"```python(.*)```"
    match = re.search(pattern, rsp, re.DOTALL)
    code_text = match.group(1) if match else rsp
return code_text
```

### Define Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#define-role)
In MetaGPT, class `Role` is the logical abstraction for an agent. A `Role` can perform certain `Action`, possess memory, think and act in various strategies. Essentially, it acts as a cohesive entity that binds all these components together. For now, let's just focus on an action-performing agent, and see how we can define a simplest `Role`.
In the example, we create a `SimpleCoder` who can write code based on a human's natural language description. The steps are:
  1. We give it a name and profile
  2. We equip it with the expected action `SimpleWriteCode` with the `self._init_action` function
  3. We overwrite the `_act` function, which is where the agent's specific acting logic goes in. We write that our agent will retrieve human instruction from latest memory, run equipped action, which MetaGPT makes it as the todo (`self.rc.todo`) under the hood, and finally return a complete message


python```
from metagpt.roles import Role
classSimpleCoder(Role):
  name: str="Alice"
  profile: str="SimpleCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode])
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
    todo =self.rc.todo # todo will be SimpleWriteCode()
    msg =self.get_memories(k=1)[0] # find the most recent messages
    code_text =await todo.run(msg.content)
    msg = Message(content=code_text, role=self.profile, cause_by=type(todo))
return msg
```
```
from metagpt.roles import Role
classSimpleCoder(Role):
  name: str="Alice"
  profile: str="SimpleCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode])
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
    todo =self.rc.todo # todo will be SimpleWriteCode()
    msg =self.get_memories(k=1)[0] # find the most recent messages
    code_text =await todo.run(msg.content)
    msg = Message(content=code_text, role=self.profile, cause_by=type(todo))
return msg
```

Done!
### Run your Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#run-your-role)
Now we can put our agent to work, just initialize it and run it with a starting message
python```
import asyncio
from metagpt.context import Context
asyncdefmain():
  msg ="write a function that calculates the product of a list"
  context = Context()
  role = SimpleCoder(context=context)
  logger.info(msg)
  result =await role.run(msg)
  logger.info(result)
asyncio.run(main())
```
```
import asyncio
from metagpt.context import Context
asyncdefmain():
  msg ="write a function that calculates the product of a list"
  context = Context()
  role = SimpleCoder(context=context)
  logger.info(msg)
  result =await role.run(msg)
  logger.info(result)
asyncio.run(main())
```

## Agent with multiple actions [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#agent-with-multiple-actions)
We saw that an agent is able to perform an action, but if that's all, we don't actually need an agent. By running the action itself, we can get the same result. The power of agent, or the amazing thing of a `Role` abstraction, lies in the combination of actions (and other components like memory, but we will leave them for future sections). By connecting actions we may formulate a workflow, which enables the agent to complete more complicated task.
Suppose now we want not only write code in natural language, but also want the generated code to be executed immediately. An agent with multiple actions can fulfill our needs. Let's call it `RunnableCoder`, a `Role` who writes codes and runs them on the spot. We need two `Action`: `SimpleWriteCode` and `SimpleRunCode`
### Define Actions [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#define-actions-1)
First, define `SimpleWriteCode`. We will reuse the one created above.
Next, define `SimpleRunCode`. As previously mentioned, conceptually, an action can leverage LLM or operate without it. In the case of `SimpleRunCode`, LLM is not involved. We simply initiate a subprocess to run the code and fetch the result. We want to demonstrate that we place no limitation on how an action logic should be structured, users have the full flexibility to design the logic based on their need.
python```
classSimpleRunCode(Action):
  name: str="SimpleRunCode"
asyncdefrun(self, code_text: str):
    result = subprocess.run(["python3", "-c", code_text], capture_output=True, text=True)
    code_result = result.stdout
    logger.info(f"{code_result=}")
return code_result
```
```
classSimpleRunCode(Action):
  name: str="SimpleRunCode"
asyncdefrun(self, code_text: str):
    result = subprocess.run(["python3", "-c", code_text], capture_output=True, text=True)
    code_result = result.stdout
    logger.info(f"{code_result=}")
return code_result
```

### Define Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#define-role-1)
Not that different from defining a single-action agent! Let's map it out:
  1. Initiate all `Action` with `self.set_actions`
  2. Specify how `Role` will choose `Action` each time. We set `react_mode` to be "by_order", which means the `Role` will take its capable `Action`s in order specified in `self.set_actions` (more discussion in [Think and act](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html)). In this case, when the `Role` `_act`s, `self.rc.todo` will be `SimpleWriteCode` first and `SimpleRunCode` next.
  3. Overwrite the `_act` function. The `Role` retrieves messages from human input or action outputs from the last round, feeds the current `Action` (`self.rc.todo`) with the appropriate `Message` content, and finally returns a `Message` composed of the current `Action` output.


python```
classRunnableCoder(Role):
  name: str="Alice"
  profile: str="RunnableCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode, SimpleRunCode])
self._set_react_mode(react_mode="by_order")
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
# By choosing the Action by order under the hood
# todo will be first SimpleWriteCode() then SimpleRunCode()
    todo =self.rc.todo
    msg =self.get_memories(k=1)[0] # find the most k recent messages
    result =await todo.run(msg.content)
    msg = Message(content=result, role=self.profile, cause_by=type(todo))
self.rc.memory.add(msg)
return msg
```
```
classRunnableCoder(Role):
  name: str="Alice"
  profile: str="RunnableCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode, SimpleRunCode])
self._set_react_mode(react_mode="by_order")
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
# By choosing the Action by order under the hood
# todo will be first SimpleWriteCode() then SimpleRunCode()
    todo =self.rc.todo
    msg =self.get_memories(k=1)[0] # find the most k recent messages
    result =await todo.run(msg.content)
    msg = Message(content=result, role=self.profile, cause_by=type(todo))
self.rc.memory.add(msg)
return msg
```

### Run your Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#run-your-role-1)
Now you can put your agent to work, just initialize it and run it with a starting message
python```
import asyncio
from metagpt.context import Context
asyncdefmain():
  msg ="write a function that calculates the product of a list"
  context = Context()
  role = RunnableCoder(context=context)
  logger.info(msg)
  result =await role.run(msg)
  logger.info(result)
asyncio.run(main)
```
```
import asyncio
from metagpt.context import Context
asyncdefmain():
  msg ="write a function that calculates the product of a list"
  context = Context()
  role = RunnableCoder(context=context)
  logger.info(msg)
  result =await role.run(msg)
  logger.info(result)
asyncio.run(main)
```

## Complete script of this tutorial [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html#complete-script-of-this-tutorial)
<https://github.com/geekan/MetaGPT/blob/main/examples/build_customized_agent.py>
Run it with
shell```
python3examples/build_customized_agent.py--msg"write a function that calculates the product of a list"
```
```
python3examples/build_customized_agent.py--msg"write a function that calculates the product of a list"
```

Or try it on Colab
[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/drive/1SF3bJiDjKw6Xwnz2Rf0j8Hc0U4KsSB2L?usp=sharing)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/agent_101.md)
[Previous pageConcepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Next pageMultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/tools.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/get_started/configuration/tools.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Configuration for tools (Optional) [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#configuration-for-tools-optional)
In addition to LLM, we often want agents to use tools. We cover their setup in this section.
## Web searching API [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#web-searching-api)
Check [search_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/search_config.py)
yaml```
## Supported api_type: serpapi/google/serper/ddg
## serper: Visit https://serper.dev/ to get key.
## serpapi: Visit https://serpapi.com/ to get key.
## google: Visit https://console.cloud.google.com/apis/credentials to get key.
## ddg: it is free, no need to get key.
search:
api_type: 'google'# serpapi/google/serper/ddg
api_key: 'YOUR_API_KEY'
cse_id: 'YOUR_CSE_ID'# only for google
params:
engine: google# google/bing/yahoo/baidu/yandex, check https://serpapi.com/bing-search-api for more details
google_domain: 'google.com'
gl: us
hl: en
```
```
## Supported api_type: serpapi/google/serper/ddg
## serper: Visit https://serper.dev/ to get key.
## serpapi: Visit https://serpapi.com/ to get key.
## google: Visit https://console.cloud.google.com/apis/credentials to get key.
## ddg: it is free, no need to get key.
search:
api_type: 'google'# serpapi/google/serper/ddg
api_key: 'YOUR_API_KEY'
cse_id: 'YOUR_CSE_ID'# only for google
params:
engine: google# google/bing/yahoo/baidu/yandex, check https://serpapi.com/bing-search-api for more details
google_domain: 'google.com'
gl: us
hl: en
```

## Web browsing [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#web-browsing)
Check [browser_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/browser_config.py)
yaml```
browser:
engine: 'playwright'# playwright/selenium
# for playwright engine, please check https://playwright.dev/python/docs/api/class-browsertype
# for selenium engine, please check https://www.selenium.dev/documentation/webdriver/browsers
browser_type: 'chrome'# playwright: chromium/firefox/webkit; selenium: chrome/firefox/edge/ie
```
```
browser:
engine: 'playwright'# playwright/selenium
# for playwright engine, please check https://playwright.dev/python/docs/api/class-browsertype
# for selenium engine, please check https://www.selenium.dev/documentation/webdriver/browsers
browser_type: 'chrome'# playwright: chromium/firefox/webkit; selenium: chrome/firefox/edge/ie
```

## Azure TTS [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#azure-tts)
yaml```
### for TTS
azure_tts_subscription_key: 'YOUR_API_KEY'
azure_tts_region: 'eastus'
```
```
### for TTS
azure_tts_subscription_key: 'YOUR_API_KEY'
azure_tts_region: 'eastus'
```

## Mermaid [​](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html#mermaid)
Check [mermaid_config.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/configs/mermaid_config.py)
yaml```
mermaid:
engine: 'nodejs'# nodejs/ink/playwright/pyppeteer
path: 'mmdc'# such as './node_modules/.bin/mmdc'
puppeteer_config: './config/puppeteer-config'# only for nodejs
pyppeteer_path: '/usr/bin/google-chrome-stable'# only for pyppeteer
```
```
mermaid:
engine: 'nodejs'# nodejs/ink/playwright/pyppeteer
path: 'mmdc'# such as './node_modules/.bin/mmdc'
puppeteer_config: './config/puppeteer-config'# only for nodejs
pyppeteer_path: '/usr/bin/google-chrome-stable'# only for pyppeteer
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/get_started/configuration/tools.md)
[Previous pageLLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Next pageConcepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/faq.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/faq.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
## Contribution FAQ [​](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#contribution-faq)
### How to allow maintainers to modify my PR? [​](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#how-to-allow-maintainers-to-modify-my-pr)
Generally, we recommend that reviewers first provide feedback on the PR through comments, and then submitters submit again to iterate and get a qualified PR. In special cases, maintainers can also modify the PR directly to merge it faster.
You can check [Allow edits and access to secrets by maintainers] on the right side of the PR page to allow maintainers to modify your PR directly. If you encounter permission issues, you can refer to [GitHub allows changes to PR](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/allowing-changes-to-a-pull-request-branch-created-from-a-fork)
### Why was my issue or PR closed? [​](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#why-was-my-issue-or-pr-closed)
Generally, there are several situations
  * Issues or PRs have been out of date (30 days) and the creator has not followed up on them
  * Issues have been resolved and no follow-up is required
  * PR content has been implemented in other merged PRs and no need to submit again
  * Content seriously does not conform to the issue or PR creation template format or code of conduct


Generally, we will respond and explain the reason before closing it. The creator can open it again if necessary and is welcome to continue the discussion.
### Do I have to follow the Issue or PR template format to fill in and create it? [​](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#do-i-have-to-follow-the-issue-or-pr-template-format-to-fill-in-and-create-it)
We strongly urge creators to submit according to the corresponding template format, which will help us have a clearer understanding of the issue or PR and help us follow up more efficiently.
If some content in the template is missing, it is acceptable. In general, we expect creators to provide as complete information as possible.
### Why is there no response to my issue or PR? [​](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html#why-is-there-no-response-to-my-issue-or-pr)
We will arrange for the trail engineer to check the new updates of the issue or PR regularly and in a timely manner. However, there may be some delays due to scheduling and complexity issues. We recommend that if you are clear about the modules involved in your issue or PR, you can directly invite the [Reference Reviewer] in the [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html). Furthermore, you can also post the corresponding issue or PR in the discord or WeChat group for discussion.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/contribution/faq.md)
[Previous pageDoc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[Next pageAPI](https://docs.deepwisdom.ai/main/en/guide/api.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/rag_module.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/rag_module.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# RAG Module [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#rag-module)
RAG (Retrieval-Augmented Generation) enhances the ability of Large Language Models (LLMs) to generate responses by referencing external authoritative knowledge bases. This method allows the LLM to access domain-specific knowledge without retraining, improving the relevance, precision, and practicality of the output.
This article focuses on the RAG functions provided by the current MetaGPT:
  1. Data input, supports various file formats (including pdf/docx/md/csv/txt/ppt), Python objects.
  2. Retrieval, supports Faiss/BM25/ChromaDB/ES, and mixed retrieval.
  3. Post-retrieval, supports LLM Rerank/ColbertRerank/CohereRerank/BGERerank/ObjectRerank, reordering the retrieved content to get more accurate data.
  4. Data update, addition of text and Python objects.
  5. Data storage and recovery, vectorization is not required each time.


For more examples, please see [rag_pipeline](https://github.com/geekan/MetaGPT/blob/main/examples/rag/rag_pipeline.py) and [rag_search](https://github.com/geekan/MetaGPT/blob/main/examples/rag/rag_search.py)
## Prepare [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#prepare)
  * Installation


shell```
# from pypi
pipinstallmetagpt[rag]
```
```
# from pypi
pipinstallmetagpt[rag]
```

shell```
# from source code
pipinstall-e.[rag]
```
```
# from source code
pipinstall-e.[rag]
```

> Note：
>   1. Some modules are quite large and use lazy loading, requiring manual installation. For example, to use ColbertRerank, you need to install `llama-index-postprocessor-colbert-rerank`.
> 

  * Set embedding


yaml```
# openai
embedding:
api_type: "openai"
base_url: "YOU_BASE_URL"
api_key: "YOU_API_KEY"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# azure
embedding:
api_type: "azure"
base_url: "YOU_BASE_URL"
api_key: "YOU_API_KEY"
api_version: "YOU_API_VERSION"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# gemini
embedding:
api_type: "gemini"
api_key: "YOU_API_KEY"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# ollama
embedding:
api_type: "ollama"
base_url: "YOU_BASE_URL"
model: "YOU_MODEL"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
```
```
# openai
embedding:
api_type: "openai"
base_url: "YOU_BASE_URL"
api_key: "YOU_API_KEY"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# azure
embedding:
api_type: "azure"
base_url: "YOU_BASE_URL"
api_key: "YOU_API_KEY"
api_version: "YOU_API_VERSION"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# gemini
embedding:
api_type: "gemini"
api_key: "YOU_API_KEY"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
# ollama
embedding:
api_type: "ollama"
base_url: "YOU_BASE_URL"
model: "YOU_MODEL"
dimensions: "YOUR_MODEL_DIMENSIONS"# output dimension of embedding model
```

> Note：
>   1. For backward compatibility, if the embedding is not set and the llm's api_type is either openai or azure, the llm's config will be used.
>   2. If llm is ollama, there might be an error message "context size was not non-negative". In this case, you need to set the max_token in llm, for example, 2048.
>   3. If you need to use other types of embeddings, such as huggingface, bedrock, etc. The [from_docs](https://github.com/geekan/MetaGPT/blob/main/metagpt/rag/engines/simple.py#L82) and [from_objs](https://github.com/geekan/MetaGPT/blob/main/metagpt/rag/engines/simple.py#L123) functions provide the field `embed_model`, which can accept different embeddings, including [the embeddings supported by Llama Index](https://github.com/run-llama/llama_index/tree/main/llama-index-integrations/embeddings) and [the custom embeddings supported by Llama Index](https://docs.llamaindex.ai/en/stable/examples/embeddings/custom_embeddings/).
> 

  * Set omniparse


yaml```
omniparse:
api_key: 'YOUR_API_KEY'
base_url: 'YOUR_BASE_URL'
```
```
omniparse:
api_key: 'YOUR_API_KEY'
base_url: 'YOUR_BASE_URL'
```

> Note：
>   1. `omniparse` is an optional configuration, the purpose is to optimize the parsing effect of `pdf`.
>   2. If `omniparse` is configured, only `pdf` files are parsed using `omniparse`, and other files still use the built-in parser of `Llama Index`.
> 

## 1. Data input [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#_1-data-input)
### Example 1.1: files or directory [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-1-1-files-or-directory)
python```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"
asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"
asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

In this example, we use the simplest configuration, input a file, receive a question, and print out the search results.
### Example 1.2: Python objects [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-1-2-python-objects)
python```
import asyncio
from pydantic import BaseModel
from metagpt.rag.engines import SimpleEngine

classPlayer(BaseModel):
  name: str
  goal: str
defrag_key(self):
returnf"{self.name}'s goal is {self.goal}."

asyncdefmain():
  objs = [Player(name="Jeff", goal="Top One"), Player(name="Mike", goal="Top Three")]
  engine = SimpleEngine.from_objs(objs=objs)
  answer =await engine.aquery("What is Jeff's goal?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from pydantic import BaseModel
from metagpt.rag.engines import SimpleEngine

classPlayer(BaseModel):
  name: str
  goal: str
defrag_key(self):
returnf"{self.name}'s goal is {self.goal}."

asyncdefmain():
  objs = [Player(name="Jeff", goal="Top One"), Player(name="Mike", goal="Top Three")]
  engine = SimpleEngine.from_objs(objs=objs)
  answer =await engine.aquery("What is Jeff's goal?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

In this example, with the simplest configuration, we define the Player object, wherein the most important is that the custom object must meet the interface (for details, refer to [RAGObject](https://github.com/geekan/MetaGPT/blob/main/metagpt/rag/interface.py)).
## 2. Retrieval [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#_2-retrieval)
### Example 2.1: faiss [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-2-1-faiss)
python```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

In this example, we use faiss for retrieval, where more parameters can be viewed in FAISSRetrieverConfig.
### Example 2.2: faiss and bm25 hybrid retrieval [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-2-2-faiss-and-bm25-hybrid-retrieval)
python```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, BM25RetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig(), BM25RetrieverConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, BM25RetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig(), BM25RetrieverConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

In this example, we use faiss and bm25 for mixed retrieval, combining the results from both retrievals after deduplication.
## 3. Post-retrieval [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#_3-post-retrieval)
### Example 3.1: LLM re-ranking [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-3-1-llm-re-ranking)
python```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, LLMRankerConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig()], ranker_configs=[LLMRankerConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, LLMRankerConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  engine = SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=[FAISSRetrieverConfig()], ranker_configs=[LLMRankerConfig()])
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

In this example, we first use faiss for retrieval, then apply LLMRanker to re-rank the retrieved results, and obtain the final search outcome.
> Note:
>   1. Because use LLM Reranker, if the answer from the LLM is incorrect, may encounter `IndexError: list index out of range`.
> 

## 4. Data update [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#_4-data-update)
### Example 4.1: Adding text and Python objects [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-4-1-adding-text-and-python-objects)
python```
import asyncio
from pydantic import BaseModel
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

classPlayer(BaseModel):
  name: str
  goal: str
defrag_key(self):
returnf"{self.name}'s goal is {self.goal}"

asyncdefmain():
  engine = SimpleEngine.from_objs(retriever_configs=[FAISSRetrieverConfig()])
  engine.add_docs([DOC_PATH])
  answer =await engine.aquery("What does Bob like?")
print(answer)
  engine.add_objs([Player(name="Jeff", goal="Top One")])
  answer =await engine.aquery("What is Jeff's goal?")
print(answer)

if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from pydantic import BaseModel
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

classPlayer(BaseModel):
  name: str
  goal: str
defrag_key(self):
returnf"{self.name}'s goal is {self.goal}"

asyncdefmain():
  engine = SimpleEngine.from_objs(retriever_configs=[FAISSRetrieverConfig()])
  engine.add_docs([DOC_PATH])
  answer =await engine.aquery("What does Bob like?")
print(answer)
  engine.add_objs([Player(name="Jeff", goal="Top One")])
  answer =await engine.aquery("What is Jeff's goal?")
print(answer)

if__name__=="__main__":
  asyncio.run(main())
```

In this example, after creating an engine, we can add documents or objects. Most importantly, if a custom retriever is needed, one must implement the interface [ModifiableRAGRetriever](https://github.com/geekan/MetaGPT/blob/main/metagpt/rag/retrievers/base.py).
## 5. Data storage and recovery [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#_5-data-storage-and-recovery)
### Example 5.1 [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html#example-5-1)
python```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, FAISSIndexConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  persist_dir ="./tmp_storage"
  retriever_configs = [FAISSRetrieverConfig()]
# 1. save index
  SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=retriever_configs).persist(persist_dir)
# 2. load index
  engine = SimpleEngine.from_index(index_config=FAISSIndexConfig(persist_path=persist_dir), retriever_configs=retriever_configs)
# 3. query
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```
```
import asyncio
from metagpt.rag.engines import SimpleEngine
from metagpt.rag.schema import FAISSRetrieverConfig, FAISSIndexConfig
from metagpt.const importEXAMPLE_DATA_PATH
DOC_PATH=EXAMPLE_DATA_PATH/"rag/travel.txt"

asyncdefmain():
  persist_dir ="./tmp_storage"
  retriever_configs = [FAISSRetrieverConfig()]
# 1. save index
  SimpleEngine.from_docs(input_files=[DOC_PATH], retriever_configs=retriever_configs).persist(persist_dir)
# 2. load index
  engine = SimpleEngine.from_index(index_config=FAISSIndexConfig(persist_path=persist_dir), retriever_configs=retriever_configs)
# 3. query
  answer =await engine.aquery("What does Bob like?")
print(answer)
if__name__=="__main__":
  asyncio.run(main())
```

> Note:
>   1. Using Post-retrieval can obtain better result, if use LLM Reranker, due to the uncertainty of the capabilities of LLM, it is not always guaranteed that the output will be parseable for reranking, prefer `gpt-4-turbo`, otherwise might encounter `IndexError: list index out of range` or `ValueError: invalid literal for int() with base 10`.
> 

In this example, we first save the vectorized data in persist_dir, then query after restoring from persist_dir.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/rag_module.md)
[Previous pageSerialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[Next pageEnvironment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/guideline/doc_contribution.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/guideline/doc_contribution.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Document Contribution [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#document-contribution)
Documentation site address: <https://docs.deepwisdom.ai>
At present, the documentation site mainly includes introductory and basic tutorials, single/multi-agent examples, advanced guides, etc. At the same time, the document site currently mainly supports Chinese and English versions, so it is expected that the documents you submit will also have both Chinese and English versions. In addition, API documentation is also included, but the API documentation is mainly maintained and automatically updated by MetaGPT and is not within the scope of the document contribution process.
Submitting documents also follows the [fork and pull request](https://docs.github.com/en/get-started/exploring-projects-on-github/contributing-to-a-project) method.
## Local Setup [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#local-setup)
Supporting local installation and preview of the document station deployment environment, making it easy to check whether the rendering results meet expectations
### Prerequisites [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#prerequisites)
  * [Node.js](https://nodejs.org/en) version 18 or higher.
  * Text Editor with [Markdown](https://en.wikipedia.org/wiki/Markdown) syntax support. 
    * [VSCode](https://code.visualstudio.com/) is recommended, along with the [official Vue extension](https://marketplace.visualstudio.com/items?itemName=Vue.volar).


### Launching [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#launching)
follow steps below to start the dev server
  1. `corepack enable pnpm` to use pnpm
or refer to [pnpm Installation](https://pnpm.io/installation)
  2. `pnpm i` to install dependency
  3. `npm run docs:dev`


The dev server should be running at <http://localhost:5173>. Visit the URL in your browser to see your new site in action!
## Document Standards [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#document-standards)
### Document Structure Standards [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#document-structure-standards)
The documents on the documentation site currently include several modules: Getting Started, Tutorials, Use Cases, and In-Depth Guides.
  * Getting Started. Provides a quick installation and configuration file setting tutorial to help users quickly try out the box.
  * Tutorials. Provides a quick introduction to single-agent and multi-agent, as well as some basic usage capabilities including human intervention and tool use.
  * Use Cases. Provides code examples and effect introductions for single-agent and multi-agent in different scenarios to help users have a direct understanding of the capabilities of MetaGPT.
  * In-Depth Guides. This is mainly for developers, providing advanced functions including incremental opening, communication mechanism, breakpoint recovery, etc. to help users deepen the scene.


Different modules have different content focuses, but the structure basically follows the following specifications
  * For different types of documents, please refer to the content structure of the corresponding existing document to supplement the content and save it as a markdown file.
  * English documents are located in the `src/en` directory and are created in the corresponding directory. For example, tutorial documents are located in the `src/en/guide/tutorials` directory.
  * Chinese documents are located in the `src/zh` directory and are created in the corresponding directory. For example, tutorial documents are located in the `src/zh/guide/tutorials` directory.
  * Media files, such as pictures and videos, are located in the `src/public` directory, and the storage location must correspond to the location of the document. For example, tutorial documents involving pictures are placed in the `src/public/image/guide/tutorials` directory, and a new subdirectory is created for each document. The corresponding access method in the document is: `![img](../../../public/image/guide/tutorials/inc_req_and_fixbug/6d081360d0c74bb48794b9f8a2b0a23e.png)`. You need to pay attention to the relative path.
  * Adding and modifying the sidebar (navigation directory) of the document requires configuration in `locales.themeConfig.sidebar` or `locales.zhcn.themeConfig.sidebar` in `src/.vitepress/config.mts`.
  * For other documents, pictures and other resources that need to be referenced in the document, the same path can be specified for Chinese and English documents.


After adding the document, make sure it is correct before submitting the PR. After the PR is approved, the new documents will be automatically updated online.
### Document Content Standards [​](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html#document-content-standards)
When writing document content, you need to consider some basic specifications so that the entire document site can maintain a consistent style.
  * Using active voice and present tense to describe content, and keep the clarity and tone of the entire document consistent
  * Avoiding duplication of terminology, define terms on the front page as much as possible, and quote instead of repeating the definition
  * Reference via document relative path as much as possible to reduce the impact of URL changes
  * The document uses a clear hierarchical structure (titles, subtitles) to organize information for quick browsing. List an overview of chapters and sections to help users understand the content flow
  * Using charts and other forms to highlight results or explain complex processes as much as possible, which can greatly reduce the text content
  * Providing real cases or examples to help users better understand the application scenario
  * If code is added, use code highlighting and formatting tools, and add appropriate comments to improve readability
  * Breaking complex processes into small steps and guide users to complete the task step by step. Provide feedback at each step to ensure that users know their progress
  * Summarizing key points at the end of the tutorial to help users consolidate their learning content


If you encounter any problems during use, please go to [Discord Channel](https://discord.gg/ZRHeExS6xv) to communicate. We look forward to your participation!
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/contribution/guideline/doc_contribution.md)
[Previous pageCode Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Next pageFAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/code_of_conduct.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/contribution/code_of_conduct.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Contributor Covenant Code of Conduct [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#contributor-covenant-code-of-conduct)
## Our Pledge [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#our-pledge)
We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.
We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.
## Our Standards [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#our-standards)
Examples of behavior that contributes to a positive environment for our community include:
  * Demonstrating empathy and kindness toward other people
  * Being respectful of differing opinions, viewpoints, and experiences
  * Giving and gracefully accepting constructive feedback
  * Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience
  * Focusing on what is best not just for us as individuals, but for the overall community


Examples of unacceptable behavior include:
  * The use of sexualized language or imagery, and sexual attention or advances of any kind
  * Trolling, insulting or derogatory comments, and personal or political attacks
  * Public or private harassment
  * Publishing others' private information, such as a physical or email address, without their explicit permission
  * Other conduct which could reasonably be considered inappropriate in a professional setting


## Enforcement Responsibilities [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#enforcement-responsibilities)
Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.
Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.
## Scope [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#scope)
This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.
## Enforcement [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#enforcement)
Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at business@deepwisdom.ai. All complaints will be reviewed and investigated promptly and fairly.
All community leaders are obligated to respect the privacy and security of the reporter of any incident.
## Enforcement Guidelines [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#enforcement-guidelines)
Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:
### 1. Correction [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#_1-correction)
**Community Impact** : Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.
**Consequence** : A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.
### 2. Warning [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#_2-warning)
**Community Impact** : A violation through a single incident or series of actions.
**Consequence** : A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.
### 3. Temporary Ban [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#_3-temporary-ban)
**Community Impact** : A serious violation of community standards, including sustained inappropriate behavior.
**Consequence** : A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.
### 4. Permanent Ban [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#_4-permanent-ban)
**Community Impact** : Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.
**Consequence** : A permanent ban from any sort of public interaction within the community.
## Attribution [​](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html#attribution)
This Code of Conduct is adapted from the [Contributor Covenant](https://www.contributor-covenant.org), version 2.1, available at <https://www.contributor-covenant.org/version/2/1/code_of_conduct.html>.
Community Impact Guidelines were inspired by [Mozilla's code of conduct enforcement ladder](https://github.com/mozilla/diversity).
For answers to common questions about this code of conduct, see the FAQ at <https://www.contributor-covenant.org/faq>. Translations are available at <https://www.contributor-covenant.org/translations>.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/contribution/code_of_conduct.md)
[Previous pageAndroid](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
[Next pageContribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/concepts.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/concepts.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Agent](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#agent "Agent")
  * [MultiAgent](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#multiagent "MultiAgent")
  * [An Illustration](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#an-illustration "An Illustration")


On this page 
# Concepts [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#concepts)
After this tutorial, you will be able to:
  * Understand MetaGPT's concept of agent and environment
  * How agents interact with each other and what a multi-agent collaboration may look like


The goal is to provide an intuitive and **simplified** explanation of the concepts so that users have a background to further explore the tutorial series. While we aim for clarity, we also recognize simplifications can produce inaccuracy or omission. Therefore, we encourage more navigation over subsequent documents for a complete comprehension.
You may also jump to [Agent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html) if you want hands-on coding first.
Check out our [paper](https://arxiv.org/abs/2308.00352) if you want more rigorous explanation.
## Agent [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#agent)
Academia and industry have proposed various definitions for the term "agent". Roughly speaking, an agent should be able to think or plan like human, possesses memories or even emotions, is equipped with a certain skill set to interact with the environment, other agents, and human. An agent, in a comprehensive examination, is a sophisticated system by itself.
In our view, we imagine an agent as a digital organism within an environment, where
> Agent = Large Language Model (LLM) + Observation + Thought + Action + Memory
This formula encapsulates the essence of what makes an agent function. To understand each component, let's draw parallels with human functionality:
  1. Large Language Model (LLM): The LLM functions as part of the 'brain' of the agent, enables it to process information, learn from interactions, make decisions, and perform actions.
  2. Observation: This is the agent's sensory mechanism, allowing it to perceive its environment. An agent might receive a range of signals such as text inputs from another agent's messages, visual data from surveillance cameras, or audio from a customer service recording. The observations form the basis for all subsequent actions.
  3. Thought: Thought processes involve analyzing observations, drawing from memory, and considering possible actions. It's the agent's internal decision-making process, which may be powered by LLM.
  4. Action: These are the agent's visible responses to its thoughts and observations. They can range from generating code with LLM to manually predefined operations such as reading a local file. Agents can also execute tool-using actions, including searching the web for weather, using a calculator to do maths, and more.
  5. Memory: An agent's memory stores past experiences. It is crucial for learning, as it allows the agent to reference previous outcomes and adjust future actions accordingly.


## MultiAgent [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#multiagent)
A MultiAgent System can be thought of as a society of agents, where
> MultiAgent = Agents + Environment + Standard Operating Procedure (SOP) + Communication + Economy
Each of these components plays a vital role:
  1. Agents: Defined individually above, agents within a multi-agent system work in concert, each with their unique LLM, observations, thoughts, actions, and memories.
  2. Environment: The environment is the shared space where agents exist and interact. Agents observe important information from the environment and publish action output for others to make use of.
  3. Standard Operating Procedure (SOP): These are the established procedures that govern agent behaviors and interactions, ensuring orderly and efficient operations within the system. For example, in a car manufacturing SOP, one agent welds the car parts while another installs the wiring, maintaining an orderly assembly line.
  4. Communication: Communication is the exchange of information among agents. It's vital for collaboration, negotiation, and competition within the system.
  5. Economy: This refers to the system of value exchange within the multi-agent environment, dictating how resources are allocated and tasks are prioritized.


## An Illustration [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html#an-illustration)
![img](https://docs.deepwisdom.ai/main/image/guide/tutorials/concepts_example.png)
This is a simple example showing how agents work
  * In the environment, three agents Alice, Bob, Charlie interact with each other.
  * They can publish messages or their action output to the environment, which, in turn, are observed by others.
  * We expose the inner process of one agent, Charlie. The same process also applies to Alice and Bob.
  * Internally, agent Charlie possess the components we introduce above. They are LLM, Observation, Thought, Action, where the Thought and Action process can be empowered by LLM. The agent can also use tools during its action.
  * Charlie observes relevant documents from Alice and requirements from Bob, recall useful memories, thinks about how to write code, take the actual writing action, and finally publishes any outcome.
  * Charlie informs Bob of its action outcome by publishing it to the environment. Bob responds with a compliment after receiving it.


Now you have a first glance of the concepts. Feel free to proceed to the next step and see how MetaGPT provides a framework for you to create agents and their dynamics.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/concepts.md)
[Previous pageTools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
[Next pageAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/create_and_use_tools.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/create_and_use_tools.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Create and Use Tools [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#create-and-use-tools)
Creating tools in MetaGPT is a straightforward process that involves creating your own functions or classes within the `metagpt/tools/libs` directory. This tutorial provides a step-by-step guide to creating tools and utilizing them within the `DataInterpreter`.
## Steps for creating tools [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#steps-for-creating-tools)
  1. **Create Pre-provided Functions or Classes** :
Craft functions or classes tailored to enable specific interactions with the external environment and place them in the `metagpt/tools/libs` directory.
  2. **Employ Google Style Docstring:**
Accompany each function or class with a Google-style Docstring. This serves as a concise yet comprehensive reference, detailing the purpose, input parameters, and expected output.
  3. **Apply @register_tool Decorator:**
Utilize the `@register_tool` decorator to ensure accurate registration within the tool registry. This decorator simplifies the integration of functions or classes with the `DataInterpreter`.


## Customizing tools case [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#customizing-tools-case)
To illustrate the process, consider the following examples of customizing tools from function and class.
### Customizing the calculate factorial tool from a function [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#customizing-the-calculate-factorial-tool-from-a-function)
  1. **Create and place your own function in`metagpt/tools/libs` , supposing it is `calculate_factorial.py`, and add the decorator @register_tool for it to register as a tool.**
python```
# metagpt/tools/libs/calculate_factorial.py
import math
from metagpt.tools.tool_registry import register_tool
# Register tool with the decorator
@register_tool()
defcalculate_factorial(n):
"""
  Calculate the factorial of a non-negative integer.
  """
if n <0:
raiseValueError("Input must be a non-negative integer")
return math.factorial(n)
```
```
# metagpt/tools/libs/calculate_factorial.py
import math
from metagpt.tools.tool_registry import register_tool
# Register tool with the decorator
@register_tool()
defcalculate_factorial(n):
"""
  Calculate the factorial of a non-negative integer.
  """
if n <0:
raiseValueError("Input must be a non-negative integer")
return math.factorial(n)
```

  2. **Use DataInterpreter with your custom tool, supposing in the`main.py` file.**
python```
# main.py
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.tools.libs import calculate_factorial
asyncdefmain(requirement: str):
  role = DataInterpreter(tools=["calculate_factorial"])  # integrate the tool
await role.run(requirement)
if__name__=="__main__":
  requirement ="Please calculate the factorial of 5."
  asyncio.run(main(requirement))
```
```
# main.py
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.tools.libs import calculate_factorial
asyncdefmain(requirement: str):
  role = DataInterpreter(tools=["calculate_factorial"])  # integrate the tool
await role.run(requirement)
if__name__=="__main__":
  requirement ="Please calculate the factorial of 5."
  asyncio.run(main(requirement))
```



**Note** :
  1. Don't forget to write the docstring for your function that will help to select the tool and understand how it works for the `DataInterpreter`.
  2. The tool name is the function name when registering the tool.
  3. Remember to import your `calculate_factorial` from `metagpt.tools.libs` to make sure the tool is registered before running DataInterpreter


### Customizing the calculator tool from a class [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html#customizing-the-calculator-tool-from-a-class)
  1. **Create and place your own class in`metagpt/tools/libs` , supposing it is `calculator.py`, and add the decorator @register_tool for it to register as a tool.**
python```
# metagpt/tools/libs/calculator.py
import math
from metagpt.tools.tool_registry import register_tool
# Register tool with the decorator.
# The tag "math" is used to categorize the tool and the include_functions list specifies the functions to include, which makes `DataInterpreter` select and understand the tool.
@register_tool(tags=["math"], include_functions=["__init__", "add", "subtract", "multiply", "divide", "factorial"])
classCalculator:
"""
  A simple calculator tool that performs basic arithmetic operations and calculates factorials.
  """
@staticmethod
defadd(a, b):
"""
    Calculate the sum of two numbers.
    """
return a + b
@staticmethod
defsubtract(a, b):
"""
    Calculate the difference of two numbers.
    """
return a - b
@staticmethod
defmultiply(a, b):
"""
    Calculate the product of two numbers.
    """
return a * b
@staticmethod
defdivide(a, b):
"""
    Calculate the quotient of two numbers.
    """
if b ==0:
return"Error: Division by zero"
else:
return a / b
@staticmethod
deffactorial(n):
"""
    Calculate the factorial of a non-negative integer.
    """
if n <0:
raiseValueError("Input must be a non-negative integer")
return math.factorial(n)
```
```
# metagpt/tools/libs/calculator.py
import math
from metagpt.tools.tool_registry import register_tool
# Register tool with the decorator.
# The tag "math" is used to categorize the tool and the include_functions list specifies the functions to include, which makes `DataInterpreter` select and understand the tool.
@register_tool(tags=["math"], include_functions=["__init__", "add", "subtract", "multiply", "divide", "factorial"])
classCalculator:
"""
  A simple calculator tool that performs basic arithmetic operations and calculates factorials.
  """
@staticmethod
defadd(a, b):
"""
    Calculate the sum of two numbers.
    """
return a + b
@staticmethod
defsubtract(a, b):
"""
    Calculate the difference of two numbers.
    """
return a - b
@staticmethod
defmultiply(a, b):
"""
    Calculate the product of two numbers.
    """
return a * b
@staticmethod
defdivide(a, b):
"""
    Calculate the quotient of two numbers.
    """
if b ==0:
return"Error: Division by zero"
else:
return a / b
@staticmethod
deffactorial(n):
"""
    Calculate the factorial of a non-negative integer.
    """
if n <0:
raiseValueError("Input must be a non-negative integer")
return math.factorial(n)
```

  2. **Use DataInterpreter with your custom tool, supposing in the`main.py` file.**
python```
# main.py
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.tools.libs import calculator
asyncdefmain(requirement: str):
  role = DataInterpreter(tools=["Calculator"]) # integrate the tool
await role.run(requirement)
if__name__=="__main__":
  requirement ="Please calculate 5 plus 3 and then calculate the factorial of 5."
  asyncio.run(main(requirement))
```
```
# main.py
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.tools.libs import calculator
asyncdefmain(requirement: str):
  role = DataInterpreter(tools=["Calculator"]) # integrate the tool
await role.run(requirement)
if__name__=="__main__":
  requirement ="Please calculate 5 plus 3 and then calculate the factorial of 5."
  asyncio.run(main(requirement))
```



**Note** :
  1. Don't forget to write the docstring for your class and its functions that will help to select the tool and understand how it works for the `DataInterpreter`.
  2. The tool name is the class name when registering the tool.
  3. Remember to import your `calculator` from `metagpt.tools.libs` to make sure the tool is registered before running DataInterpreter


By following these steps, users can seamlessly create and integrate tools within the `Tool` framework of MetaGPT. This empowers the `DataInterpreter` to effectively interact with the external environment.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/create_and_use_tools.md)
[Previous pageUse memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Next pageHuman engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/customize_llms_for_roles_or_actions.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/customize_llms_for_roles_or_actions.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Example](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#example "Example")
    * [Define Configurations](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#define-configurations "Define Configurations")
    * [Assign Configurations](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#assign-configurations "Assign Configurations")
    * [Team Interaction](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#team-interaction "Team Interaction")
    * [Complete code and corresponding configuration examples](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#complete-code-and-corresponding-configuration-examples "Complete code and corresponding configuration examples")


On this page 
# Customize LLMs for roles or actions [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#customize-llms-for-roles-or-actions)
MetaGPT allows you to use different LLMs for different Roles and Actions within your team. This greatly enhances the flexibility and realism of team interactions, enabling each Role to choose the most suitable LLM based on its specific needs, background, and the characteristics of each Action. This fine-grained control over the quality and direction of conversations creates a more immersive and authentic interactive experience. Before getting started the tutorial, make sure you have read [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html) and [Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html).
Here are the setup steps:
  1. Define Configurations: Use default configurations or customize configurations from the `~/.metagpt` directory.
  2. Assign Configurations: Allocate specific LLM configurations to Roles and Actions. The priority of configurations is as follows: Action config > Role config > Global config (config in config2.yaml).
  3. Team Interaction: Create a team with an environment and start the interaction.


## Example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#example)
Consider a live broadcast environment for the U.S. election. We will create three Roles: A, B, and C. A and B are two candidates, and C is a voter.
### Define Configurations [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#define-configurations)
You can use default configurations or customize LLM configurations in the `~/.metagpt` directory.
python```
from metagpt.config2 import Config
# Example configurations for gpt-4, gpt-4-turbo and gpt-3.5-turbo
gpt4 = Config.from_home("gpt-4.yaml") # Load custom configuration from `~/.metagpt` directory `gpt-4.yaml`
gpt4t = Config.default() # Use default configuration from `config2.yaml` file (model: "gpt-4-turbo")
gpt35 = Config.default()
gpt35.llm.model ="gpt-3.5-turbo"# Modify model to "gpt-3.5-turbo"
```
```
from metagpt.config2 import Config
# Example configurations for gpt-4, gpt-4-turbo and gpt-3.5-turbo
gpt4 = Config.from_home("gpt-4.yaml") # Load custom configuration from `~/.metagpt` directory `gpt-4.yaml`
gpt4t = Config.default() # Use default configuration from `config2.yaml` file (model: "gpt-4-turbo")
gpt35 = Config.default()
gpt35.llm.model ="gpt-3.5-turbo"# Modify model to "gpt-3.5-turbo"
```

### Assign Configurations [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#assign-configurations)
Create Roles and Actions, then assign configurations.
python```
from metagpt.roles import Role
from metagpt.actions import Action
# Create three Actions: a1, a2, and a3. Assign the configuration of gpt4t to a1.
a1 = Action(config=gpt4t, name="Say", instruction="Say your opinion with emotion and don't repeat it")
a2 = Action(name="Say", instruction="Say your opinion with emotion and don't repeat it")
a3 = Action(name="Vote", instruction="Vote for the candidate, and say why you vote for him/her")
# Create three Roles: A, B, and C. Representing "Democratic candidate," "Republican candidate," and "Voter" respectively.
# Although A is configured with gpt4 in Role config, it will use the configuration with model gpt4 for a1 due to the Action config setting.
A = Role(name="A", profile="Democratic candidate", goal="Win the election", actions=[a1], watch=[a2], config=gpt4)
# Since B is configured with gpt35 in Role config, and a2 has no Action config, both B and a2 will use Role config, i.e., the configuration with model gpt35.
B = Role(name="B", profile="Republican candidate", goal="Win the election", actions=[a2], watch=[a1], config=gpt35)
# Since C has no config set, and a3 also has no config set, both C and a3 will use the Global config, i.e., the configuration with model gpt4.
C = Role(name="C", profile="Voter", goal="Vote for the candidate", actions=[a3], watch=[a1, a2])
```
```
from metagpt.roles import Role
from metagpt.actions import Action
# Create three Actions: a1, a2, and a3. Assign the configuration of gpt4t to a1.
a1 = Action(config=gpt4t, name="Say", instruction="Say your opinion with emotion and don't repeat it")
a2 = Action(name="Say", instruction="Say your opinion with emotion and don't repeat it")
a3 = Action(name="Vote", instruction="Vote for the candidate, and say why you vote for him/her")
# Create three Roles: A, B, and C. Representing "Democratic candidate," "Republican candidate," and "Voter" respectively.
# Although A is configured with gpt4 in Role config, it will use the configuration with model gpt4 for a1 due to the Action config setting.
A = Role(name="A", profile="Democratic candidate", goal="Win the election", actions=[a1], watch=[a2], config=gpt4)
# Since B is configured with gpt35 in Role config, and a2 has no Action config, both B and a2 will use Role config, i.e., the configuration with model gpt35.
B = Role(name="B", profile="Republican candidate", goal="Win the election", actions=[a2], watch=[a1], config=gpt35)
# Since C has no config set, and a3 also has no config set, both C and a3 will use the Global config, i.e., the configuration with model gpt4.
C = Role(name="C", profile="Voter", goal="Vote for the candidate", actions=[a3], watch=[a1, a2])
```

Please note that for the Action of interest, the priority of configuration is: Action config > Role config > Global config. The configuration of different roles and actions is as follows:
Action of interest| Global config| Role config| Action config| Effective config for the Action  
---|---|---|---|---  
a1| gpt4| gpt4| gpt4t| gpt4t  
a2| gpt4| gpt35| unspecified| gpt35  
a3| gpt4| unspecified| unspecified| gpt4  
### Team Interaction [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#team-interaction)
Create a team with an environment and let them interact.
python```
import asyncio
from metagpt.environment import Environment
from metagpt.team import Team
# Create an environment described as "US election live broadcast"
env = Environment(desc="US election live broadcast")
team = Team(investment=10.0, env=env, roles=[A, B, C])
# Run the team, and you should observe collaboration between them
asyncio.run(team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3))
# await team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3) # If running in Jupyter Notebook, use this line of code
```
```
import asyncio
from metagpt.environment import Environment
from metagpt.team import Team
# Create an environment described as "US election live broadcast"
env = Environment(desc="US election live broadcast")
team = Team(investment=10.0, env=env, roles=[A, B, C])
# Run the team, and you should observe collaboration between them
asyncio.run(team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3))
# await team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3) # If running in Jupyter Notebook, use this line of code
```

### Complete code and corresponding configuration examples [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html#complete-code-and-corresponding-configuration-examples)
Default configuration： `~/.metagpt/config2.yaml`
yaml```
llm:
api_type: 'openai'
model: 'gpt-4-turbo'
base_url: 'https://api.openai.com/v1'
api_key: 'sk-...'# YOUR_API_KEY
```
```
llm:
api_type: 'openai'
model: 'gpt-4-turbo'
base_url: 'https://api.openai.com/v1'
api_key: 'sk-...'# YOUR_API_KEY
```

Custom configuration： `~/.metagpt/gpt-4.yaml`
yaml```
llm:
api_type: 'openai'
model: 'gpt-4o'
base_url: 'https://api.openai.com/v1'
api_key: 'sk-...'# YOUR_API_KEY
```
```
llm:
api_type: 'openai'
model: 'gpt-4o'
base_url: 'https://api.openai.com/v1'
api_key: 'sk-...'# YOUR_API_KEY
```

python```
from metagpt.config2 import Config
from metagpt.roles import Role
from metagpt.actions import Action
import asyncio
from metagpt.environment import Environment
from metagpt.team import Team
# Example configurations for gpt-4, gpt-4-turbo and gpt-3.5-turbo
gpt4 = Config.from_home("gpt-4.yaml") # Load custom configuration from `~/.metagpt` directory `gpt-4.yaml`
gpt4t = Config.default() # Use default configuration from `config2.yaml` file (model: "gpt-4-turbo")
gpt35 = Config.default()
gpt35.llm.model ="gpt-3.5-turbo"# Modify model to "gpt-3.5-turbo"
# Create three Actions: a1, a2, and a3. Assign the configuration of gpt4t to a1.
a1 = Action(config=gpt4t, name="Say", instruction="Say your opinion with emotion and don't repeat it")
a2 = Action(name="Say", instruction="Say your opinion with emotion and don't repeat it")
a3 = Action(name="Vote", instruction="Vote for the candidate, and say why you vote for him/her")
# Create three Roles: A, B, and C. Representing "Democratic candidate," "Republican candidate," and "Voter" respectively.
# Although A is configured with gpt4 in Role config, it will use the configuration with model gpt4 for a1 due to the Action config setting.
A = Role(name="A", profile="Democratic candidate", goal="Win the election", actions=[a1], watch=[a2], config=gpt4)
# Since B is configured with gpt35 in Role config, and a2 has no Action config, both B and a2 will use Role config, i.e., the configuration with model gpt35.
B = Role(name="B", profile="Republican candidate", goal="Win the election", actions=[a2], watch=[a1], config=gpt35)
# Since C has no config set, and a3 also has no config set, both C and a3 will use the Global config, i.e., the configuration with model gpt4.
C = Role(name="C", profile="Voter", goal="Vote for the candidate", actions=[a3], watch=[a1, a2])
# Create an environment described as "US election live broadcast"
env = Environment(desc="US election live broadcast")
team = Team(investment=10.0, env=env, roles=[A, B, C])
# Run the team, and you should observe collaboration between them
asyncio.run(team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3))
# await team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3) # If running in Jupyter Notebook, use this line of code
```
```
from metagpt.config2 import Config
from metagpt.roles import Role
from metagpt.actions import Action
import asyncio
from metagpt.environment import Environment
from metagpt.team import Team
# Example configurations for gpt-4, gpt-4-turbo and gpt-3.5-turbo
gpt4 = Config.from_home("gpt-4.yaml") # Load custom configuration from `~/.metagpt` directory `gpt-4.yaml`
gpt4t = Config.default() # Use default configuration from `config2.yaml` file (model: "gpt-4-turbo")
gpt35 = Config.default()
gpt35.llm.model ="gpt-3.5-turbo"# Modify model to "gpt-3.5-turbo"
# Create three Actions: a1, a2, and a3. Assign the configuration of gpt4t to a1.
a1 = Action(config=gpt4t, name="Say", instruction="Say your opinion with emotion and don't repeat it")
a2 = Action(name="Say", instruction="Say your opinion with emotion and don't repeat it")
a3 = Action(name="Vote", instruction="Vote for the candidate, and say why you vote for him/her")
# Create three Roles: A, B, and C. Representing "Democratic candidate," "Republican candidate," and "Voter" respectively.
# Although A is configured with gpt4 in Role config, it will use the configuration with model gpt4 for a1 due to the Action config setting.
A = Role(name="A", profile="Democratic candidate", goal="Win the election", actions=[a1], watch=[a2], config=gpt4)
# Since B is configured with gpt35 in Role config, and a2 has no Action config, both B and a2 will use Role config, i.e., the configuration with model gpt35.
B = Role(name="B", profile="Republican candidate", goal="Win the election", actions=[a2], watch=[a1], config=gpt35)
# Since C has no config set, and a3 also has no config set, both C and a3 will use the Global config, i.e., the configuration with model gpt4.
C = Role(name="C", profile="Voter", goal="Vote for the candidate", actions=[a3], watch=[a1, a2])
# Create an environment described as "US election live broadcast"
env = Environment(desc="US election live broadcast")
team = Team(investment=10.0, env=env, roles=[A, B, C])
# Run the team, and you should observe collaboration between them
asyncio.run(team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3))
# await team.run(idea="Topic: climate change. Under 80 words per message.", send_to="A", n_round=3) # If running in Jupyter Notebook, use this line of code
```

[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/customize_llms_for_roles_or_actions.md)
[Previous pageIntegration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Next pageData Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/human_engagement.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/human_engagement.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Human Engagement [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html#human-engagement)
When we talk about agents, we usually mean it to be LLM-driven. However, in some real scenarios, we do want humans to step in, whether it's for quality assurance in a project, guidance offering in critical decision-making, or role playing in a game. In this tutorial, we talk about how to take humans into the SOP.
After this tutorial, you will be able to:
  * Introduce interaction between LLM-based agents and human


## Switch between LLM and human [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html#switch-between-llm-and-human)
We will reuse the exact example in [MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html).
Originally, an LLM assumes the `SimpleReviewer`. Suppose we want more control over the review process, we may take up the `Role` ourselves. This is enabled by just one switch: set `is_human=True` upon initialization. The code becomes:
python```
team.hire(
  [
    SimpleCoder(),
    SimpleTester(),
# SimpleReviewer(), # the original line
    SimpleReviewer(is_human=True), # change to this line
  ]
)
```
```
team.hire(
  [
    SimpleCoder(),
    SimpleTester(),
# SimpleReviewer(), # the original line
    SimpleReviewer(is_human=True), # change to this line
  ]
)
```

We are a human `SimpleReviewer` interacting with the two LLM-based agents `SimpleCoder` and `SimpleTester` now. We can comment on the unit tests from `SimpleTester`, requesting more coverage or edge cases. The feedback is then sent back to the tester for writing a new version. The switch is complete agnostic to the original SOP and `Role` definition, meaning applicability to general scenarios.
Each time when it's our turn to respond, the running process will pause to wait for our input. Just type in what we want, we are sending our messages to the agents!
> Constraint: For develops who customize `Role`'s `_act` function, the `Action`s called in `_act` must be among the `self._actions` initialized with `set_actions` for the human engagement to take effect.
> LIMITATION: Currently the interaction is through terminal input, which is inconvenient for multi-line or structured writeup. Meanwhile, users must adhere to the prompt in content or format like what we require of an LLM, in order for the logic after human input works as usual. We will provide solutions to these issues in following update.
## Complete script of this tutorial [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html#complete-script-of-this-tutorial)
<https://github.com/geekan/MetaGPT/blob/main/examples/build_customized_multi_agents.py>
Run it with
sh```
python3examples/build_customized_multi_agents.py--add_humanTrue
```
```
python3examples/build_customized_multi_agents.py--add_humanTrue
```

A sample interaction
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/human_engagement.md)
[Previous pageCreate and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Next pageIntegration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/multi_agent_101.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/multi_agent_101.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# MultiAgent 101 [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#multiagent-101)
We briefly discussed the creation of a single agent in last chapter. While a single agent may suffice for many situations, more complex tasks often demand collaboration and teamwork. This is where multiple agents become necessary. The core advantage of MetaGPT also lies in the easy and flexible development of a team of agents. Under MetaGPT framework, users can enable interactions between agents with a minimal amount of codes.
After this tutorial, you will be able to:
  1. Understand how agents interact with each other
  2. Develop your first team of agents


## Run the software startup example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#run-the-software-startup-example)
shell```
metagpt"write a cli flappy bird game"
```
```
metagpt"write a cli flappy bird game"
```

## Develop your first team of agents [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#develop-your-first-team-of-agents)
Hope you find the software startup example enlightenning. Perhaps now you're inspired to develop a team of agents tailored to your unique needs. In this section, we continue with the simple coding example in [Agent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html) but add more roles to introduce a very basic collaboration.
Together with the coder, let's also hire a tester and a reviewer. This starts to look like a development team, doesn't it? In general, we need three steps to set up the team and make it function:
  1. Define each role capable of intended actions
  2. Think about the Standard Operating Procedure (SOP), and ensure each role adhere to it. This is made possible by making each role observe the corresponding output from upstream, and publish its own for the downstream.
  3. Initialize all roles, create a team with an environment to put them in, and enable them to interact with each other


Complete code is available at the end of this tutorial
### Define Action and Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#define-action-and-role)
Following the same process as [Agent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html), we can define three `Role`s with their respective `Action`s:
  * A `SimpleCoder` with a `SimpleWriteCode` action, taking instruction from the user and writing the main code
  * A `SimpleTester` with a `SimpleWriteTest` action, taking the main code from `SimpleWriteCode` output and providing a test suite for it
  * A `SimpleReviewer` with a `SimpleWriteReview` action, reviewing the test cases from `SimpleWriteTest` output and check their coverage and quality


By giving the outline above, we actually make our SOP clear. We will talk about how to set up the `Role` according to it shortly.
#### Define Action [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#define-action)
We list the three `Action`s.
python```
from metagpt.actions import Action
classSimpleWriteCode(Action):
PROMPT_TEMPLATE: str="""
  Write a python function that can {instruction}.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteCode"
asyncdefrun(self, instruction: str):
    prompt =self.PROMPT_TEMPLATE.format(instruction=instruction)
    rsp =awaitself._aask(prompt)
    code_text = parse_code(rsp)
return code_text
```
```
from metagpt.actions import Action
classSimpleWriteCode(Action):
PROMPT_TEMPLATE: str="""
  Write a python function that can {instruction}.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteCode"
asyncdefrun(self, instruction: str):
    prompt =self.PROMPT_TEMPLATE.format(instruction=instruction)
    rsp =awaitself._aask(prompt)
    code_text = parse_code(rsp)
return code_text
```

python```
classSimpleWriteTest(Action):
PROMPT_TEMPLATE: str="""
  Context: {context}
  Write {k} unit tests using pytest for the given function, assuming you have imported it.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteTest"
asyncdefrun(self, context: str, k: int=3):
    prompt =self.PROMPT_TEMPLATE.format(context=context, k=k)
    rsp =awaitself._aask(prompt)
    code_text = parse_code(rsp)
return code_text
```
```
classSimpleWriteTest(Action):
PROMPT_TEMPLATE: str="""
  Context: {context}
  Write {k} unit tests using pytest for the given function, assuming you have imported it.
  Return ```python your_code_here ``` with NO other texts,
  your code:
  """
  name: str="SimpleWriteTest"
asyncdefrun(self, context: str, k: int=3):
    prompt =self.PROMPT_TEMPLATE.format(context=context, k=k)
    rsp =awaitself._aask(prompt)
    code_text = parse_code(rsp)
return code_text
```

python```
classSimpleWriteReview(Action):
PROMPT_TEMPLATE: str="""
  Context: {context}
  Review the test cases and provide one critical comments:
  """
  name: str="SimpleWriteReview"
asyncdefrun(self, context: str):
    prompt =self.PROMPT_TEMPLATE.format(context=context)
    rsp =awaitself._aask(prompt)
return rsp
```
```
classSimpleWriteReview(Action):
PROMPT_TEMPLATE: str="""
  Context: {context}
  Review the test cases and provide one critical comments:
  """
  name: str="SimpleWriteReview"
asyncdefrun(self, context: str):
    prompt =self.PROMPT_TEMPLATE.format(context=context)
    rsp =awaitself._aask(prompt)
return rsp
```

#### Define Role [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#define-role)
In many multi-agent scenarios, defining a `Role` can be as simple as 10 lines of codes. For `SimpleCoder`, we do two things:
  1. Equip the `Role` with the appropriate `Action`s with `set_actions`, this is identical to setting up a single agent
  2. A multi-agent operation: we make the `Role` `_watch` important upstream messages from users or other agents. Recall our SOP, `SimpleCoder` takes user instruction, which is a `Message` caused by `UserRequirement` in MetaGPT. Therefore, we add `self._watch([UserRequirement])`.


That's all users have to do. For those who are interested in the mechanism under the hood, see [Mechanism Explained](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#mechanism-explained) of this chapter.
python```
classSimpleCoder(Role):
  name: str="Alice"
  profile: str="SimpleCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self._watch([UserRequirement])
self.set_actions([SimpleWriteCode])
```
```
classSimpleCoder(Role):
  name: str="Alice"
  profile: str="SimpleCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self._watch([UserRequirement])
self.set_actions([SimpleWriteCode])
```

Similar to above, for `SimpleTester`, we:
  1. Equip the `SimpleTester` with `SimpleWriteTest` action using `set_actions`
  2. Make the `Role` `_watch` important upstream messages from other agents. Recall our SOP, `SimpleTester` takes main code from `SimpleCoder`, which is a `Message` caused by `SimpleWriteCode`. Therefore, we add `self._watch([SimpleWriteCode])`. 
> An extended question: Think about what it means if we use `self._watch([SimpleWriteCode, SimpleWriteReview])` instead, feel free to try this too


Additionally, we want to show that you can define your own acting logic for the agent. This applies to situation where the `Action` takes more than one input, you want to modify the input, to use particular memories, or to make any other changes to reflect specific logic. Hence, we:
  1. Overwrite the `_act` function, just like what we did in a single-agent setting in [Agent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html). Here, we want `SimpleTester` to use all memories as context for writing the test cases, and we want 5 test cases.


python```
classSimpleTester(Role):
  name: str="Bob"
  profile: str="SimpleTester"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteTest])
self._watch([SimpleWriteCode])
# self._watch([SimpleWriteCode, SimpleWriteReview]) # feel free to try this too
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
    todo =self.rc.todo
# context = self.get_memories(k=1)[0].content # use the most recent memory as context
    context =self.get_memories() # use all memories as context
    code_text =await todo.run(context, k=5) # specify arguments
    msg = Message(content=code_text, role=self.profile, cause_by=type(todo))
return msg
```
```
classSimpleTester(Role):
  name: str="Bob"
  profile: str="SimpleTester"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteTest])
self._watch([SimpleWriteCode])
# self._watch([SimpleWriteCode, SimpleWriteReview]) # feel free to try this too
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})")
    todo =self.rc.todo
# context = self.get_memories(k=1)[0].content # use the most recent memory as context
    context =self.get_memories() # use all memories as context
    code_text =await todo.run(context, k=5) # specify arguments
    msg = Message(content=code_text, role=self.profile, cause_by=type(todo))
return msg
```

Define `SimpleReviewer` following the same procedure:
python```
classSimpleReviewer(Role):
  name: str="Charlie"
  profile: str="SimpleReviewer"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteReview])
self._watch([SimpleWriteTest])
```
```
classSimpleReviewer(Role):
  name: str="Charlie"
  profile: str="SimpleReviewer"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteReview])
self._watch([SimpleWriteTest])
```

### Create a team and add roles [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#create-a-team-and-add-roles)
Now that we have defined our three `Role`s, it's time to put them together. We initialize all of them, set up a `Team`, and `hire` them.
Run the `Team`, we should see the collaboration between them!
python```
import fire
import typer
from metagpt.logs import logger
from metagpt.team import Team
app = typer.Typer()
@app.command()
defmain(
  idea: str= typer.Argument(..., help="write a function that calculates the product of a list"),
  investment: float= typer.Option(default=3.0, help="Dollar amount to invest in the AI company."),
  n_round: int= typer.Option(default=5, help="Number of rounds for the simulation."),
):
  logger.info(idea)
  team = Team()
  team.hire(
    [
      SimpleCoder(),
      SimpleTester(),
      SimpleReviewer(),
    ]
  )
  team.invest(investment=investment)
  team.run_project(idea)
await team.run(n_round=n_round)
if__name__=="__main__":
  fire.Fire(main)
```
```
import fire
import typer
from metagpt.logs import logger
from metagpt.team import Team
app = typer.Typer()
@app.command()
defmain(
  idea: str= typer.Argument(..., help="write a function that calculates the product of a list"),
  investment: float= typer.Option(default=3.0, help="Dollar amount to invest in the AI company."),
  n_round: int= typer.Option(default=5, help="Number of rounds for the simulation."),
):
  logger.info(idea)
  team = Team()
  team.hire(
    [
      SimpleCoder(),
      SimpleTester(),
      SimpleReviewer(),
    ]
  )
  team.invest(investment=investment)
  team.run_project(idea)
await team.run(n_round=n_round)
if__name__=="__main__":
  fire.Fire(main)
```

## Complete script of this tutorial [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#complete-script-of-this-tutorial)
<https://github.com/geekan/MetaGPT/blob/main/examples/build_customized_multi_agents.py>
Run it with
sh```
python3examples/build_customized_multi_agents.py--idea"write a function that calculates the product of a list"
```
```
python3examples/build_customized_multi_agents.py--idea"write a function that calculates the product of a list"
```

Or try it on Colab
[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/drive/1h36AqLl7LqZO9bllpeJHpb4Ar-NW0Kwv?usp=sharing)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html#mechanism-explained)
While users can write a few lines of code to set up a running `Role`, it's beneficial to describe the inner mechanism so that users understands the implication of the setup code and have a whole picture of the framework.
![img](https://docs.deepwisdom.ai/main/image/guide/tutorials/multi_agents_flowchart.png)
Internally, as shown in the right part of the diagram, the `Role` will `_observe` `Message` from the `Environment`. If there is a `Message` caused by the particular `Action`s the `Role` `_watch`, then it is a valid observation, triggering the `Role`'s subsequent thoughts and actions. In `_think`, the `Role` will choose one of its capable `Action`s and set it as todo. During `_act`, `Role` executes the todo, i.e., runs the `Action` and obtains the output. The output is encapsulated in a `Message` to be finally `publish_message` to the `Environment`, finishing a complete agent run.
In each step, either `_observe`, `_think`, or `_act`, the `Role` will interact with its `Memory`, through adding or retrieval. Moreover, MetaGPT provides different modes of the `react` process. For these parts, please see [Use Memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html) and [Think and act](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html)
When each `Role` is set up appropriately, we may see the corresponding SOP to the example earlier in this tutorial, demonstrated by the left half of the diagram. The dotted box suggests the SOP can be extended if we make `SimpleTester` `_watch` both `SimpleWriteCode` and `SimpleWriteReview`.
We encourage developers with interest to see the [code](https://github.com/geekan/MetaGPT/blob/main/metagpt/roles/role.py) of `Role`, as we believe it is quite readable. Checking out `run`, `_observe`, `react`, `_think`, `_act`, `publish_message` should provide one with a decent understanding.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/multi_agent_101.md)
[Previous pageAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[Next pageUse memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/email_summary.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/email_summary.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Overview](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#overview "Overview")
  * [Example: Logging into Email, Viewing, and Summarizing Email Content](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#example-logging-into-email-viewing-and-summarizing-email-content "Example: Logging into Email, Viewing, and Summarizing Email Content")
    * [Task](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#task "Task")
    * [Code](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#code "Code")
    * [Execution Results](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#execution-results "Execution Results")
  * [Mechanism Explained](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#mechanism-explained "Mechanism Explained")


On this page 
# Tool Usage: Email Summarization and Response [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#tool-usage-email-summarization-and-response)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#overview)
Using `DataInterpreter` for viewing emails, quickly reviewing, and automatically replying to them.
## Example: Logging into Email, Viewing, and Summarizing Email Content [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#example-logging-into-email-viewing-and-summarizing-email-content)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#task)
After logging into the email, display the sender and the body of the latest 5 emails, and summarize each email into one sentence.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#code)
[examples/di/email_summary.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/email_summary.py)
bash```
pythonexamples/di/email_summary.py
```
```
pythonexamples/di/email_summary.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#execution-results)
![](https://docs.deepwisdom.ai/main/assets/email.0108c4cb.jpeg)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html#mechanism-explained)
This scenario uses the `email_login_imap` tool to log into the email account for the email scenario. This tool utilizes the `imap_tools` library to authenticate and log in with the account and password.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/email_summary.md)
[Previous pageTool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Next pageResearcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/integration_with_open_llm.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/integration_with_open_llm.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Model Deployment](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#model-deployment "Model Deployment")
    * [LLaMA-Factory](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#llama-factory "LLaMA-Factory")
    * [FastChat](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#fastchat "FastChat")
    * [ollama](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#ollama "ollama")
  * [LLM Configuration](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#llm-configuration "LLM Configuration")
  * [Optional, repair LLM output](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#optional-repair-llm-output "Optional, repair LLM output")
    * [Background](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#background "Background")
    * [Main issues with open source model command output](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#main-issues-with-open-source-model-command-output "Main issues with open source model command output")
  * [Run](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#run "Run")
    * [Extension](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#extension "Extension")


On this page 
# Integration with open LLM [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#integration-with-open-llm)
Currently, if you want to get more stable code generation results, you need to use OpenAI's GPT-3.5 or GPT-4. But there are currently many other excellent open source models available for experiments, and relatively satisfactory results can be obtained. Therefore, in this tutorial, we will explore how to integrate with open source LLM and get project output based on your input idea.
**Attention** Due to the limitations of the open source model itself, the content described in this tutorial cannot guarantee stable code generation. If you follow this tutorial to experiment, it means you already know this point. At the same time, we are also exploring how to obtain more stable and better-quality output under the open source model. If you are also interested in this, you can contact us in discord or WeChat community group. I believe that with the update of the open source model, this goal will be reached soon.
We will conduct an overall introduction to the tutorial according to the following process:
  * Model Deployment. Use inference repo such as LLaMA-Factory, FastChat, ollama, etc. to deploy the corresponding LLM model.
  * LLM configuration.
  * Optionally, repair the LLM output.
  * Run.


The methods of integrating open source LLM and integrating some non-openai closed source models (such as Baidu Wenxinyiyan, iFLYTEK Spark, Zhipu ChatGLM, etc.) are similar, the main difference is the configuration. For details on the configuration of other closed-source LLMs, please refer to other LLM configuration documents under the online document site. The other process steps after the configuration are consistent with the above.
## Model Deployment [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#model-deployment)
Note that it is recommended to use the OpenAI compatible interface for model deployment. In this way, both request and response can be processed directly using openai sdk, which will simplify the overall integration process. At the same time, the following inference repos also support publishing as OpenAI-compatible interfaces (except ollama), and the workload required to change is very small.
Note that by default you have graphics card resources for deployment, otherwise CPU inference will be a bit slow.
### LLaMA-Factory [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#llama-factory)
Repo: <https://github.com/hiyouga/LLaMA-Factory>
##### Installation [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#installation)
shell```
gitclonehttps://github.com/hiyouga/LLaMA-Factory.git
condacreate-nllama_factorypython=3.10
condaactivatellama_factory
cdLLaMA-Factory
pipinstall-rrequirements.txt
```
```
gitclonehttps://github.com/hiyouga/LLaMA-Factory.git
condacreate-nllama_factorypython=3.10
condaactivatellama_factory
cdLLaMA-Factory
pipinstall-rrequirements.txt
```

For details, please see [Installation](https://github.com/hiyouga/LLaMA-Factory#dependence-installation-optional)
##### Supported Models [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#supported-models)
The common LLaMA, Llama2 and most open source models in China are supported. For details, please see [Model List](https://github.com/hiyouga/LLaMA-Factory#supported-models)
##### Deployment [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#deployment)
Source model launching
shell```
python3src/api_demo.py\
--model_name_or_pathmeta-llama/Llama-2-13b-chat-hf\
--templatellama2
```
```
python3src/api_demo.py\
--model_name_or_pathmeta-llama/Llama-2-13b-chat-hf\
--templatellama2
```

Loading and merging lora output launching
shell```
python3src/api_demo.py\
--model_name_or_pathpath_to_llama2_model\
--templatellama2\
--finetuning_typelora\
--checkpoint_dirpath_to_checkpoint
```
```
python3src/api_demo.py\
--model_name_or_pathpath_to_llama2_model\
--templatellama2\
--finetuning_typelora\
--checkpoint_dirpath_to_checkpoint
```

By default, the interface access address is: `http://0.0.0.0:8000/`. If you need to modify the port, enter `src/api_demo.py` to modify it. If you need to start with multiple cards, add `CUDA_VISIBLE_DEVICES=0,1,2` before the startup command and replace it with your card number. Different models support different `template` value, which can be found from `src/llmtuner/data/template.py`.
For details, please see [API Deployment](https://github.com/hiyouga/LLaMA-Factory#api-demo)
##### Request example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#request-example)
shell```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "gpt-3.5-turbo",
 "stream": false,
 "max_tokens": 256
}'
```
```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "gpt-3.5-turbo",
 "stream": false,
 "max_tokens": 256
}'
```

By default, the requested `model` parameter value is `gpt-3.5-turbo`, if necessary, modify it. Enter the `list_models` method of `src/llmtuner/api/app.py` and modify it to your custom value.
### FastChat [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#fastchat)
Repo: <https://github.com/lm-sys/FastChat>
##### Installation [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#installation-1)
shell```
pip3install"fschat[model_worker,webui]"
```
```
pip3install"fschat[model_worker,webui]"
```

For details, please see [Installation](https://github.com/lm-sys/FastChat#install)
##### Supported Models [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#supported-models-1)
The common LLaMA, Llama2 and most open source models in China are supported. For details, see [Model List](https://github.com/lm-sys/FastChat#supported-models)
##### Deployment [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#deployment-1)
steps
  * launch controller，`python3 -m fastchat.serve.controller`
  * launch source model worker，`python3 -m fastchat.serve.model_worker --model-path lmsys/vicuna-13b-v1.5 --conv-template vicuna_v1.1 --model-names vicuna`
  * launch openai compatible interface，`python3 -m fastchat.serve.openai_api_server --host localhost --port 8000`


If you need to start the lora fine-tuned model, you need to do [model merge](https://github.com/lm-sys/FastChat/blob/main/docs/vicuna_weights_version.md#how-to-apply-delta-weights-only-needed-for-weights-v0) first.
For details, please see [API Deployment](https://github.com/lm-sys/FastChat/blob/main/docs/openai_api.md)
##### Request example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#request-example-1)
shell```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "gpt-3.5-turbo",
 "stream": false,
 "max_tokens": 256
}'
```
```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "gpt-3.5-turbo",
 "stream": false,
 "max_tokens": 256
}'
```

By default, the requested `model` parameter value is `vicuna`, which corresponds to the `model-names` when starting `model_worker`.
#### vllm [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#vllm)
Repo: <https://github.com/vllm-project/vllm>
##### Installation [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#installation-2)
shell```
pip3installvllm
```
```
pip3installvllm
```

For details, please see [Installation](https://docs.vllm.ai/en/latest/getting_started/installation.html)
##### Supported Models [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#supported-models-2)
The common LLaMA, Llama2 and most open source models in China are supported. For details, please see [Model List](https://docs.vllm.ai/en/latest/models/supported_models.html)
##### Deployment [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#deployment-2)
shell```
python3-mvllm.entrypoints.openai.api_server\
--modelmeta-llama/Llama-2-13b-hf\
--served-model-namellama2-13b
```
```
python3-mvllm.entrypoints.openai.api_server\
--modelmeta-llama/Llama-2-13b-hf\
--served-model-namellama2-13b
```

For details, please see [API Deployment](https://docs.vllm.ai/en/latest/getting_started/quickstart.html#openai-compatible-server)
##### Request example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#request-example-2)
shell```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "llama2-13b",
 "stream": false,
 "max_tokens": 256
}'
```
```
curl-XPOSThttp://0.0.0.0:8000/v1/chat/completions-H"content-type:application/json"-d'{
 "messages":[{"role":"user","content":"who are you"}],
 "model": "llama2-13b",
 "stream": false,
 "max_tokens": 256
}'
```

By default, the requested `model` parameter value is `llama2-13b`, which corresponds to the `served-model-name` at startup.
### ollama [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#ollama)
Repo: <https://github.com/jmorganca/ollama>
This repo is not compatible with the openai api interface. MetaGPT will support the interface provided by itself in the future.
##### Installation [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#installation-3)
shell```
curlhttps://ollama.ai/install.sh|sh
```
```
curlhttps://ollama.ai/install.sh|sh
```

For details, please see [Installation](https://github.com/jmorganca/ollama/blob/main/docs/linux.md)
##### Supported Models [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#supported-models-3)
Mainly supports Llama2 and its derivative series, please see [Model List](https://github.com/jmorganca/ollama#model-library) for details
##### Deployment [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#deployment-3)
shell```
ollamarunllama2# download speed looks pretty good (10+MB/s)
```
```
ollamarunllama2# download speed looks pretty good (10+MB/s)
```

##### Non-local access [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#non-local-access)
The ollama service started by default can only be accessed locally, that is, `http://localhost:11434/api/chat` or `http://127.0.0.1:11434/api/chat`. If you want to support `http: //ip:11434/api/chat`, you can do as follows:
bash```
serviceollamastop
OLLAMA_HOST=0.0.0.0 OLLAMA_ORIGINS=*ollamaserve# one terminal
ollamarunllama2# other terminal
```
```
serviceollamastop
OLLAMA_HOST=0.0.0.0 OLLAMA_ORIGINS=*ollamaserve# one terminal
ollamarunllama2# other terminal
```

llama2[Usage documentation](https://ollama.ai/library/llama2)
For details, please see [API deployment](https://github.com/jmorganca/ollama/blob/main/docs/api.md)
##### Request example [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#request-example-3)
shell```
# it's non-streaming with `stream: true` by default
curl-XPOSThttp://localhost:11434/api/chat-d'{
 "model": "llama2",
 "messages": [
  {
   "role": "user",
   "content": "why is the sky blue?"
  }
 ]
 }'
```
```
# it's non-streaming with `stream: true` by default
curl-XPOSThttp://localhost:11434/api/chat-d'{
 "model": "llama2",
 "messages": [
  {
   "role": "user",
   "content": "why is the sky blue?"
  }
 ]
 }'
```

response result
json```
{
"model": "llama2",
"created_at": "2023-12-21T14:40:31.635304023Z",
"message": {
"role": "assistant",
"content": "The sky appears blue ...."
 },
"done": true,
"total_duration": 30355794101,
"load_duration": 1156507,
"prompt_eval_count": 26,
"prompt_eval_duration": 1037945000,
"eval_count": 288,
"eval_duration": 29311846000
}
```
```
{
"model": "llama2",
"created_at": "2023-12-21T14:40:31.635304023Z",
"message": {
"role": "assistant",
"content": "The sky appears blue ...."
 },
"done": true,
"total_duration": 30355794101,
"load_duration": 1156507,
"prompt_eval_count": 26,
"prompt_eval_duration": 1037945000,
"eval_count": 288,
"eval_duration": 29311846000
}
```

## LLM Configuration [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#llm-configuration)
Since the above deployment is an API interface, it takes effect by modifying the configuration file `config/config2.yaml`.
#### openai compatible interface [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#openai-compatible-interface)
Such as LLaMA-Factory, FastChat, vllm openai compatible interface
**config/config2.yaml**
yaml```
llm:
api_type: 'open_llm'
base_url: 'http://106.75.10.xxx:8000/v1'
model: 'llama2-13b'
```
```
llm:
api_type: 'open_llm'
base_url: 'http://106.75.10.xxx:8000/v1'
model: 'llama2-13b'
```

The complete routing of the openapi chat interface `http://0.0.0.0:8000/v1/chat/completions`, `base_url` only needs to be configured to `http://0.0.0.0:8000/v1`, and the remaining parts will be filled by openai sdk itself. `model` is the actual value of the request interface parameter `model`.
#### ollama api interface [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#ollama-api-interface)
Such as model services deployed through ollama
**config/config2.yaml**
yaml```
llm:
api_type: 'ollama'
base_url: 'http://127.0.0.1:11434/api'
model: 'llama2'
```
```
llm:
api_type: 'ollama'
base_url: 'http://127.0.0.1:11434/api'
model: 'llama2'
```

The complete route of ollama chat interface `http://127.0.0.1:11434/api/chat`, `base_url` only needs to be configured to `http://127.0.0.1:11434/api`, and the remaining part is filled by `OllamaLLM`. `model` is the actual value of the request parameter `model`.
## Optional, repair LLM output [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#optional-repair-llm-output)
### Background [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#background)
This tutorial mainly guides how to integrate open source models (and non-openai closed source models) in MetaGPT. Since the output results of LLM have a great relationship with the prompt instruction format, open source models (also some non-openai closed source models) are often very complicated. It is difficult to follow MetaGPT's existing roles' instructions for output. On the one hand, we will optimize the role instructions so that they have better command result output compatibility under most open and closed source models. On the other hand, based on the current situation, we will repair the output content of the open source LLM to improve the overall execution success rate.
### Main issues with open source model command output [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#main-issues-with-open-source-model-command-output)
Including some issues with non-openai closed source models. MetaGPT's prompt has strong structural requirements for output. It is often difficult to follow the complete output according to the instructions when an open source model works, resulting in missing, omitted, and errors in the output content. The main manifestations are as follows:
  * The target key cannot output according to the upper and lower case agreed by prompt.
  * The output json plain text contains missing or extra special characters. For example, `{"a":b"}}`, `{"a":b"]}`, `{"a":b"` and so on.


In response to the above situation, we have added the feature of repairing open source LLM output, specifically**config/config2.yaml**
yaml```
llm: ...
repair_llm_output: true
```
```
llm: ...
repair_llm_output: true
```

After turning on this function, an attempt will be made to repair the above situation during execution. This switch currently does not guarantee a complete repair. There will still be some situations that we have not covered yet (different open source models have different situations), and the execution process will be interrupted and exited. If you are interested with this, please submit a PR and attach the corresponding model description, test log and unittest cases.
If you enable this function, it means that the LLM output (ProductManager and Architect roles in the software company in MetaGPT) will be repaired. The keyword `repair_` will appear in the log. You can pay attention to it.
## Run [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#run)
After following the above process, you can start using it officially.`metagpt "write a snake game"`
### Extension [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html#extension)
MetaGPT itself is a multi-agent framework and is not limited to software project generation. You can also combine the integrated open source model to build the corresponding agent for use in your own application scenarios. Start your journey of intelligent agents~
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/integration_with_open_llm.md)
[Previous pageHuman engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Next pageCustomize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/human_interaction.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/human_interaction.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Overview](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#overview "Overview")
  * [Example: Machine Learning](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#example-machine-learning "Example: Machine Learning")
    * [Task](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#task "Task")
    * [Code](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#code "Code")
    * [Execution Results](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#execution-results "Execution Results")
  * [Mechanism Explained](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#mechanism-explained "Mechanism Explained")
    * [Example of an DataInterpreter-Generated Plan](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#example-of-an-datainterpreter-generated-plan "Example of an DataInterpreter-Generated Plan")
    * [Interactables for Humans](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#interactables-for-humans "Interactables for Humans")


On this page 
# Human Interaction [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#human-interaction)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#overview)
The interpreter supports flexible natural language interaction. Users can change requirements, provide execution suggestions, and review results at multiple points. With human guidance, the interpreter can achieve higher success rates and better outcomes across various scenarios.
## Example: Machine Learning [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#example-machine-learning)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#task)
We use the same [machine learning scenario](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html) as an example. Here, we demonstrate how to confirm and modify the interpreter's plan based on our needs and guide it to redo specific tasks.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#code)
[examples/di/machine_learning.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/machine_learning.py)
```
python examples/di/machine_learning.py --auto_run False
```
```
python examples/di/machine_learning.py --auto_run False
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#execution-results)
During the interaction, we make multiple requests through natural language, such as:
  * When formulating the plan, we ask it to integrate and change tasks: “merge 4 and 5, also, change task 2, save the plot”
  * During execution, we ask it to update subsequent tasks: “confirm, but change task 3 only, use 30% as validation set”
  * During execution, we ask it to redo the current task: “redo, use a decision tree as the model instead”


The interpreter dynamically adjusts and executes to fulfill our requests.
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#mechanism-explained)
To use the human interaction mode, set `auto_run=False` when initializing the interpreter. The interpreter will request human review after proposing each plan and completing each task in the plan. Combining keywords, users can inform the interpreter how to modify the proposed plan or written code using natural language. The interpreter supports plan status management, preserving progress on unaffected tasks when adding, modifying, or deleting tasks. Please refer to the following usage example.
### Example of an `DataInterpreter`-Generated Plan [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#example-of-an-datainterpreter-generated-plan)
json```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Load the sklearn Wine recognition dataset."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Perform exploratory data analysis and include a plot of the dataset features."
 },
 {
"task_id": "3",
"dependent_task_ids": ["1"],
"instruction": "Split the dataset into training and validation sets with a 20% validation split."
 },
 {
"task_id": "4",
"dependent_task_ids": ["3"],
"instruction": "Train a model on the training set to predict wine class."
 },
 {
"task_id": "5",
"dependent_task_ids": ["4"],
"instruction": "Evaluate the model on the validation set and show the validation accuracy."
 }
]
```
```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Load the sklearn Wine recognition dataset."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Perform exploratory data analysis and include a plot of the dataset features."
 },
 {
"task_id": "3",
"dependent_task_ids": ["1"],
"instruction": "Split the dataset into training and validation sets with a 20% validation split."
 },
 {
"task_id": "4",
"dependent_task_ids": ["3"],
"instruction": "Train a model on the training set to predict wine class."
 },
 {
"task_id": "5",
"dependent_task_ids": ["4"],
"instruction": "Evaluate the model on the validation set and show the validation accuracy."
 }
]
```

### Interactables for Humans [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html#interactables-for-humans)
Interaction Type| Required Keywords| Example| Explanation  
---|---|---|---  
Confirm| One of ["confirm", "continue", "c", "yes", "y"]| confirm| Confirm the current plan or task result and continue execution  
Confirm and Update| confirm + any other content| confirm, and change task 3, use 30% as validation set| Confirm the current task result and modify subsequent tasks  
Redo| redo| redo, fix the error by using matplotlib| Redo the current task, based on human guidance  
redo, use decision tree as the model  
Update| -| add a task, save the plot| Update the plan based on human request  
delete task 5  
change task 4, use decision tree as the model  
merge task 4 and 5  
The interpreter determines the type of interaction based on human feedback text, with priority: Confirm and Update > Confirm > Redo > Update.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/human_interaction.md)
[Previous pageTool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Next pageTool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/image_removebg.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/image_removebg.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Overview](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#overview "Overview")
  * [Example](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#example "Example")
    * [Task](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#task "Task")
    * [Code](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#code "Code")
    * [Execution Results](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#execution-results "Execution Results")


On this page 
# Remove Image Background [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#remove-image-background)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#overview)
Image background removal is a technique used to separate the main objects from the background in an image. It finds applications in various fields such as image editing, person segmentation, product showcasing, and computer vision. By removing the background, it highlights the subject, enhances the visual appeal of the image, and provides a cleaner base for further processing and analysis.
## Example [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#example)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#task)
Use `DataInterpreter` to remove background from a picture of a dog.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#code)
[examples/di/rm_image_background.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/rm_image_background.py)
bash```
pythonexamples/di/rm_image_background.py
```
```
pythonexamples/di/rm_image_background.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html#execution-results)
  1. `DataInterpreter` proposes the following solution steps:


json```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Install the rembg package using pip."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Use the rembg package to remove the background from the image at the specified path."
 },
 {
"task_id": "3",
"dependent_task_ids": ["2"],
"instruction": "Save the image with the background removed to the specified save path."
 }
]
```
```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Install the rembg package using pip."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Use the rembg package to remove the background from the image at the specified path."
 },
 {
"task_id": "3",
"dependent_task_ids": ["2"],
"instruction": "Save the image with the background removed to the specified save path."
 }
]
```

`DataInterpreter` is able to divide the problem into logical tasks, and here we can see that the first step is to install the Python library "rembg".
  1. `DataInterpreter` writes the following code:


python```
# -----------------------------task1-------------------------------
!pip install rembg
# -----------------------------task2-------------------------------
from rembg import remove
input_path ='/data/luxiangtao/data_agents_opt-code_intepreter/dog.jpg'
output_path ='/data/luxiangtao/data_agents_opt-code_intepreter/dog_rmg.png'
# Read the input image
withopen(input_path, 'rb') as i:
  input_image = i.read()
# Remove the background
output_image = remove(input_image)
# ------------------------------task3-------------------------------
# Write the output image
withopen(output_path, 'wb') as o:
  o.write(output_image)
```
```
# -----------------------------task1-------------------------------
!pip install rembg
# -----------------------------task2-------------------------------
from rembg import remove
input_path ='/data/luxiangtao/data_agents_opt-code_intepreter/dog.jpg'
output_path ='/data/luxiangtao/data_agents_opt-code_intepreter/dog_rmg.png'
# Read the input image
withopen(input_path, 'rb') as i:
  input_image = i.read()
# Remove the background
output_image = remove(input_image)
# ------------------------------task3-------------------------------
# Write the output image
withopen(output_path, 'wb') as o:
  o.write(output_image)
```

`rembg` is an open-source Python toolkit that enables automatic image background removal and can run on CPU. When we mention the use of this toolkit in the requirements, `DataInterpreter` is capable of automatically installing and correctly utilizing this toolkit.(This is likely because LLM learned the usage of the "rembg" Python library during its training)
Here is the input image of a dog and the image of the dog with the background removed. It can be seen that the background removal effect is excellent, and `DataInterpreter` can smoothly accomplish this problem.
![](https://docs.deepwisdom.ai/main/assets/dog.beebf16d.jpg)![](https://docs.deepwisdom.ai/main/assets/dog_rmg.21f5c0b2.png)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/image_removebg.md)
[Previous pageMachine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Next pageSolve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/imitate_webpage.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/imitate_webpage.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Tool Usage: Web Page Imitation [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#tool-usage-web-page-imitation)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#overview)
Webpage imitation involves creating a copy or a similar version of an existing webpage, suitable for various purposes such as functional testing, visual design comparisons, and as an auxiliary tool for teaching webpage design and development. The imitation process includes replicating the layout, style, and content of the target webpage.
## Example: Imitating Web Pages Using GPT-4V [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#example-imitating-web-pages-using-gpt-4v)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#task)
Given a URL or an image of a webpage, use the MetaGPT tool integrated with GPT-4 Vision, GPTvGenerator, to imitate a similar webpage.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#code)
[examples/di/imitate_webpage.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/imitate_webpage.py)
bash```
pythonexamples/di/imitate_webpage.py
```
```
pythonexamples/di/imitate_webpage.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#execution-results)
Original webpage screenshot: ![](https://docs.deepwisdom.ai/main/assets/ori_webpage.f4a88941.png)
Imitated webpages: ![](https://docs.deepwisdom.ai/main/assets/imitate1.72090d49.png)![](https://docs.deepwisdom.ai/main/assets/imitate2.4819e68a.png)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html#mechanism-explained)
  1. When planning tasks, interpreter generates several tasks, allocating the tool types for tasks based on the docstring of all registered tools. interpreter automatically sets the intermediate task type for generating webpages to "image2webpage", scanning for available tools related to GPTvGenerator when executing tasks.
  2. Upon discovering available tools: ['GPTvGenerator'], it loads the tool code, uses the `generate_webpages` method to generate related frontend code according to current needs, and saves them using the `save_webpages` method.


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/imitate_webpage.md)
[Previous pageReceipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Next pageHuman interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/use_memories.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/use_memories.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Use Memories [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#use-memories)
As discussed in [Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html), Memory is one of the core components of an agent. Agent needs memory to have an essential context for making decision or perform actions. It also need memory to learn skills or accumulate experience. In this tutorial, we cover basic memory usage.
After this tutorial, you will be able to:
  1. Understand what memories are like in MetaGPT
  2. How to add or retrieve memories


## What are memories like [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#what-are-memories-like)
Class `Memory` is the abstraction for an agent's memory in MetaGPT. When initialized, `Role` acquire its `Memory` as `self.rc.memory`, which will store every `Message` it later `_observe` in a list for future retrieval. The initialization and storage are handled by the framework. In short, memories of a `Role` are a list of `Message`s.
## Retrieve memory [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#retrieve-memory)
When recorded memories are needed, such as serving as context for a LLM call, you can use `self.get_memories`. The function definition is as follows:
python```
defget_memories(self, k=0) -> list[Message]:
"""A wrapper to return the most recent k memories of this role, return all when k=0"""
returnself.rc.memory.get(k=k)
```
```
defget_memories(self, k=0) -> list[Message]:
"""A wrapper to return the most recent k memories of this role, return all when k=0"""
returnself.rc.memory.get(k=k)
```

For example, in [MultiAgent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html), we call this function to provide the tester with the full history. In this way, if the reviewer provides feedback, the tester can modify test cases with reference to their previous version. The snippet is as follows
python```
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo
# context = self.get_memories(k=1)[0].content # use the most recent memory as context
    context =self.get_memories() # use all memories as context
    code_text =await todo.run(context, k=5) # specify arguments
    msg = Message(content=code_text, role=self.profile, cause_by=todo)
return msg
```
```
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo
# context = self.get_memories(k=1)[0].content # use the most recent memory as context
    context =self.get_memories() # use all memories as context
    code_text =await todo.run(context, k=5) # specify arguments
    msg = Message(content=code_text, role=self.profile, cause_by=todo)
return msg
```

## Add memory [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#add-memory)
For adding memories, one can use `self.rc.memory.add(msg)` where `msg` must be an instance of `Message`. Check the snippet above for an example usage.
It is recommended to add `Message`s of action output to the `Role`'s memory when defining the `_act` logic. `Role` normally needs to remember what it said or did previously in order to take a next step.
## Next step [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html#next-step)
Memory is a huge topic in agents. To be precise, the memory this tutorial talks about corresponds to the concept of "short-term memory". The retrieval is also based on simple recency. However, there are multiple branches of memories as well as a wide range of memory generation and retrieval techniques. Please consult [Memory](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/memory.html) for using memory to really boost your agent's performance.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/use_memories.md)
[Previous pageMultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Next pageCreate and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/data_visualization.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/data_visualization.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Data Visualization [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#data-visualization)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#overview)
Data visualization is the process of representing data in a visual form, such as charts, graphs, and other visual elements. It helps us to discover patterns, trends, and correlations in the data, as well as provide insights and understanding. Through data visualization, we can gain a better understanding of the meaning of the data, communicate and explain the results, and support data-driven decision making and communication.
## Example: Visualize Iris Dataset [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#example-visualize-iris-dataset)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#task)
Use `DataInterpreter` to perform a simple data analysis and visualize the sklearn Iris dataset.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#code)
bash```
pythonexamples/di/data_visualization.py
```
```
pythonexamples/di/data_visualization.py
```

The code in [examples/di/data_visualization.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/data_visualization.py) is as follows:
python```
import asyncio
from metagpt.logs import logger
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.utils.recovery_util import save_history
asyncdefmain(requirement: str=""):
  di = DataInterpreter()
  rsp =await di.run(requirement)
  logger.info(rsp)
  save_history(role=di)

if__name__=="__main__":
  requirement ="Run data analysis on sklearn Iris dataset, include a plot"
  asyncio.run(main(requirement))
```
```
import asyncio
from metagpt.logs import logger
from metagpt.roles.di.data_interpreter import DataInterpreter
from metagpt.utils.recovery_util import save_history
asyncdefmain(requirement: str=""):
  di = DataInterpreter()
  rsp =await di.run(requirement)
  logger.info(rsp)
  save_history(role=di)

if__name__=="__main__":
  requirement ="Run data analysis on sklearn Iris dataset, include a plot"
  asyncio.run(main(requirement))
```

By executing the above code, the generated plan and code will be saved separately in `data/output/current_time/plan.json` and `data/output/current_time/code.ipynb`, respectively.
### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html#execution-results)
  1. `DataInterpreter` proposes the following solution tasks:


json```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Load the Iris dataset from sklearn."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Perform exploratory data analysis on the Iris dataset."
 },
 {
"task_id": "3",
"dependent_task_ids": ["2"],
"instruction": "Create a plot visualizing the Iris dataset features."
 }
]
```
```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Load the Iris dataset from sklearn."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Perform exploratory data analysis on the Iris dataset."
 },
 {
"task_id": "3",
"dependent_task_ids": ["2"],
"instruction": "Create a plot visualizing the Iris dataset features."
 }
]
```

`DataInterpreter` is able to divide the problem into logical tasks, and And run according to the steps of loading the data, analyzing the data, and plotting the chart.
  1. `DataInterpreter` writes the following code:


python```
# ----------------------------------task1------------------------------------
from sklearn.datasets import load_iris
iris_data = load_iris()
iris_data.keys()
!pip install scikit-learn
from sklearn.datasets import load_iris
iris_data = load_iris()
iris_data.keys()
# ----------------------------------task2------------------------------------
import pandas as pd
# Create a DataFrame from the iris dataset
iris_df = pd.DataFrame(iris_data['data'], columns=iris_data['feature_names'])
iris_df['species'] = pd.Categorical.from_codes(iris_data['target'], iris_data['target_names'])
# Summary statistics
summary_statistics = iris_df.describe()
# Check for missing values
missing_values = iris_df.isnull().sum()
(summary_statistics, missing_values)
# ----------------------------------task3------------------------------------
import matplotlib.pyplot as plt
import seaborn as sns
# Use seaborn's pairplot to visualize the dataset features
sns.set(style='whitegrid', context='notebook')
iris_pairplot = sns.pairplot(iris_df, hue='species', height=2.5)
plt.show()
```
```
# ----------------------------------task1------------------------------------
from sklearn.datasets import load_iris
iris_data = load_iris()
iris_data.keys()
!pip install scikit-learn
from sklearn.datasets import load_iris
iris_data = load_iris()
iris_data.keys()
# ----------------------------------task2------------------------------------
import pandas as pd
# Create a DataFrame from the iris dataset
iris_df = pd.DataFrame(iris_data['data'], columns=iris_data['feature_names'])
iris_df['species'] = pd.Categorical.from_codes(iris_data['target'], iris_data['target_names'])
# Summary statistics
summary_statistics = iris_df.describe()
# Check for missing values
missing_values = iris_df.isnull().sum()
(summary_statistics, missing_values)
# ----------------------------------task3------------------------------------
import matplotlib.pyplot as plt
import seaborn as sns
# Use seaborn's pairplot to visualize the dataset features
sns.set(style='whitegrid', context='notebook')
iris_pairplot = sns.pairplot(iris_df, hue='species', height=2.5)
plt.show()
```

During the completion of task 1, an error occurred on the first execution due to the lack of scikit-learn installed in the environment. However, `DataInterpreter` can analyze and resolve this issue by installing scikit-learn. In task 3, `DataInterpreter` uses the pairplot function from seaborn to create a scatterplot matrix, which visualizes the relationships between different features in the dataset and differentiates data points of different species using colors. Finally, `plt.show()` is used to display the graph.
Below is the graph plotted by `DataInterpreter` running the code. It is evident that the code executed successfully and generated a beautiful visualization table, which can help us analyze the features of the dataset more effectively.
![](https://docs.deepwisdom.ai/main/assets/output.4e3eea73.png)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/data_visualization.md)
[Previous pageData Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Next pageMachine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/android_assistant.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/android_assistant.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Android Assistant [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html#android-assistant)
[README](https://github.com/geekan/MetaGPT/blob/main/metagpt/ext/android_assistant/README.md)
[Execution entry example code](https://github.com/geekan/MetaGPT/tree/main/examples/android_assistant)
[Android Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/android_assistant.md)
[Previous pageReceipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Next pageDebate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/crawl_webpage.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/crawl_webpage.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Tool Usage: Web Scraping [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#tool-usage-web-scraping)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#overview)
Web scraping involves the extraction and understanding of web page content, providing users with more intelligent, customized information retrieval and analysis capabilities. We will implement this scenario requirement with `DataInterpreter`.
## Example: Using the Tool to Obtain Table Data from a Static Web Page [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#example-using-the-tool-to-obtain-table-data-from-a-static-web-page)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#task)
Retrieve paper information containing the keywords: `multiagent` and `large language model` from [iclr-2024-statistics](https://papercopilot.com/statistics/iclr-statistics/iclr-2024-statistics/)
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#code)
[examples/di/crawl_webpage.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/crawl_webpage.py)
bash```
pythonexamples/di/crawl_webpage.py
```
```
pythonexamples/di/crawl_webpage.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#execution-results)
![](https://docs.deepwisdom.ai/main/assets/iclr2024_filtered_papers.77016bd8.png)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html#mechanism-explained)
  1. Use the tool function scrape_web_playwright from metagpt.tools.libs.web_scraping to obtain the webpage's HTML and inner text. This tool function is a wrapper for the browser automation library Playwright.
  2. Use BeautifulSoup to retrieve the table with the id paperlist, and load it as a pandas DataFrame.
  3. Obtain the column names of the DataFrame to locate the title column, match keywords multiagent, large language model to filter data. Save the filtered data in filtered_papers.csv.


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/crawl_webpage.md)
[Previous pageHuman interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Next pageTool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/receipt_assistant.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/receipt_assistant.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Recepit Assistant: Extract Structural Info from Receipts [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#recepit-assistant-extract-structural-info-from-receipts)
## Role Introduction [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#role-introduction)
### Function Description [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#function-description)
Supports OCR recognition of invoice files in `pdf`, `png`, `jpg`, and `zip` formats, generating a `csv` file with information on the payee, city, total amount, and invoicing date. For single-file invoices in `pdf`, `png`, `jpg` formats, you can ask questions related to the invoice content. Additionally, multi-language support is provided for the generated invoice results.
### Design Concept [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#design-concept)
  * For `pdf`, `png`, `jpg` format invoice files, use the open-source `PaddleOCR API` for OCR recognition. Extract the OCR-recognized data using the `LLM` large model and write it to a table. Finally, ask the `LLM` large model about the invoice content.
  * For `zip` format invoice files, first unzip the compressed package to a specified directory. Then, recursively traverse `pdf`, `png`, `jpg` format invoice files for OCR recognition. Provide the OCR-recognized data to the `LLM` large model to extract key information into the same table. Asking questions about content is not supported for multiple files.


### Source Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#source-code)
[metagpt/roles/invoice_ocr_assistant.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/roles/invoice_ocr_assistant.py)
## Role Definition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#role-definition)
  1. Define the role class, inherit from the `Role` base class, and override the `__init__` initialization method. The `__init__` method must include the `name`, `profile`, `goal`, and `constraints` parameters. The first line of code uses `super().__init__(name, profile, goal, constraints)` to call the constructor of the parent class, implementing the initialization of the `Role`. Use `self.set_actions([InvoiceOCR])` to add initial actions and states. Here, the initial action is to add an action for OCR recognition of invoices. Custom parameters can also be added; here, the `language` parameter is added to support custom languages. Variables such as `filename`, `origin_query`, and `orc_data` are used to temporarily store the invoice file name, the original query, and the OCR recognition result, respectively. Use `self._set_react_mode(react_mode="by_order")` to set the execution order of actions to be sequential in the `set_actions`.
python```
classInvoiceOCRAssistant(Role):
"""Invoice OCR assistant, support OCR text recognition of invoice PDF, png, jpg, and zip files,
  generate a table for the payee, city, total amount, and invoicing date of the invoice,
  and ask questions for a single file based on the OCR recognition results of the invoice.
  Args:
    name: The name of the role.
    profile: The role profile description.
    goal: The goal of the role.
    constraints: Constraints or requirements for the role.
    language: The language in which the invoice table will be generated.
  """
def__init__(
    self,
    name: str="Stitch",
    profile: str="Invoice OCR Assistant",
    goal: str="OCR identifies invoice files and generates invoice main information table",
    constraints: str="",
    language: str="ch",
  ):
super().__init__(name, profile, goal, constraints)
self.set_actions([InvoiceOCR])
self.language = language
self.filename =""
self.origin_query =""
self.orc_data =None
self._set_react_mode(react_mode="by_order")
```
```
classInvoiceOCRAssistant(Role):
"""Invoice OCR assistant, support OCR text recognition of invoice PDF, png, jpg, and zip files,
  generate a table for the payee, city, total amount, and invoicing date of the invoice,
  and ask questions for a single file based on the OCR recognition results of the invoice.
  Args:
    name: The name of the role.
    profile: The role profile description.
    goal: The goal of the role.
    constraints: Constraints or requirements for the role.
    language: The language in which the invoice table will be generated.
  """
def__init__(
    self,
    name: str="Stitch",
    profile: str="Invoice OCR Assistant",
    goal: str="OCR identifies invoice files and generates invoice main information table",
    constraints: str="",
    language: str="ch",
  ):
super().__init__(name, profile, goal, constraints)
self.set_actions([InvoiceOCR])
self.language = language
self.filename =""
self.origin_query =""
self.orc_data =None
self._set_react_mode(react_mode="by_order")
```

  2. Override the `_act` method. The `_act` method is responsible for executing actions. The `Role` class's `_react` method cyclically performs `think` and `action` operations. The `_think` method considers the next action to be performed based on the `states`. Therefore, only the `_act` method needs to be overridden. Use `msg = self.rc.memory.get(k=1)[0]` to get the latest message from the context. Use `todo = self.rc.todo` to get the next action to be executed from the context. Here, the invoice data is recognized through `InvoiceOCR`. If only a single invoice is recognized, add `GenerateTable` and `ReplyQuestion` actions. If multiple invoice files are recognized, the `ReplyQuestion` action is not needed. Use the `GenerateTable` action to provide the invoice recognition results to the `LLM` large model for extracting key information and downloading it as a table file. If it is a single invoice file, send the query and recognition results to the `LLM` large model to get the answer. The result of each action is turned into a `message`, and it is added to the context using `self.rc.memory.add(msg)`.
python```
asyncdef_act(self) -> Message:
"""Perform an action as determined by the role.
  Returns:
    A message containing the result of the action.
  """
  msg =self.rc.memory.get(k=1)[0]
  todo =self.rc.todo
ifisinstance(todo, InvoiceOCR):
self.origin_query = msg.content
    file_path = msg.instruct_content.get("file_path")
self.filename = file_path.name
ifnot file_path:
raiseException("Invoice file not uploaded")
    resp =await todo.run(file_path)
iflen(resp) ==1:
# Single file support for questioning based on OCR recognition results
self.set_actions([GenerateTable, ReplyQuestion])
self.orc_data = resp[0]
else:
self.set_actions([GenerateTable])
self.rc.todo =None
    content =INVOICE_OCR_SUCCESS
elifisinstance(todo, GenerateTable):
    ocr_results = msg.instruct_content
    resp =await todo.run(ocr_results, self.filename)
# Convert list to Markdown format string
    df = pd.DataFrame(resp)
    markdown_table
```
```
asyncdef_act(self) -> Message:
"""Perform an action as determined by the role.
  Returns:
    A message containing the result of the action.
  """
  msg =self.rc.memory.get(k=1)[0]
  todo =self.rc.todo
ifisinstance(todo, InvoiceOCR):
self.origin_query = msg.content
    file_path = msg.instruct_content.get("file_path")
self.filename = file_path.name
ifnot file_path:
raiseException("Invoice file not uploaded")
    resp =await todo.run(file_path)
iflen(resp) ==1:
# Single file support for questioning based on OCR recognition results
self.set_actions([GenerateTable, ReplyQuestion])
self.orc_data = resp[0]
else:
self.set_actions([GenerateTable])
self.rc.todo =None
    content =INVOICE_OCR_SUCCESS
elifisinstance(todo, GenerateTable):
    ocr_results = msg.instruct_content
    resp =await todo.run(ocr_results, self.filename)
# Convert list to Markdown format string
    df = pd.DataFrame(resp)
    markdown_table
```



## Action Definition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#action-definition)
  1. Define an `action`, where each `action` corresponds to a `class` object. Inherit from the `Action` base class and override the `__init__` initialization method. The `__init__` method includes the `name` parameter. The first line of code uses `super().__init__(name, *args, **kwargs)` to call the parent class constructor, implementing the initialization of the `action`. Here, use `args` and `kwargs` to pass other parameters to the parent class constructor, such as `context` and `llm`.
python```
classInvoiceOCR(Action):
"""Action class for performing OCR on invoice files, including zip, PDF, png, and jpg files.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language for OCR output. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", *args, **kwargs):
super().__init__(name, *args, **kwargs)
```
```
classInvoiceOCR(Action):
"""Action class for performing OCR on invoice files, including zip, PDF, png, and jpg files.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language for OCR output. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", *args, **kwargs):
super().__init__(name, *args, **kwargs)
```

  2. Override the `run` method. The `run` method is the main function for executing the `action`. For `InvoiceOCR`, for `pdf`, `png`, `jpg` format invoice files, use the open-source `PaddleOCR API` for OCR recognition. For `zip` format invoice files, unzip the compressed package to a specified directory, then recursively traverse `pdf`, `png`, `jpg` format invoice files, and perform OCR recognition on each file.
python```
asyncdefrun(self, file_path: Path, *args, **kwargs) -> list:
"""Execute the action to identify invoice files through OCR.
  Args:
    file_path: The path to the input file.
  Returns:
    A list of OCR results.
  """
  file_ext =awaitself._check_file_type(file_path)
if file_ext ==".zip":
# OCR recognizes zip batch files
    unzip_path =awaitself._unzip(file_path)
    ocr_list = []
for root, _, files in os.walk(unzip_path):
for filename in files:
        invoice_file_path = Path(root) / Path(filename)
# Identify files that match the type
if Path(filename).suffix in [".zip", ".pdf", ".png", ".jpg"]:
          ocr_result =awaitself._ocr(str(invoice_file_path))
          ocr_list.append(ocr_result)
return ocr_list
else:
# OCR identifies single file
    ocr_result =awaitself._ocr(file_path)
return [ocr_result]
@staticmethod
asyncdef_check_file_type(file_path: Path) -> str:
"""Check the file type of the given filename.
  Args:
    file_path: The path of the file.
  Returns:
    The file type based on FileExtensionType enum.
  Raises:
    Exception: If the file format is not zip, pdf, png, or jpg.
  """
  ext = file_path.suffix
if ext notin [".zip", ".pdf", ".png", ".jpg"]:
raiseException("The invoice format is not zip, pdf, png, or jpg")
return ext
@staticmethod
asyncdef_unzip(file_path: Path) -> Path:
"""Unzip a file and return the path to the unzipped directory.
  Args:
    file_path: The path to the zip file.
  Returns:
    The path to the unzipped directory.
  """
  file_directory = file_path.parent /"unzip_invoices"/ datetime.now().strftime("%Y%m%d%H%M%S")
with zipfile.ZipFile(file_path, "r") as zip_ref:
for zip_info in zip_ref.infolist():
# Use CP437 to encode the file name, and then use GBK decoding to prevent Chinese garbled code
      relative_name = Path(zip_info.filename.encode("cp437").decode("gbk"))
if relative_name.suffix:
        full_filename = file_directory / relative_name
await File.write(full_filename.parent, relative_name.name, zip_ref.read(zip_info.filename))
  logger.info(f"unzip_path: {file_directory}")
return file_directory
@staticmethod
asyncdef_ocr(invoice_file_path: Path):
  ocr = PaddleOCR(use_angle_cls=True, lang="ch", page_num=1)
  ocr_result = ocr.ocr(str(invoice_file_path), cls=True)
return ocr_result
```
```
asyncdefrun(self, file_path: Path, *args, **kwargs) -> list:
"""Execute the action to identify invoice files through OCR.
  Args:
    file_path: The path to the input file.
  Returns:
    A list of OCR results.
  """
  file_ext =awaitself._check_file_type(file_path)
if file_ext ==".zip":
# OCR recognizes zip batch files
    unzip_path =awaitself._unzip(file_path)
    ocr_list = []
for root, _, files in os.walk(unzip_path):
for filename in files:
        invoice_file_path = Path(root) / Path(filename)
# Identify files that match the type
if Path(filename).suffix in [".zip", ".pdf", ".png", ".jpg"]:
          ocr_result =awaitself._ocr(str(invoice_file_path))
          ocr_list.append(ocr_result)
return ocr_list
else:
# OCR identifies single file
    ocr_result =awaitself._ocr(file_path)
return [ocr_result]
@staticmethod
asyncdef_check_file_type(file_path: Path) -> str:
"""Check the file type of the given filename.
  Args:
    file_path: The path of the file.
  Returns:
    The file type based on FileExtensionType enum.
  Raises:
    Exception: If the file format is not zip, pdf, png, or jpg.
  """
  ext = file_path.suffix
if ext notin [".zip", ".pdf", ".png", ".jpg"]:
raiseException("The invoice format is not zip, pdf, png, or jpg")
return ext
@staticmethod
asyncdef_unzip(file_path: Path) -> Path:
"""Unzip a file and return the path to the unzipped directory.
  Args:
    file_path: The path to the zip file.
  Returns:
    The path to the unzipped directory.
  """
  file_directory = file_path.parent /"unzip_invoices"/ datetime.now().strftime("%Y%m%d%H%M%S")
with zipfile.ZipFile(file_path, "r") as zip_ref:
for zip_info in zip_ref.infolist():
# Use CP437 to encode the file name, and then use GBK decoding to prevent Chinese garbled code
      relative_name = Path(zip_info.filename.encode("cp437").decode("gbk"))
if relative_name.suffix:
        full_filename = file_directory / relative_name
await File.write(full_filename.parent, relative_name.name, zip_ref.read(zip_info.filename))
  logger.info(f"unzip_path: {file_directory}")
return file_directory
@staticmethod
asyncdef_ocr(invoice_file_path: Path):
  ocr = PaddleOCR(use_angle_cls=True, lang="ch", page_num=1)
  ocr_result = ocr.ocr(str(invoice_file_path), cls=True)
return ocr_result
```

  3. Other `action` implementations are similar. `GenerateTable` provides OCR-recognized data to the `LLM` large model to extract key information and write it to a table. `ReplyQuestion` asks the `LLM` large model about the content of the invoice.
python```
classGenerateTable(Action):
"""Action class for generating tables from OCR results.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language used for the generated table. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", language: str="ch", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
asyncdefrun(self, ocr_results: list, filename: str, *args, **kwargs) -> dict[str, str]:
"""Processes OCR results, extracts invoice information, generates a table, and saves it as an Excel file.
    Args:
      ocr_results: A list of OCR results obtained from invoice processing.
      filename: The name of the output Excel file.
    Returns:
      A dictionary containing the invoice information.
    """
    table_data = []
    pathname =INVOICE_OCR_TABLE_PATH
    pathname.mkdir(parents=True, exist_ok=True)
for ocr_result in ocr_results:
# Extract invoice OCR main information
      prompt =EXTRACT_OCR_MAIN_INFO_PROMPT.format(ocr_result=ocr_result, language=self.language)
      ocr_info =awaitself._aask(prompt=prompt)
      invoice_data = OutputParser.extract_struct(ocr_info, dict)
if invoice_data:
        table_data.append(invoice_data)
# Generate Excel file
    filename =f"{filename.split('.')[0]}.xlsx"
    full_filename =f"{pathname}/{filename}"
    df = pd.DataFrame(table_data)
    df.to_excel(full_filename, index=False)
return table_data

classReplyQuestion(Action):
"""Action class for generating replies to questions based on OCR results.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language used for generating the reply. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", language: str="ch", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
asyncdefrun(self, query: str, ocr_result: list, *args, **kwargs) -> str:
"""Reply to questions based on ocr results.
    Args:
      query: The question for which a reply is generated.
      ocr_result: A list of OCR results.
    Returns:
      A reply result of string type.
    """
    prompt =REPLY_OCR_QUESTION_PROMPT.format(query=query, ocr_result=ocr_result, language=self.language)
    resp =awaitself._aask(prompt=prompt)
return resp
```
```
classGenerateTable(Action):
"""Action class for generating tables from OCR results.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language used for the generated table. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", language: str="ch", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
asyncdefrun(self, ocr_results: list, filename: str, *args, **kwargs) -> dict[str, str]:
"""Processes OCR results, extracts invoice information, generates a table, and saves it as an Excel file.
    Args:
      ocr_results: A list of OCR results obtained from invoice processing.
      filename: The name of the output Excel file.
    Returns:
      A dictionary containing the invoice information.
    """
    table_data = []
    pathname =INVOICE_OCR_TABLE_PATH
    pathname.mkdir(parents=True, exist_ok=True)
for ocr_result in ocr_results:
# Extract invoice OCR main information
      prompt =EXTRACT_OCR_MAIN_INFO_PROMPT.format(ocr_result=ocr_result, language=self.language)
      ocr_info =awaitself._aask(prompt=prompt)
      invoice_data = OutputParser.extract_struct(ocr_info, dict)
if invoice_data:
        table_data.append(invoice_data)
# Generate Excel file
    filename =f"{filename.split('.')[0]}.xlsx"
    full_filename =f"{pathname}/{filename}"
    df = pd.DataFrame(table_data)
    df.to_excel(full_filename, index=False)
return table_data

classReplyQuestion(Action):
"""Action class for generating replies to questions based on OCR results.
  Args:
    name: The name of the action. Defaults to an empty string.
    language: The language used for generating the reply. Defaults to "ch" (Chinese).
  """
def__init__(self, name: str="", language: str="ch", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
asyncdefrun(self, query: str, ocr_result: list, *args, **kwargs) -> str:
"""Reply to questions based on ocr results.
    Args:
      query: The question for which a reply is generated.
      ocr_result: A list of OCR results.
    Returns:
      A reply result of string type.
    """
    prompt =REPLY_OCR_QUESTION_PROMPT.format(query=query, ocr_result=ocr_result, language=self.language)
    resp =awaitself._aask(prompt=prompt)
return resp
```



## Role Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#role-execution-results)
### Input Examples [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#input-examples)
#### Example 1 [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#example-1)
  * Invoice Image
![image](https://docs.deepwisdom.ai/main/image/guide/use_cases/invoice_ocr_assistant/invoice_1.png)
  * Input code as follows, replace `path` with the relative path to the invoice file.
python```
role = InvoiceOCRAssistant()
await role.run(Message(content="Invoicing date", instruct_content={"file_path": path}))
```
```
role = InvoiceOCRAssistant()
await role.run(Message(content="Invoicing date", instruct_content={"file_path": path}))
```



#### Example 2 [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#example-2)
  * Invoice Image
![image](https://docs.deepwisdom.ai/main/image/guide/use_cases/invoice_ocr_assistant/invoice_2.jpg)
  * Input code as follows, replace `path` with the relative path to the invoice file.
python```
role = InvoiceOCRAssistant()
await role.run(Message(content="Payee", instruct_content={"file_path": path}))
```
```
role = InvoiceOCRAssistant()
await role.run(Message(content="Payee", instruct_content={"file_path": path}))
```



### Execution Command Example [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#execution-command-example)
In the project's root directory, execute the command `python3 examples/invoice_ocr.py`.
### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#execution-results)
The generated invoice information is in the xlsx file in the `/data/invoice_ocr` directory at the project's root. Screenshots are as follows:
![image](https://docs.deepwisdom.ai/main/image/guide/use_cases/invoice_ocr_assistant/output.png)
## Note [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html#note)
It is recommended to use a large text limit `llm` model `api`, such as `gpt-4-turbo`, for this role. This helps to avoid limitations when interacting with the `llm` large model due to excessively large OCR recognition results.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/receipt_assistant.md)
[Previous pagePhotographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Next pageAndroid Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/intro.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/intro.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Data Interpreter (DI) [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html#data-interpreter-di)
## What is Data Interpreter [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html#what-is-data-interpreter)
Data Interpreter is an agent who solves data-related problems through codes. It understands user requirements, makes plans, writes codes for execution, and uses tools if necessary. These capabilities enable it to tackle a wide range of scenarios. Feel free to check out [the paper](https://arxiv.org/abs/2402.18679) and the examples below.
## Example List [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html#example-list)
  * [Data visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
  * [Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
  * [Machine learning with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
  * [Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
  * [Solve math problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
  * [Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
  * [Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
  * [Tool usage: web crawling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
  * [Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
  * [Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
  * More on the way!


## Note [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html#note)
If you want to save the Jupyter Notebook file and the results of the plan at runtime for future reference and analysis, you can refer to the code of the [Data visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html) example.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/intro.md)
[Previous pageCustomize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
[Next pageData analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/ocr_receipt.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/ocr_receipt.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Receipt OCR [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#receipt-ocr)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#overview)
OCR (Optical Character Recognition) is a technology that recognizes text within images to obtain structured text information. We will use `DataInterpreter` for OCR information extraction from various types of receipts.
## Example: Shopping Receipt Recognition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#example-shopping-receipt-recognition)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#task)
Use `DataInterpreter` to perform OCR recognition on the following receipt, extract and save the total amount.
![](https://docs.deepwisdom.ai/main/assets/receipt_shopping.46020166.png)
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#code)
[examples/di/ocr_receipt.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/ocr_receipt.py)
> Note: You need to install Paddle-related dependencies to run this example, execute `pip install metagpt[ocr]`
bash```
pythonexamples/di/ocr_receipt.py
```
```
pythonexamples/di/ocr_receipt.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#execution-results)
`DataInterpreter` will save a csv file containing the total amount under current working directory.
![](https://docs.deepwisdom.ai/main/assets/receipt_shopping_ocr_result.a5e46e69.png)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html#mechanism-explained)
Use `DataInterpreter` to first generate a plan, then generate tool code based on paddle OCR, execute OCR processing to recognize text information in the image of the catering invoice, extract relevant data, and organize these data into a table file.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/ocr_receipt.md)
[Previous pageSolve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Next pageTool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/machine_learning.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/machine_learning.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Machine Learning Modeling [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#machine-learning-modeling)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#overview)
Machine learning analyzes data through algorithms to perform classification and regression predictions, such as stock price forecasts, spam email classification, credit scoring, medical diagnosis, etc. We can use `DataInterpreter` to produce such algorithmic code, model data, and complete prediction tasks.
## Example: Wine Recognition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#example-wine-recognition)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#task)
We use the [sklearn wine recognition dataset](https://scikit-learn.org/stable/datasets/toy_dataset.html#wine-dataset) as an example to illustrate how to use `DataInterpreter` for machine learning modeling. This is a classic multi-class dataset with several features such as color, chemical composition, etc., based on which the wine category of samples can be predicted. We require `DataInterpreter` to fetch the data, split the training and validation sets, train the model, and make predictions on the validation set.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#code)
[examples/di/machine_learning.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/machine_learning.py)
bash```
pythonexamples/di/machine_learning.py
```
```
pythonexamples/di/machine_learning.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#execution-results)
## Example: Sales Forecast [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#example-sales-forecast)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#task-1)
Let's use the [Walmart Sales Forecast Dataset](https://www.kaggle.com/datasets/aslanahmedov/walmart-sales-forecast/data) as an example to show how to use the `DataInterpreter` for sales forecasting modeling. There are four tables in the dataset: train.csv, test.csv, feature.csv, and store.csv, and we ask the `DataInterpreter` to fetch the data, stitch the data, slice the training and validation sets, train the model, and make predictions on the test set.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#code-1)
bash```
pythonexamples/di/machine_learning.py--use_casesales_forecast
```
```
pythonexamples/di/machine_learning.py--use_casesales_forecast
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#execution-results-1)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#mechanism-explained)
`DataInterpreter` plans according to our requirements, forms several tasks, and executes them in sequence to fulfill the needs. The complete code generated by `DataInterpreter` will be stored in the data/output path.
## Extension [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html#extension)
For targeted processing of more complex machine learning tasks, please refer to [Machine Learning with Tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html).
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/machine_learning.md)
[Previous pageData analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Next pageMachine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/text2image.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/text2image.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Tool Usage: Text2Image [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#tool-usage-text2image)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#overview)
Text2Image refers to obtaining images through text descriptions.
## Example: Completing Text2Image Using the Stable Diffusion Tool [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#example-completing-text2image-using-the-stable-diffusion-tool)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#task)
Use the text-to-image tool of stable diffusion to generate an image from a given text description.
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#code)
[examples/di/sd_tool_usage.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/sd_tool_usage.py)
bash```
pythonexamples/di/sd_tool_usage.py
```
```
pythonexamples/di/sd_tool_usage.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#execution-results)
Produces a 512x768 image in metagpt's workspace/resources/SD_Output ![](https://docs.deepwisdom.ai/main/assets/girl_img.45b567e5.png)
## Mechanism Explained [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html#mechanism-explained)
  1. Standardize the existing code sd_engine.py under metagpt/tools to provide it to `DataInterpreter`. The tool definition is placed under metagpt/tools/functions/schemas, see stable_diffusion.yml.
  2. When planning tasks, `DataInterpreter` automatically sets the intermediate task type as "stable_diffusion", scanning for available tools related to stable diffusion during task execution.
  3. Upon discovering available tools: ['SDEngine'], it loads the tool code and automatically uses SD T2I (Text to Image) code to generate images according to current needs. Before generating images, it automatically expands the SD Prompt.


[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/text2image.md)
[Previous pageTool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Next pageTool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Solve Mathematical Problems [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#solve-mathematical-problems)
## Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#overview)
Use `DataInterpreter` to solve Mathematical problems randomly selected from the level5 level of the Math dataset.
## Example [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#example)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#task)
At a school, all 60 students play on at least one of three teams: Basketball, Soccer, and Mathletics. 8 students play all three sports, half the students play basketball, and the ratio of the size of the math team to the size of the basketball team to the size of the soccer team is $4:3:2$. How many students at the school play on exactly two teams?
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#code)
[examples/di/solve_math_problems.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/solve_math_problems.py)
bash```
pythonexamples/di/solve_math_problems.py
```
```
pythonexamples/di/solve_math_problems.py
```

The code in `examples/di/solve_math_problems.py` is as follows:
python```
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter

asyncdefmain(requirement: str=""):
  di = DataInterpreter()
await di.run(requirement)

if__name__=="__main__":
  requirement ="Solve this math problem: The greatest common divisor of positive integers m and n is 6. The least common multiple of m and n is 126. What is the least possible value of m + n?"
# answer: 60 (m = 18, n = 42)
  asyncio.run(main(requirement))
```
```
import asyncio
from metagpt.roles.di.data_interpreter import DataInterpreter

asyncdefmain(requirement: str=""):
  di = DataInterpreter()
await di.run(requirement)

if__name__=="__main__":
  requirement ="Solve this math problem: The greatest common divisor of positive integers m and n is 6. The least common multiple of m and n is 126. What is the least possible value of m + n?"
# answer: 60 (m = 18, n = 42)
  asyncio.run(main(requirement))
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html#execution-results)
  1. `DataInterpreter` proposes the following solution steps:


json```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Calculate the total number of students playing basketball."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Determine the number of students on each team using the given ratios."
 },
 {
"task_id": "3",
"dependent_task_ids": ["1", "2"],
"instruction": "Use the inclusion-exclusion principle to find the number of students playing on exactly two teams."
 }
]
```
```
[
 {
"task_id": "1",
"dependent_task_ids": [],
"instruction": "Calculate the total number of students playing basketball."
 },
 {
"task_id": "2",
"dependent_task_ids": ["1"],
"instruction": "Determine the number of students on each team using the given ratios."
 },
 {
"task_id": "3",
"dependent_task_ids": ["1", "2"],
"instruction": "Use the inclusion-exclusion principle to find the number of students playing on exactly two teams."
 }
]
```

Since half the students are on the basketball team, it is easy to calculate the total number of basketball team members; Then the total number of math team and soccer team can be calculated according to the proportion of the number of math team, basketball team and soccer team. Finally, the answer is obtained according to the exclusion principle. It can be seen that the steps planned by `DataInterpreter` are very reasonable and in line with human thinking of solving mathematical problems.
  1. `DataInterpreter` writes the following code:


python```
# ------------------------------task1------------------------------
total_students =60
half_basketball = total_students /2
half_basketball
# -------------------------------task2-----------------------------
basketball_team =30
ratio_math_basketball_soccer = [4, 3, 2]
# Calculate the total ratio units
total_ratio_units =sum(ratio_math_basketball_soccer)
# Calculate the number of students per ratio unit
students_per_unit = basketball_team / ratio_math_basketball_soccer[1]
# Calculate the number of students on each team
math_team = students_per_unit * ratio_math_basketball_soccer[0]
soccer_team = students_per_unit * ratio_math_basketball_soccer[2]
(math_team, basketball_team, soccer_team)
# ------------------------------task3-------------------------------
# Given values from previous tasks
math_team =40.0
basketball_team =30
soccer_team =20.0
students_all_three =8
# Total number of students
total_students =60
# Calculate the number of students playing in exactly two teams using the inclusion-exclusion principle
students_two_teams = (math_team + basketball_team + soccer_team) - total_students - (2* students_all_three)
students_two_teams
```
```
# ------------------------------task1------------------------------
total_students =60
half_basketball = total_students /2
half_basketball
# -------------------------------task2-----------------------------
basketball_team =30
ratio_math_basketball_soccer = [4, 3, 2]
# Calculate the total ratio units
total_ratio_units =sum(ratio_math_basketball_soccer)
# Calculate the number of students per ratio unit
students_per_unit = basketball_team / ratio_math_basketball_soccer[1]
# Calculate the number of students on each team
math_team = students_per_unit * ratio_math_basketball_soccer[0]
soccer_team = students_per_unit * ratio_math_basketball_soccer[2]
(math_team, basketball_team, soccer_team)
# ------------------------------task3-------------------------------
# Given values from previous tasks
math_team =40.0
basketball_team =30
soccer_team =20.0
students_all_three =8
# Total number of students
total_students =60
# Calculate the number of students playing in exactly two teams using the inclusion-exclusion principle
students_two_teams = (math_team + basketball_team + soccer_team) - total_students - (2* students_all_three)
students_two_teams
```

The code generated by `DataInterpreter` follows the planned task exactly and runs successfully, eventually calculating the correct answer to be: **14**
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.md)
[Previous pageImage background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Next pageReceipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/photographer.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/photographer.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Photographer: Generate Images with Prompts [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html#photographer-generate-images-with-prompts)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/photographer.md)
[Previous pageTutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Next pageReceipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Machine Learning with Tools [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#machine-learning-with-tools)
## Batch Use of Tools [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#batch-use-of-tools)
### Task [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#task)
Use `DataInterpreter` to model and predict the [titanic](https://www.kaggle.com/competitions/titanic/data) dataset, and batch invoke tools during the data preprocessing and feature engineering stages (multiple tools of types data_preprocess and feature_engineering have already been created, located in the `metagpt/tools/libs` directory)).
### Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#code)
[examples/di/machine_learning_with_tools.py](https://github.com/geekan/MetaGPT/blob/main/examples/di/machine_learning_with_tools.py)
bash```
pythonexamples/di/machine_learning_with_tools.py
```
```
pythonexamples/di/machine_learning_with_tools.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#execution-results)
The data preprocessing code (which includes the use of 3 tools: `FillMissingValue`, `StandardScale`, and `OneHotEncode`) is as follows:
python```
from metagpt.tools.libs.data_preprocess import FillMissingValue, StandardScale, OneHotEncode
fill_age = FillMissingValue(features=['Age'], strategy='median')
fill_embarked = FillMissingValue(features=['Embarked'], strategy='most_frequent')
train_data = fill_age.fit_transform(train_data)
train_data = fill_embarked.fit_transform(train_data)
if'Cabin'in train_data.columns:
  train_data.drop('Cabin', axis=1, inplace=True)
numerical_features = ['Age', 'SibSp', 'Parch', 'Fare']
scale = StandardScale(features=numerical_features)
scaled_features = scale.fit_transform(train_data)
for feature in numerical_features:
  train_data[feature] = scaled_features[feature]
categorical_features = ['Sex', 'Embarked']
one_hot = OneHotEncode(features=categorical_features)
train_data = one_hot.fit_transform(train_data)
non_informative_columns = ['PassengerId', 'Name', 'Ticket']
train_data.drop(columns=non_informative_columns, axis=1, inplace=True, errors='ignore')
train_data.head()
```
```
from metagpt.tools.libs.data_preprocess import FillMissingValue, StandardScale, OneHotEncode
fill_age = FillMissingValue(features=['Age'], strategy='median')
fill_embarked = FillMissingValue(features=['Embarked'], strategy='most_frequent')
train_data = fill_age.fit_transform(train_data)
train_data = fill_embarked.fit_transform(train_data)
if'Cabin'in train_data.columns:
  train_data.drop('Cabin', axis=1, inplace=True)
numerical_features = ['Age', 'SibSp', 'Parch', 'Fare']
scale = StandardScale(features=numerical_features)
scaled_features = scale.fit_transform(train_data)
for feature in numerical_features:
  train_data[feature] = scaled_features[feature]
categorical_features = ['Sex', 'Embarked']
one_hot = OneHotEncode(features=categorical_features)
train_data = one_hot.fit_transform(train_data)
non_informative_columns = ['PassengerId', 'Name', 'Ticket']
train_data.drop(columns=non_informative_columns, axis=1, inplace=True, errors='ignore')
train_data.head()
```

The feature engineering code (which includes the use of 1 tool: `PolynomialExpansion`) is as follows:
python```
from metagpt.tools.libs.feature_engineering import PolynomialExpansion
numeric_features = ['Pclass', 'Age', 'SibSp', 'Parch', 'Fare']
poly_expansion = PolynomialExpansion(cols=numeric_features, label_col='Survived')
train_data = poly_expansion.fit_transform(train_data)
train_data.head()
```
```
from metagpt.tools.libs.feature_engineering import PolynomialExpansion
numeric_features = ['Pclass', 'Age', 'SibSp', 'Parch', 'Fare']
poly_expansion = PolynomialExpansion(cols=numeric_features, label_col='Survived')
train_data = poly_expansion.fit_transform(train_data)
train_data.head()
```

## Mechanism [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#mechanism)
### Tool Creation [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#tool-creation)
In the `metagpt.tools.libs` directory, we have predefined two types of tools: `data_preprocess` and `feature_engineering`. Below, taking data_preprocess tasks as an example, we provide a complete guide for creating a simple tool, including how to define and register the tool.
  * First, create a file named `data_preprocess.py` in the `metagpt.tools.libs` directory.
  * In this file, you will define your data preprocessing tool and complete the registration of the tool using the `@register_tool` decorator. Additionally, you can specify the category of the tool by setting the `tags` parameter.


**Code Example** :
python```
from typing import Literal
import pandas as pd
from sklearn.impute import SimpleImputer
from metagpt.tools.tool_registry import register_tool

TAGS= ["data preprocessing", "machine learning"]
@register_tool(tags=TAGS)
classFillMissingValue:
"""
  Completing missing values with simple strategies.
  """
def__init__(
    self, features: list, strategy: Literal["mean", "median", "most_frequent", "constant"] ="mean", fill_value=None
  ):
"""
    Initialize self.
    Args:
      features (list): Columns to be processed.
      strategy (Literal["mean", "median", "most_frequent", "constant"], optional): The imputation strategy, notice 'mean' and 'median' can only
                   be used for numeric features. Defaults to 'mean'.
      fill_value (int, optional): Fill_value is used to replace all occurrences of missing_values.
                    Defaults to None.
    """
self.features = features
self.strategy = strategy
self.fill_value = fill_value
self.si =None
deffit(self, df: pd.DataFrame):
"""
    Fit the FillMissingValue model.
    Args:
      df (pd.DataFrame): The input DataFrame.
    """
iflen(self.features) ==0:
return
self.si = SimpleImputer(strategy=self.strategy, fill_value=self.fill_value)
self.si.fit(df[self.features])
deftransform(self, df: pd.DataFrame) -> pd.DataFrame:
"""
    Transform the input DataFrame with the fitted model.
    Args:
      df (pd.DataFrame): The input DataFrame.
    Returns:
      pd.DataFrame: The transformed DataFrame.
    """
iflen(self.features) ==0:
return df
    new_df = df.copy()
    new_df[self.features] =self.si.transform(new_df[self.features])
return new_df
deffit_transform(self, df: pd.DataFrame) -> pd.DataFrame:
"""
    Fit and transform the input DataFrame.
    Args:
      df (pd.DataFrame): The input DataFrame.
    Returns:
      pd.DataFrame: The transformed DataFrame.
    """
self.fit(df)
returnself.transform(df)
```
```
from typing import Literal
import pandas as pd
from sklearn.impute import SimpleImputer
from metagpt.tools.tool_registry import register_tool

TAGS= ["data preprocessing", "machine learning"]
@register_tool(tags=TAGS)
classFillMissingValue:
"""
  Completing missing values with simple strategies.
  """
def__init__(
    self, features: list, strategy: Literal["mean", "median", "most_frequent", "constant"] ="mean", fill_value=None
  ):
"""
    Initialize self.
    Args:
      features (list): Columns to be processed.
      strategy (Literal["mean", "median", "most_frequent", "constant"], optional): The imputation strategy, notice 'mean' and 'median' can only
                   be used for numeric features. Defaults to 'mean'.
      fill_value (int, optional): Fill_value is used to replace all occurrences of missing_values.
                    Defaults to None.
    """
self.features = features
self.strategy = strategy
self.fill_value = fill_value
self.si =None
deffit(self, df: pd.DataFrame):
"""
    Fit the FillMissingValue model.
    Args:
      df (pd.DataFrame): The input DataFrame.
    """
iflen(self.features) ==0:
return
self.si = SimpleImputer(strategy=self.strategy, fill_value=self.fill_value)
self.si.fit(df[self.features])
deftransform(self, df: pd.DataFrame) -> pd.DataFrame:
"""
    Transform the input DataFrame with the fitted model.
    Args:
      df (pd.DataFrame): The input DataFrame.
    Returns:
      pd.DataFrame: The transformed DataFrame.
    """
iflen(self.features) ==0:
return df
    new_df = df.copy()
    new_df[self.features] =self.si.transform(new_df[self.features])
return new_df
deffit_transform(self, df: pd.DataFrame) -> pd.DataFrame:
"""
    Fit and transform the input DataFrame.
    Args:
      df (pd.DataFrame): The input DataFrame.
    Returns:
      pd.DataFrame: The transformed DataFrame.
    """
self.fit(df)
returnself.transform(df)
```

In the example above, the `FillMissingValue` class implements the functionality for filling missing values and is registered as a data_preprocess tool using the `@register_tool` decorator.
After registering the tool, the system will automatically generate a corresponding schema file (such as FillMissingValue.yml) for each tool in `metagpt.tools.schemas` based on the comments of the tool functions, detailing the structure, methods, and parameter types of the tool class, ensuring that the LLM can accurately understand and utilize the tool.
**Schema File Example (FillMissingValue.yml)** :
yaml```
type: class
description: Completing missing values with simple strategies.
methods:
__init__:
type: function
description: 'Initialize self. '
signature:
'(self, features: ''list'', strategy: "Literal[''mean'', ''median'',
''most_frequent'', ''constant'']" = ''mean'', fill_value=None)'
parameters:
'Args: features (list): Columns to be processed. strategy (Literal["mean",
   "median", "most_frequent", "constant"], optional): The imputation strategy,
   notice ''mean'' and ''median'' can only be used for numeric features. Defaults
   to ''mean''. fill_value (int, optional): Fill_value is used to replace all occurrences
   of missing_values. Defaults to None.'
fit:
type: function
description: 'Fit a model to be used in subsequent transform. '
signature: "(self, df: 'pd.DataFrame')"
parameters: 'Args: df (pd.DataFrame): The input DataFrame.'
fit_transform:
type: function
description: 'Fit and transform the input DataFrame. '
signature: "(self, df: 'pd.DataFrame') -> 'pd.DataFrame'"
parameters:
'Args: df (pd.DataFrame): The input DataFrame. Returns: pd.DataFrame:
   The transformed DataFrame.'
transform:
type: function
description: 'Transform the input DataFrame with the fitted model. '
signature: "(self, df: 'pd.DataFrame') -> 'pd.DataFrame'"
parameters:
'Args: df (pd.DataFrame): The input DataFrame. Returns: pd.DataFrame:
   The transformed DataFrame.'
```
```
type: class
description: Completing missing values with simple strategies.
methods:
__init__:
type: function
description: 'Initialize self. '
signature:
'(self, features: ''list'', strategy: "Literal[''mean'', ''median'',
''most_frequent'', ''constant'']" = ''mean'', fill_value=None)'
parameters:
'Args: features (list): Columns to be processed. strategy (Literal["mean",
   "median", "most_frequent", "constant"], optional): The imputation strategy,
   notice ''mean'' and ''median'' can only be used for numeric features. Defaults
   to ''mean''. fill_value (int, optional): Fill_value is used to replace all occurrences
   of missing_values. Defaults to None.'
fit:
type: function
description: 'Fit a model to be used in subsequent transform. '
signature: "(self, df: 'pd.DataFrame')"
parameters: 'Args: df (pd.DataFrame): The input DataFrame.'
fit_transform:
type: function
description: 'Fit and transform the input DataFrame. '
signature: "(self, df: 'pd.DataFrame') -> 'pd.DataFrame'"
parameters:
'Args: df (pd.DataFrame): The input DataFrame. Returns: pd.DataFrame:
   The transformed DataFrame.'
transform:
type: function
description: 'Transform the input DataFrame with the fitted model. '
signature: "(self, df: 'pd.DataFrame') -> 'pd.DataFrame'"
parameters:
'Args: df (pd.DataFrame): The input DataFrame. Returns: pd.DataFrame:
   The transformed DataFrame.'
```

### Automatic Tool Registration and Selection [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#automatic-tool-registration-and-selection)
By setting the `tools` parameter of `DataInterpreter`, you can manually specify which tools to use. If you want to use all tools, you can set `tools=["<all>"]`.
When `DataInterpreter` starts, it will automatically register all the tools in the `tools` list. At the same time, during the task planning stage, `DataInterpreter` will recommend available tools for each task based on the requirements, and select the TOP-k for LLM to use.
### Tool Combination and Invocation [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html#tool-combination-and-invocation)
During task execution, once the available TOP tools are identified, `DataInterpreter` will automatically combine and call these tools as needed according to the task requirements to form a code solution for a specific task.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.md)
[Previous pageMachine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Next pageImage background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/researcher.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/researcher.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Researcher: Search Web and Write Reports [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#researcher-search-web-and-write-reports)
## Introduction [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#introduction)
### Background [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#background)
In MetaGPT, the role of a researcher allows users to conduct research by summarizing information gathered from the internet based on user queries. This document will cover the researcher role from aspects such as design philosophy, code implementation, usage examples, etc.
### Objective [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#objective)
Through this document, you can learn how to use the MetaGPT researcher role to search the internet and summarize reports. Additionally, you can leverage MetaGPT's networking capabilities to develop new intelligent agents.
### Source Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#source-code)
  * [Researcher Role](https://github.com/geekan/MetaGPT/blob/main/metagpt/roles/researcher.py)
  * [Researcher Actions](https://github.com/geekan/MetaGPT/blob/main/metagpt/actions/research.py)
  * [Researcher Example](https://github.com/geekan/MetaGPT/blob/main/examples/research.py)


## Design Overview [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#design-overview)
### Design Philosophy [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#design-philosophy)
Before developing the Researcher role in MetaGPT, it's essential to consider how one would conduct research on the internet. Generally, the process involves the following steps:
Analyze the research question and break it down into several sub-questions suitable for searching with a search engine. Use a search engine to search for sub-questions, review the search results with titles, original URLs, abstracts, etc., and determine the relevance and reliability of each result. Decide whether to further browse the web using the provided URLs. Click on the web pages that need further exploration, assess whether the content is helpful for the research question, extract relevant information, and record it. Aggregate all recorded relevant information and write a report addressing the research question. Therefore, we aim to simulate the above research process using GPT. The overall steps are as follows:
User inputs the research question. Researcher generates a set of research questions using GPT, forming an objective opinion on any given task. Upon receiving the decomposed questions from GPT, the researcher, for each research question, searches through a search engine to obtain initial search results. Retrieve web page content using a browser for the URLs and summarize the web page content. Consolidate all summarized content and track their sources. Finally, instruct GPT to generate the final research report based on the consolidated content. The following is a flowchart illustrating the Researcher role architecture:
![Researcher Role Architecture Diagram](https://docs.deepwisdom.ai/main/image/guide/use_cases/researcher/researcher-role-architecture-diagram-en.png)
Based on this process, we can abstract three Actions and define a Role as follows:
Name| Class| Description  
---|---|---  
CollectLinks| Action| Collect links from a search engine  
WebBrowseAndSummarize| Action| Explore the web and provide summaries of articles and webpages  
ConductResearch| Action| Conduct research and generate a research report  
Researcher| Role| Search Web and Write Reports  
### Action Definitions [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#action-definitions)
#### CollectLinks [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#collectlinks)
The CollectLinks Action is used to search the internet for relevant questions and retrieve a list of URL addresses. Since user-input questions may not be directly suitable for search engine queries, the CollectLinks Action first breaks down the user's question into multiple sub-questions suitable for search. It then uses a search engine for this purpose. The implementation utilizes the SearchEngine in the tools module, supporting searches through serpapi/google/serper/ddg. The implementation details can be found in [metagpt/actions/research.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/actions/research.py), and the following provides a basic explanation of the CollectLinks.run method:
python```
classCollectLinks(Action):
asyncdefrun(
    self,
    topic: str,
    decomposition_nums: int=4,
    url_per_query: int=4,
    system_text: str|None=None,
  ) -> dict[str, list[str]]:
"""Run the action to collect links.
    Args:
      topic: The research topic.
      decomposition_nums: The number of search questions to generate.
      url_per_query: The number of URLs to collect per search question.
      system_text: The system text.
    Returns:
      A dictionary containing the search questions as keys and the collected URLs as values.
    """
    system_text = system_text if system_text elseRESEARCH_TOPIC_SYSTEM.format(topic=topic)
# Decompose the research question into multiple sub-problems
    keywords =awaitself._aask(SEARCH_TOPIC_PROMPT, [system_text])
try:
      keywords = OutputParser.extract_struct(keywords, list)
      keywords = parse_obj_as(list[str], keywords)
exceptExceptionas e:
      logger.exception(f"fail to get keywords related to the research topic \"{topic}\" for {e}")
      keywords = [topic]
# Search the sub-problems using the search engine
    results =await asyncio.gather(*(self.search_engine.run(i, as_string=False) for i in keywords))
# Browse through the search engine results and filter out those relevant to the research question
defgen_msg():
whileTrue:
        search_results ="\n".join(f"#### Keyword: {i}\n Search Result: {j}\n"for (i, j) inzip(keywords, results))
        prompt =SUMMARIZE_SEARCH_PROMPT.format(decomposition_nums=decomposition_nums, search_results=search_results)
yield prompt
        remove =max(results, key=len)
        remove.pop()
iflen(remove) ==0:
break
    prompt = reduce_message_length(gen_msg(), self.llm.model, system_text, CONFIG.max_tokens_rsp)
    logger.debug(prompt)
    queries =awaitself._aask(prompt, [system_text])
try:
      queries = OutputParser.extract_struct(queries, list)
      queries = parse_obj_as(list[str], queries)
exceptExceptionas e:
      logger.exception(f"fail to break down the research question due to {e}")
      queries = keywords
    ret = {}
# Sort and take the TopK URLs from the search results
for query in queries:
      ret[query] =awaitself._search_and_rank_urls(topic, query, url_per_query)
return ret
```
```
classCollectLinks(Action):
asyncdefrun(
    self,
    topic: str,
    decomposition_nums: int=4,
    url_per_query: int=4,
    system_text: str|None=None,
  ) -> dict[str, list[str]]:
"""Run the action to collect links.
    Args:
      topic: The research topic.
      decomposition_nums: The number of search questions to generate.
      url_per_query: The number of URLs to collect per search question.
      system_text: The system text.
    Returns:
      A dictionary containing the search questions as keys and the collected URLs as values.
    """
    system_text = system_text if system_text elseRESEARCH_TOPIC_SYSTEM.format(topic=topic)
# Decompose the research question into multiple sub-problems
    keywords =awaitself._aask(SEARCH_TOPIC_PROMPT, [system_text])
try:
      keywords = OutputParser.extract_struct(keywords, list)
      keywords = parse_obj_as(list[str], keywords)
exceptExceptionas e:
      logger.exception(f"fail to get keywords related to the research topic \"{topic}\" for {e}")
      keywords = [topic]
# Search the sub-problems using the search engine
    results =await asyncio.gather(*(self.search_engine.run(i, as_string=False) for i in keywords))
# Browse through the search engine results and filter out those relevant to the research question
defgen_msg():
whileTrue:
        search_results ="\n".join(f"#### Keyword: {i}\n Search Result: {j}\n"for (i, j) inzip(keywords, results))
        prompt =SUMMARIZE_SEARCH_PROMPT.format(decomposition_nums=decomposition_nums, search_results=search_results)
yield prompt
        remove =max(results, key=len)
        remove.pop()
iflen(remove) ==0:
break
    prompt = reduce_message_length(gen_msg(), self.llm.model, system_text, CONFIG.max_tokens_rsp)
    logger.debug(prompt)
    queries =awaitself._aask(prompt, [system_text])
try:
      queries = OutputParser.extract_struct(queries, list)
      queries = parse_obj_as(list[str], queries)
exceptExceptionas e:
      logger.exception(f"fail to break down the research question due to {e}")
      queries = keywords
    ret = {}
# Sort and take the TopK URLs from the search results
for query in queries:
      ret[query] =awaitself._search_and_rank_urls(topic, query, url_per_query)
return ret
```

#### WebBrowseAndSummarize [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#webbrowseandsummarize)
The WebBrowseAndSummarize Action is responsible for browsing web pages and summarizing their content. MetaGPT provides the `WebBrowserEngine` in the `tools` module, which supports web browsing through playwright/selenium. The WebBrowseAndSummarize Action uses the `WebBrowserEngine` for web browsing. The implementation details can be found in [metagpt/actions/research.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/actions/research.py), and the following provides a basic explanation of the `WebBrowseAndSummarize.run` method:
python```
classWebBrowseAndSummarize(Action):
asyncdefrun(
    self,
    url: str,
*urls: str,
    query: str,
    system_text: str=RESEARCH_BASE_SYSTEM,
  ) -> dict[str, str]:
"""Run the action to browse the web and provide summaries.
    Args:
      url: The main URL to browse.
      urls: Additional URLs to browse.
      query: The research question.
      system_text: The system text.
    Returns:
      A dictionary containing the URLs as keys and their summaries as values.
    """
# Web page browsing and content extraction
    contents =awaitself.web_browser_engine.run(url, *urls)
ifnot urls:
      contents = [contents]
# Web page content summarization
    summaries = {}
    prompt_template =WEB_BROWSE_AND_SUMMARIZE_PROMPT.format(query=query, content="{}")
for u, content inzip([url, *urls], contents):
      content = content.inner_text
      chunk_summaries = []
for prompt in generate_prompt_chunk(content, prompt_template, self.llm.model, system_text, CONFIG.max_tokens_rsp):
        logger.debug(prompt)
        summary =awaitself._aask(prompt, [system_text])
if summary =="Not relevant.":
continue
        chunk_summaries.append(summary)
ifnot chunk_summaries:
        summaries[u] =None
continue
iflen(chunk_summaries) ==1:
        summaries[u] = chunk_summaries[0]
continue
      content ="\n".join(chunk_summaries)
      prompt =WEB_BROWSE_AND_SUMMARIZE_PROMPT.format(query=query, content=content)
      summary =awaitself._aask(prompt, [system_text])
      summaries[u] = summary
return summaries
```
```
classWebBrowseAndSummarize(Action):
asyncdefrun(
    self,
    url: str,
*urls: str,
    query: str,
    system_text: str=RESEARCH_BASE_SYSTEM,
  ) -> dict[str, str]:
"""Run the action to browse the web and provide summaries.
    Args:
      url: The main URL to browse.
      urls: Additional URLs to browse.
      query: The research question.
      system_text: The system text.
    Returns:
      A dictionary containing the URLs as keys and their summaries as values.
    """
# Web page browsing and content extraction
    contents =awaitself.web_browser_engine.run(url, *urls)
ifnot urls:
      contents = [contents]
# Web page content summarization
    summaries = {}
    prompt_template =WEB_BROWSE_AND_SUMMARIZE_PROMPT.format(query=query, content="{}")
for u, content inzip([url, *urls], contents):
      content = content.inner_text
      chunk_summaries = []
for prompt in generate_prompt_chunk(content, prompt_template, self.llm.model, system_text, CONFIG.max_tokens_rsp):
        logger.debug(prompt)
        summary =awaitself._aask(prompt, [system_text])
if summary =="Not relevant.":
continue
        chunk_summaries.append(summary)
ifnot chunk_summaries:
        summaries[u] =None
continue
iflen(chunk_summaries) ==1:
        summaries[u] = chunk_summaries[0]
continue
      content ="\n".join(chunk_summaries)
      prompt =WEB_BROWSE_AND_SUMMARIZE_PROMPT.format(query=query, content=content)
      summary =awaitself._aask(prompt, [system_text])
      summaries[u] = summary
return summaries
```

#### ConductResearch [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#conductresearch)
The ConductResearch Action is responsible for writing a research report. It is implemented by using the summarized data from the WebBrowseAndSummarize Action as context and then generating the research report. The implementation details can be found in [metagpt/actions/research.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/actions/research.py), and the following provides a basic explanation of the `ConductResearch.run` method:
python```
classConductResearch(Action):
asyncdefrun(
    self,
    topic: str,
    content: str,
    system_text: str=RESEARCH_BASE_SYSTEM,
  ) -> str:
"""Run the action to conduct research and generate a research report.
    Args:
      topic: The research topic.
      content: The content for research.
      system_text: The system text.
    Returns:
      The generated research report.
    """
    prompt =CONDUCT_RESEARCH_PROMPT.format(topic=topic, content=content)
    logger.debug(prompt)
self.llm.auto_max_tokens =True
returnawaitself._aask(prompt, [system_text])
```
```
classConductResearch(Action):
asyncdefrun(
    self,
    topic: str,
    content: str,
    system_text: str=RESEARCH_BASE_SYSTEM,
  ) -> str:
"""Run the action to conduct research and generate a research report.
    Args:
      topic: The research topic.
      content: The content for research.
      system_text: The system text.
    Returns:
      The generated research report.
    """
    prompt =CONDUCT_RESEARCH_PROMPT.format(topic=topic, content=content)
    logger.debug(prompt)
self.llm.auto_max_tokens =True
returnawaitself._aask(prompt, [system_text])
```

### Role (Researcher) [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#role-researcher)
The `Researcher` role combines the `CollectLinks`, `WebBrowseAndSummarize`, and `ConductResearch` Actions to enable the capability of searching the internet and summarizing reports. Therefore, these three Actions need to be added to the role during initialization using the `set_actions` method. Since these Actions are executed in the order of `CollectLinks` -> `WebBrowseAndSummarize` -> `ConductResearch`, the execution logic for these Actions needs to be defined in the `react`/`_act` methods. The implementation details can be found in [metagpt/roles/researcher.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/roles/researcher.py), and the following provides a basic explanation of the `Researcher` class:
python```

classResearcher(Role):
def__init__(
    self,
    name: str="David",
    profile: str="Researcher",
    goal: str="Gather information and conduct research",
    constraints: str="Ensure accuracy and relevance of information",
    language: str="en-us",
**kwargs,
  ):
super().__init__(name, profile, goal, constraints, **kwargs)
# Add the `CollectLinks`, `WebBrowseAndSummarize`, and `ConductResearch` actions
self.set_actions([CollectLinks(name), WebBrowseAndSummarize(name), ConductResearch(name)])
# Set to execute in order
self._set_react_mode(react_mode="by_order")
self.language = language
if language notin ("en-us", "zh-cn"):
      logger.warning(f"The language `{language}` has not been tested, it may not work.")
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo
    msg =self.rc.memory.get(k=1)[0]
ifisinstance(msg.instruct_content, Report):
      instruct_content = msg.instruct_content
      topic = instruct_content.topic
else:
      topic = msg.content
    research_system_text = get_research_system_text(topic, self.language)
# Search the internet and retrieve URL information
ifisinstance(todo, CollectLinks):
      links =await todo.run(topic, 4, 4)
      ret = Message(content="", instruct_content=Report(topic=topic, links=links), role=self.profile, cause_by=todo)
# Browse web pages and summarize their content
elifisinstance(todo, WebBrowseAndSummarize):
      links = instruct_content.links
      todos = (todo.run(*url, query=query, system_text=research_system_text) for (query, url) in links.items())
      summaries =await asyncio.gather(*todos)
      summaries =list((url, summary) for i in summaries for (url, summary) in i.items() if summary)
      ret = Message(content="", instruct_content=Report(topic=topic, summaries=summaries), role=self.profile, cause_by=todo)
# Generate a research report
else:
      summaries = instruct_content.summaries
      summary_text ="\n---\n".join(f"url: {url}\nsummary: {summary}"for (url, summary) in summaries)
      content =awaitself.rc.todo.run(topic, summary_text, system_text=research_system_text)
      ret = Message(content="", instruct_content=Report(topic=topic, content=content), role=self.profile, cause_by=type(self.rc.todo))
self.rc.memory.add(ret)
return ret
asyncdefreact(self) -> Message:
    msg =awaitsuper().react()
    report = msg.instruct_content
# Output the report
self.write_report(report.topic, report.content)
return msg
```
```

classResearcher(Role):
def__init__(
    self,
    name: str="David",
    profile: str="Researcher",
    goal: str="Gather information and conduct research",
    constraints: str="Ensure accuracy and relevance of information",
    language: str="en-us",
**kwargs,
  ):
super().__init__(name, profile, goal, constraints, **kwargs)
# Add the `CollectLinks`, `WebBrowseAndSummarize`, and `ConductResearch` actions
self.set_actions([CollectLinks(name), WebBrowseAndSummarize(name), ConductResearch(name)])
# Set to execute in order
self._set_react_mode(react_mode="by_order")
self.language = language
if language notin ("en-us", "zh-cn"):
      logger.warning(f"The language `{language}` has not been tested, it may not work.")
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo
    msg =self.rc.memory.get(k=1)[0]
ifisinstance(msg.instruct_content, Report):
      instruct_content = msg.instruct_content
      topic = instruct_content.topic
else:
      topic = msg.content
    research_system_text = get_research_system_text(topic, self.language)
# Search the internet and retrieve URL information
ifisinstance(todo, CollectLinks):
      links =await todo.run(topic, 4, 4)
      ret = Message(content="", instruct_content=Report(topic=topic, links=links), role=self.profile, cause_by=todo)
# Browse web pages and summarize their content
elifisinstance(todo, WebBrowseAndSummarize):
      links = instruct_content.links
      todos = (todo.run(*url, query=query, system_text=research_system_text) for (query, url) in links.items())
      summaries =await asyncio.gather(*todos)
      summaries =list((url, summary) for i in summaries for (url, summary) in i.items() if summary)
      ret = Message(content="", instruct_content=Report(topic=topic, summaries=summaries), role=self.profile, cause_by=todo)
# Generate a research report
else:
      summaries = instruct_content.summaries
      summary_text ="\n---\n".join(f"url: {url}\nsummary: {summary}"for (url, summary) in summaries)
      content =awaitself.rc.todo.run(topic, summary_text, system_text=research_system_text)
      ret = Message(content="", instruct_content=Report(topic=topic, content=content), role=self.profile, cause_by=type(self.rc.todo))
self.rc.memory.add(ret)
return ret
asyncdefreact(self) -> Message:
    msg =awaitsuper().react()
    report = msg.instruct_content
# Output the report
self.write_report(report.topic, report.content)
return msg
```

## Usage Instructions [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#usage-instructions)
### Dependencies and Configuration [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#dependencies-and-configuration)
The `Researcher` role depends on `SearchEngine` and `WebBrowserEngine`. Below are brief instructions for installing and configuring these components.
#### SearchEngine [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#searchengine)
Supports serpapi/google/serper/ddg search engines. They differ as follows:
Name| Default Engine| Additional Dependency Packages| Installation  
---|---|---|---  
[serpapi](https://serpapi.com/)| √| \| \  
[google](https://programmablesearchengine.google.com/)| ×| google-api-python-client| `pip install metagpt\[search-google\]`  
[serper](https://serper.dev/)| ×| \| \  
[ddg](https://duckduckgo.com/)| ×| duckduckgo-search| `pip install metagpt\[search-ddg\]`  
Configuration:
  * serpapi 
    * search.engine: Set to serpapi
    * search.api_key: Obtain from <https://serpapi.com/>
    * search.params: Additional parameters to pass to the search engine, e.g.,
  * google 
    * search.engine: Set to google
    * search.api_key: Obtain from <https://console.cloud.google.com/apis/credentials>
    * search.cse_id: Obtain from <https://programmablesearchengine.google.com/controlpanel/create>
  * serper 
    * search.engine: Set to serper
    * search.api_key: Obtain from <https://serper.dev/>
  * ddg 
    * search.engine: Set to ddg


#### WebBrowserEngine [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#webbrowserengine)
Supports playwright/selenium engines. To use them, additional dependencies must be installed. They differ as follows:
Name| Default Engine| Additional Dependency Packages| Installation| Asynchronous| Supported Platforms  
---|---|---|---|---|---  
[playwright](https://playwright.dev/python/)| √| playwright beautifulsoup4| `pip install metagpt\[playwright\]`| Native| [Partially supported platforms](https://playwright.dev/docs/intro#system-requirements)  
[selenium](https://www.selenium.dev/)| ×| selenium webdriver_manager beautifulsoup4| `pip install metagpt\[selenium\]`| Thread Pool| Almost all platforms  
Configuration:
  * playwright 
    * browser.engine: Set to playwright
    * browser.browser_type: Supports chromium/firefox/webkit; defaults to chromium. More information: [Playwright BrowserType](https://playwright.dev/python/docs/api/class-browsertype)
  * selenium 
    * browser.engine: Set to selenium
    * browser.browser_type: Supports chrome/firefox/edge/ie; defaults to chrome. More information: [Selenium BrowserTypes](https://www.selenium.dev/documentation/webdriver/browsers/)


### Running Examples and Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html#running-examples-and-results)
The `metagpt.roles.researcher` module provides a command-line interface for executing the functionalities of the Researcher. An example is as follows:
bash```
python3-mmetagpt.roles.researcher"tensorflow vs. pytorch"
```
```
python3-mmetagpt.roles.researcher"tensorflow vs. pytorch"
```

Log output: [log.txt](https://github.com/geekan/MetaGPT/files/12302886/log.txt) Report output: [dataiku vs. datarobot.md](https://github.com/geekan/MetaGPT/files/12302882/dataiku.vs.datarobot.md)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/researcher.md)
[Previous pageTool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Next pageTutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/tutorial_assistant.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/agent/tutorial_assistant.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Role Introduction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-introduction "Role Introduction")
    * [Function Description](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#function-description "Function Description")
    * [Design Concept](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#design-concept "Design Concept")
    * [Source Code](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#source-code "Source Code")
  * [Role Definition](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-definition "Role Definition")
  * [Action Definition](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#action-definition "Action Definition")
  * [Role Execution Results](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-execution-results "Role Execution Results")
    * [Input Examples](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#input-examples "Input Examples")
    * [Execution Command Examples](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#execution-command-examples "Execution Command Examples")
    * [Execution Results](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#execution-results "Execution Results")
  * [Note](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#note "Note")


On this page 
# Tutorial Assistant: Generate technology tutorial [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#tutorial-assistant-generate-technology-tutorial)
## Role Introduction [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-introduction)
### Function Description [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#function-description)
Generate a technical tutorial document based on a single sentence input, with support for custom languages.
### Design Concept [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#design-concept)
The design approach involves using the `LLM` (Large Language Model) to initially generate the tutorial's outline. Then, the outline is divided into sections based on secondary headings. For each section, detailed content is generated according to the headings. Finally, the titles and content are concatenated. The use of sections addresses the limitation of long text in the `LLM` model.
### Source Code [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#source-code)
[metagpt/roles/tutorial_assistant.py](https://github.com/geekan/MetaGPT/blob/main/metagpt/roles/tutorial_assistant.py)
## Role Definition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-definition)
  1. Define the role class, inheriting from the `Role` base class, and override the `__init__` initialization method. The `__init__` method must include the parameters `name`, `profile`, `goal`, and `constraints`. The first line of code uses `super().__init__(name, profile, goal, constraints)` to call the constructor of the parent class, initializing the `Role`. Use `self.set_actions([WriteDirectory(language=language)])` to add initial `action` and `states`. Here, the write directory action is added initially. Additionally, custom parameters can be defined; here, the `language` parameter is added to support custom languages. Use `self._set_react_mode(react_mode="by_order")` to set the execution order of actions in `set_actions` to sequential.
python```
classTutorialAssistant(Role):
"""Tutorial assistant, input one sentence to generate a tutorial document in markup format.
  Args:
    name: The name of the role.
    profile: The role profile description.
    goal: The goal of the role.
    constraints: Constraints or requirements for the role.
    language: The language in which the tutorial documents will be generated.
  """
def__init__(
    self,
    name: str="Stitch",
    profile: str="Tutorial Assistant",
    goal: str="Generate tutorial documents",
    constraints: str="Strictly follow Markdown's syntax, with neat and standardized layout",
    language: str="Chinese",
  ):
super().__init__(name, profile, goal, constraints)
self.set_actions([WriteDirectory(language=language)])
self.topic =""
self.main_title =""
self.total_content =""
self.language = language
self._set_react_mode(react_mode="by_order")
```
```
classTutorialAssistant(Role):
"""Tutorial assistant, input one sentence to generate a tutorial document in markup format.
  Args:
    name: The name of the role.
    profile: The role profile description.
    goal: The goal of the role.
    constraints: Constraints or requirements for the role.
    language: The language in which the tutorial documents will be generated.
  """
def__init__(
    self,
    name: str="Stitch",
    profile: str="Tutorial Assistant",
    goal: str="Generate tutorial documents",
    constraints: str="Strictly follow Markdown's syntax, with neat and standardized layout",
    language: str="Chinese",
  ):
super().__init__(name, profile, goal, constraints)
self.set_actions([WriteDirectory(language=language)])
self.topic =""
self.main_title =""
self.total_content =""
self.language = language
self._set_react_mode(react_mode="by_order")
```

  2. Override the `react` method. Use `await super().react()` to call the `react` method of the `Role` base class. According to the `react_mode="by_order"` set in the `__init__` method, execute each `action` in `states` in order. The purpose of overriding here is to perform final operations after completing all actions, i.e., writing the concatenated tutorial content into a `markdown` file.
python```
asyncdefreact(self) -> Message:
  msg =awaitsuper().react()
  root_path =TUTORIAL_PATH/ datetime.now().strftime("%Y-%m-%d_%H-%M-%S")
await File.write(root_path, f"{self.main_title}.md", self.total_content.encode('utf-8'))
return msg
```
```
asyncdefreact(self) -> Message:
  msg =awaitsuper().react()
  root_path =TUTORIAL_PATH/ datetime.now().strftime("%Y-%m-%d_%H-%M-%S")
await File.write(root_path, f"{self.main_title}.md", self.total_content.encode('utf-8'))
return msg
```

  3. Override the `_act` method. The `_act` method is responsible for executing the `action`. Use `todo = self.rc.todo` to get the next `action` to be executed from the context, and then execute the `run` method of the `action`. Here, it first obtains the tutorial directory structure through `WriteDirectory`, then chunks the directory, generates a `WriteContent` action for each chunk, and initializes the newly added action. Here, calling `await super().react()` again is to execute all the newly added `WriteContent` actions from the beginning. The result of each action is used to generate a message `Message(content=resp, role=self.profile)`, which can be placed in the context memory `self.rc.memory`. This role does not need to be stored.
python```
asyncdef_act(self) -> Message:
  todo =self.rc.todo
iftype(todo) is WriteDirectory:
    msg =self.rc.memory.get(k=1)[0]
self.topic = msg.content
    resp =await todo.run(topic=self.topic)
    logger.info(resp)
awaitself._handle_directory(resp)
returnawaitsuper().react()
  resp =await todo.run(topic=self.topic)
  logger.info(resp)
ifself.total_content !="":
self.total_content +="\n\n\n"
self.total_content += resp
return Message(content=resp, role=self.profile)
asyncdef_handle_directory(self, titles: Dict) -> Message:
"""Handle the directories for the tutorial document.
  Args:
    titles: A dictionary containing the titles and directory structure,
        such as {"title": "xxx", "directory": [{"dir 1": ["sub dir 1", "sub dir 2"]}]}
  Returns:
    A message containing information about the directory.
  """
self.main_title = titles.get("title")
  directory =f"{self.main_title}\n"
self.total_content +=f"# {self.main_title}"
  actions =list()
for first_dir in titles.get("directory"):
    actions.append(WriteContent(language=self.language, directory=first_dir))
    key =list(first_dir.keys())[0]
    directory +=f"- {key}\n"
for second_dir in first_dir[key]:
      directory +=f" - {second_dir}\n"
self.set_actions(actions)
```
```
asyncdef_act(self) -> Message:
  todo =self.rc.todo
iftype(todo) is WriteDirectory:
    msg =self.rc.memory.get(k=1)[0]
self.topic = msg.content
    resp =await todo.run(topic=self.topic)
    logger.info(resp)
awaitself._handle_directory(resp)
returnawaitsuper().react()
  resp =await todo.run(topic=self.topic)
  logger.info(resp)
ifself.total_content !="":
self.total_content +="\n\n\n"
self.total_content += resp
return Message(content=resp, role=self.profile)
asyncdef_handle_directory(self, titles: Dict) -> Message:
"""Handle the directories for the tutorial document.
  Args:
    titles: A dictionary containing the titles and directory structure,
        such as {"title": "xxx", "directory": [{"dir 1": ["sub dir 1", "sub dir 2"]}]}
  Returns:
    A message containing information about the directory.
  """
self.main_title = titles.get("title")
  directory =f"{self.main_title}\n"
self.total_content +=f"# {self.main_title}"
  actions =list()
for first_dir in titles.get("directory"):
    actions.append(WriteContent(language=self.language, directory=first_dir))
    key =list(first_dir.keys())[0]
    directory +=f"- {key}\n"
for second_dir in first_dir[key]:
      directory +=f" - {second_dir}\n"
self.set_actions(actions)
```



## Action Definition [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#action-definition)
  1. Define an `action`, where each `action` corresponds to a `class` object. Inherit from the `Action` base class and override the `__init__` initialization method. The `__init__` method includes the `name` parameter. The first line of code uses `super().__init__(name, *args, **kwargs)` to call the constructor of the parent class, initializing the `action`. Here, use `args` and `kwargs` to pass other parameters to the parent class constructor, such as `context` and `llm`.
python```
#!/usr/bin/env python3
# _*_ coding: utf-8 _*_
"""
@Time  : 2023/9/4 15:40:40
@Author : Stitch-z
@File  : tutorial_assistant.py
@Describe : Actions of the tutorial assistant, including writing directories and document content.
"""
from typing import Dict
from metagpt.actions import Action
from metagpt.prompts.tutorial_assistant importDIRECTORY_PROMPT, CONTENT_PROMPT
from metagpt.utils.common import OutputParser

classWriteDirectory(Action):
"""Action class for writing tutorial directories.
  Args:
    name: The name of the action.
    language: The language to output, default is "Chinese".
  """
def__init__(self, name: str="", language: str="Chinese", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
```
```
#!/usr/bin/env python3
# _*_ coding: utf-8 _*_
"""
@Time  : 2023/9/4 15:40:40
@Author : Stitch-z
@File  : tutorial_assistant.py
@Describe : Actions of the tutorial assistant, including writing directories and document content.
"""
from typing import Dict
from metagpt.actions import Action
from metagpt.prompts.tutorial_assistant importDIRECTORY_PROMPT, CONTENT_PROMPT
from metagpt.utils.common import OutputParser

classWriteDirectory(Action):
"""Action class for writing tutorial directories.
  Args:
    name: The name of the action.
    language: The language to output, default is "Chinese".
  """
def__init__(self, name: str="", language: str="Chinese", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
```

  2. Override the `run` method. The `run` method is the main function for `action` execution, using the `self._aask(prompt=prompt)` method to query the `LLM` model.
python```
asyncdefrun(self, topic: str, *args, **kwargs) -> Dict:
"""Execute the action to generate a tutorial directory according to the topic.
  Args:
    topic: The tutorial topic.
  Returns:
    The tutorial directory information, including {"title": "xxx", "directory": [{"dir 1": ["sub dir 1", "sub dir 2"]}]}.
  """
  prompt =DIRECTORY_PROMPT.format(topic=topic, language=self.language)
  resp =awaitself._aask(prompt=prompt)
return OutputParser.extract_struct(resp, dict)
```
```
asyncdefrun(self, topic: str, *args, **kwargs) -> Dict:
"""Execute the action to generate a tutorial directory according to the topic.
  Args:
    topic: The tutorial topic.
  Returns:
    The tutorial directory information, including {"title": "xxx", "directory": [{"dir 1": ["sub dir 1", "sub dir 2"]}]}.
  """
  prompt =DIRECTORY_PROMPT.format(topic=topic, language=self.language)
  resp =awaitself._aask(prompt=prompt)
return OutputParser.extract_struct(resp, dict)
```

  3. Other `action` writing is similar.
python```
classWriteContent(Action):
"""Action class for writing tutorial content.
  Args:
    name: The name of the action.
    directory: The content to write.
    language: The language to output, default is "Chinese".
  """
def__init__(self, name: str="", directory: str="", language: str="Chinese", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
self.directory = directory
asyncdefrun(self, topic: str, *args, **kwargs) -> str:
"""Execute the action to write document content according to the directory and topic.
    Args:
      topic: The tutorial topic.
    Returns:
      The written tutorial content.
    """
    prompt =CONTENT_PROMPT.format(topic=topic, language=self.language, directory=self.directory)
returnawaitself._aask(prompt=prompt)
```
```
classWriteContent(Action):
"""Action class for writing tutorial content.
  Args:
    name: The name of the action.
    directory: The content to write.
    language: The language to output, default is "Chinese".
  """
def__init__(self, name: str="", directory: str="", language: str="Chinese", *args, **kwargs):
super().__init__(name, *args, **kwargs)
self.language = language
self.directory = directory
asyncdefrun(self, topic: str, *args, **kwargs) -> str:
"""Execute the action to write document content according to the directory and topic.
    Args:
      topic: The tutorial topic.
    Returns:
      The written tutorial content.
    """
    prompt =CONTENT_PROMPT.format(topic=topic, language=self.language, directory=self.directory)
returnawaitself._aask(prompt=prompt)
```



## Role Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#role-execution-results)
### Input Examples [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#input-examples)
  * `MySQL` Tutorial
  * `Redis` Tutorial
  * `Hive` Tutorial


### Execution Command Examples [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#execution-command-examples)
bash```
pythonexamples/write_tutorial.py
```
```
pythonexamples/write_tutorial.py
```

### Execution Results [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#execution-results)
The generated tutorial documents are located in the project's `/data/tutorial_docx` directory. Screenshots are provided below:
![image](https://docs.deepwisdom.ai/main/image/guide/use_cases/tutorial_assistant/output_en_1.png)
![image](https://docs.deepwisdom.ai/main/image/guide/use_cases/tutorial_assistant/output_en_2.png)
## Note [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html#note)
This role currently does not support internet search capabilities. Content generation relies on data trained by the `LLM` large model.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/agent/tutorial_assistant.md)
[Previous pageResearcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Next pagePhotographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/stanford_town.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/stanford_town.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Stanford Town: Lively Daily Life of an Agent Community [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html#stanford-town-lively-daily-life-of-an-agent-community)
[README](https://github.com/geekan/MetaGPT/blob/main/metagpt/ext/stanford_town/README.md)
[Execution entry example code](https://github.com/geekan/MetaGPT/tree/main/examples/stanford_town)
[Stanford Town Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/multi_agent/stanford_town.md)
[Previous pageMinecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Next pageAgent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/werewolf_game.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/werewolf_game.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Werewolf: Agents Playing Strategy Games [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html#werewolf-agents-playing-strategy-games)
[Execution entry example code](https://github.com/geekan/MetaGPT/tree/main/examples/werewolf_game)
[Werewolf Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/multi_agent/werewolf_game.md)
[Previous pageDebate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Next pageMinecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/minecraft.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/minecraft.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Minecraft: Agents Collectively Exlpore the World [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html#minecraft-agents-collectively-exlpore-the-world)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/multi_agent/minecraft.md)
[Previous pageWerewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Next pageStanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/debate.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/use_cases/multi_agent/debate.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
On this page 
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
  * [Define Action](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#define-action "Define Action")
  * [Define Role](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#define-role "Define Role")
  * [Create a team and add roles](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#create-a-team-and-add-roles "Create a team and add roles")
  * [Complete script of this section](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#complete-script-of-this-section "Complete script of this section")


On this page 
# Debate: Agent Confrontation [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#debate-agent-confrontation)
In this use case, we will illustrate the development process of a playful example.
Imagine, just for a moment, if we were to simulate agents representing Biden and Trump working together. It's a fun experiment, isn't it? Given their known disagreements, such a combination could lead to some lively exchanges. This serves as an ideal example to showcase how to design multiple agents and facilitate interactions between them. We will deb our experiment the "Biden-Trump Debate".
In general, we need two steps to set up a debate between them:
  1. Define a role Debator capable of a speaking action, which we suggest taking reference from Agent101
  2. Take care of the communication between Debator, that is, have Biden listen to Trump and Trump to Biden
  3. Initialize two Debator instances, Biden and Trump, create a team with an environment to put them in, and enable them to interact with each other


Complete code is available at the end of this section
### Define Action [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#define-action)
First, we need to define our `Action`. It's a debate setting, so let's name it as `SpeakAloud`
python```
classSpeakAloud(Action):
"""Action: Speak out aloud in a debate (quarrel)"""
PROMPT_TEMPLATE="""
  ## BACKGROUND
  Suppose you are {name}, you are in a debate with {opponent_name}.
  ## DEBATE HISTORY
  Previous rounds:
{context}
  ## YOUR TURN
  Now it's your turn, you should closely respond to your opponent's latest argument, state your position, defend your arguments, and attack your opponent's arguments,
  craft a strong and emotional response in 80 words, in {name}'s rhetoric and viewpoints, your will argue:
  """
def__init__(self, name="SpeakAloud", context=None, llm=None):
super().__init__(name, context, llm)
asyncdefrun(self, context: str, name: str, opponent_name: str):
    prompt =self.PROMPT_TEMPLATE.format(context=context, name=name, opponent_name=opponent_name)
    rsp =awaitself._aask(prompt)
return rsp
```
```
classSpeakAloud(Action):
"""Action: Speak out aloud in a debate (quarrel)"""
PROMPT_TEMPLATE="""
  ## BACKGROUND
  Suppose you are {name}, you are in a debate with {opponent_name}.
  ## DEBATE HISTORY
  Previous rounds:
{context}
  ## YOUR TURN
  Now it's your turn, you should closely respond to your opponent's latest argument, state your position, defend your arguments, and attack your opponent's arguments,
  craft a strong and emotional response in 80 words, in {name}'s rhetoric and viewpoints, your will argue:
  """
def__init__(self, name="SpeakAloud", context=None, llm=None):
super().__init__(name, context, llm)
asyncdefrun(self, context: str, name: str, opponent_name: str):
    prompt =self.PROMPT_TEMPLATE.format(context=context, name=name, opponent_name=opponent_name)
    rsp =awaitself._aask(prompt)
return rsp
```

### Define Role [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#define-role)
We will define a common `Role` called `Debator`.
Here `set_actions` make our `Role` possess the `SpeakAloud` action we just define. We also `_watch` both `SpeakAloud` and `UserRequirement`, because we want each debator to pay attention to messages of `SpeakAloud` from his opponent, as well as `UserRequirement` (human instruction) from users.
python```
classDebator(Role):
def__init__(
    self,
    name: str,
    profile: str,
    opponent_name: str,
**kwargs,
  ):
super().__init__(name, profile, **kwargs)
self.set_actions([SpeakAloud])
self._watch([UserRequirement, SpeakAloud])
self.name = name
self.opponent_name = opponent_name
```
```
classDebator(Role):
def__init__(
    self,
    name: str,
    profile: str,
    opponent_name: str,
**kwargs,
  ):
super().__init__(name, profile, **kwargs)
self.set_actions([SpeakAloud])
self._watch([UserRequirement, SpeakAloud])
self.name = name
self.opponent_name = opponent_name
```

Next, we make each debator listen to his opponent's argument. This is done by overwriting the `_observe` function. This is an important point because there will be "SpeakAloud messages" (`Message` triggered by `SpeakAloud`) from both Trump and Biden in the environment. We don't want Trump to process his own "SpeakAloud message" from the last round, but instead those from Biden, and vice versa. (We will take care of this process with a general message routing mechanism in updates shortly to come. You won't need this step after the updates)
python```
asyncdef_observe(self) -> int:
awaitsuper()._observe()
# accept messages sent (from opponent) to self, disregard own messages from the last round
self.rc.news = [msg for msg inself.rc.news if msg.send_to ==self.name]
returnlen(self.rc.news)
```
```
asyncdef_observe(self) -> int:
awaitsuper()._observe()
# accept messages sent (from opponent) to self, disregard own messages from the last round
self.rc.news = [msg for msg inself.rc.news if msg.send_to ==self.name]
returnlen(self.rc.news)
```

Finally, we enable each debator to send counter arguments back to his opponent. Here we construct a context from message history, make the `Debator` run his possessed `SpeakAloud` action, and craft a new `Message` with the counter argument content. Notice we define that each `Debator` will send the `Message` to his opponent.
python```
asyncdef_act(self) -> Message:
  logger.info(f"{self._setting}: ready to {self.rc.todo}")
  todo =self.rc.todo # An instance of SpeakAloud
  memories =self.get_memories()
  context ="\n".join(f"{msg.sent_from}: {msg.content}"for msg in memories)
# print(context)
  rsp =await todo.run(context=context, name=self.name, opponent_name=self.opponent_name)
  msg = Message(
content=rsp,
role=self.profile,
cause_by=todo,
sent_from=self.name,
send_to=self.opponent_name,
  )
return msg
```
```
asyncdef_act(self) -> Message:
  logger.info(f"{self._setting}: ready to {self.rc.todo}")
  todo =self.rc.todo # An instance of SpeakAloud
  memories =self.get_memories()
  context ="\n".join(f"{msg.sent_from}: {msg.content}"for msg in memories)
# print(context)
  rsp =await todo.run(context=context, name=self.name, opponent_name=self.opponent_name)
  msg = Message(
content=rsp,
role=self.profile,
cause_by=todo,
sent_from=self.name,
send_to=self.opponent_name,
  )
return msg
```

**Complete code of the Debator**
python```
classDebator(Role):
def__init__(
    self,
    name: str,
    profile: str,
    opponent_name: str,
**kwargs,
  ):
super().__init__(name, profile, **kwargs)
self.set_actions([SpeakAloud])
self._watch([UserRequirement, SpeakAloud])
self.name = name
self.opponent_name = opponent_name
asyncdef_observe(self) -> int:
awaitsuper()._observe()
# accept messages sent (from opponent) to self, disregard own messages from the last round
self.rc.news = [msg for msg inself.rc.news if msg.send_to ==self.name]
returnlen(self.rc.news)
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo # An instance of SpeakAloud
    memories =self.get_memories()
    context ="\n".join(f"{msg.sent_from}: {msg.content}"for msg in memories)
    rsp =await todo.run(context=context, name=self.name, opponent_name=self.opponent_name)
    msg = Message(
content=rsp,
role=self.profile,
cause_by=todo,
sent_from=self.name,
send_to=self.opponent_name,
    )
self.rc.memory.add(msg)
return msg
```
```
classDebator(Role):
def__init__(
    self,
    name: str,
    profile: str,
    opponent_name: str,
**kwargs,
  ):
super().__init__(name, profile, **kwargs)
self.set_actions([SpeakAloud])
self._watch([UserRequirement, SpeakAloud])
self.name = name
self.opponent_name = opponent_name
asyncdef_observe(self) -> int:
awaitsuper()._observe()
# accept messages sent (from opponent) to self, disregard own messages from the last round
self.rc.news = [msg for msg inself.rc.news if msg.send_to ==self.name]
returnlen(self.rc.news)
asyncdef_act(self) -> Message:
    logger.info(f"{self._setting}: ready to {self.rc.todo}")
    todo =self.rc.todo # An instance of SpeakAloud
    memories =self.get_memories()
    context ="\n".join(f"{msg.sent_from}: {msg.content}"for msg in memories)
    rsp =await todo.run(context=context, name=self.name, opponent_name=self.opponent_name)
    msg = Message(
content=rsp,
role=self.profile,
cause_by=todo,
sent_from=self.name,
send_to=self.opponent_name,
    )
self.rc.memory.add(msg)
return msg
```

### Create a team and add roles [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#create-a-team-and-add-roles)
Now that we have defined our `Debator`s, let's put them together to see what will come up. We set up a `Team` and "hire" Biden and Trump. In this example, we will send our instruction (as a `UserRequirement` under the hood) to Biden to have him start first. If you want Trump to speak first, set send_to as "Trump".
Run the `Team`, we should see the friendly conversation between them!
python```
asyncdefdebate(idea: str, investment: float=3.0, n_round: int=5):
"""Run a team of presidents and watch they quarrel. :) """
  Biden = Debator(name="Biden", profile="Democrat", opponent_name="Trump")
  Trump = Debator(name="Trump", profile="Republican", opponent_name="Biden")
  team = Team()
  team.hire([Biden, Trump])
  team.invest(investment)
  team.run_project(idea, send_to="Biden") # send debate topic to Biden and let him speak first
await team.run(n_round=n_round)
import asyncio
import platform
import typer
from metagpt.team import Team
app = typer.Typer()
@app.command()
defmain(
  idea: str= typer.Argument(..., help="Economic Policy: Discuss strategies and plans related to taxation, employment, fiscal budgeting, and economic growth."),
  investment: float= typer.Option(default=3.0, help="Dollar amount to invest in the AI company."),
  n_round: int= typer.Option(default=5, help="Number of rounds for the simulation."),
):
"""
  :param idea: Debate topic, such as "Topic: The U.S. should commit more in climate change fighting"
         or "Trump: Climate change is a hoax"
  :param investment: contribute a certain dollar amount to watch the debate
  :param n_round: maximum rounds of the debate
  :return:
  """
if platform.system() =="Windows":
    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
  asyncio.run(debate(idea, investment, n_round))
if__name__=='__main__':
  app()
```
```
asyncdefdebate(idea: str, investment: float=3.0, n_round: int=5):
"""Run a team of presidents and watch they quarrel. :) """
  Biden = Debator(name="Biden", profile="Democrat", opponent_name="Trump")
  Trump = Debator(name="Trump", profile="Republican", opponent_name="Biden")
  team = Team()
  team.hire([Biden, Trump])
  team.invest(investment)
  team.run_project(idea, send_to="Biden") # send debate topic to Biden and let him speak first
await team.run(n_round=n_round)
import asyncio
import platform
import typer
from metagpt.team import Team
app = typer.Typer()
@app.command()
defmain(
  idea: str= typer.Argument(..., help="Economic Policy: Discuss strategies and plans related to taxation, employment, fiscal budgeting, and economic growth."),
  investment: float= typer.Option(default=3.0, help="Dollar amount to invest in the AI company."),
  n_round: int= typer.Option(default=5, help="Number of rounds for the simulation."),
):
"""
  :param idea: Debate topic, such as "Topic: The U.S. should commit more in climate change fighting"
         or "Trump: Climate change is a hoax"
  :param investment: contribute a certain dollar amount to watch the debate
  :param n_round: maximum rounds of the debate
  :return:
  """
if platform.system() =="Windows":
    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
  asyncio.run(debate(idea, investment, n_round))
if__name__=='__main__':
  app()
```

## Complete script of this section [​](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html#complete-script-of-this-section)
<https://github.com/geekan/MetaGPT/blob/main/examples/debate.py>
Run it with
sh```
python3examples/debate.py--idea"Talk about how the U.S. should respond to climate change"
```
```
python3examples/debate.py--idea"Talk about how the U.S. should respond to climate change"
```

A sample run
![img](https://docs.deepwisdom.ai/main/image/guide/use_cases/debate_log.png)
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/use_cases/multi_agent/debate.md)
[Previous pageAndroid Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
[Next pageWerewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/quickstart.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/quickstart.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/ex.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/ex.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
404
# PAGE NOT FOUND
> But if you don't change your direction, and if you keep looking, you may end up where you are heading.
[Take me home](https://docs.deepwisdom.ai/main/en/)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/minecraft.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/minecraft.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/minecraft.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/minecraft.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Minecraft Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/minecraft.html#minecraft-environment)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/minecraft.md)
[Next pageIntroduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/agent_think_act.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/tutorials/agent_think_act.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Think and Act [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#think-and-act)
After this tutorial, you will be able to:
  1. Understand how agent thinks and acts in an agent run and what each stage is used for
  2. Use different react modes according to your scenarios and need


## Three react modes [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#three-react-modes)
After receiving new observation from the environment, an agent starts to "react" to the observation with proper thoughts and actions. The term "react" can be interpreted as "respond" or "reason and act". MetaGPT currently provides two ways to define such thinking and acting process, and will support one more through updates in the near future.
### Standard ReAct (default) [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#standard-react-default)
Think first, then act, until the role thinks it is time to stop. This is the standard think-act loop in the [ReAct paper](https://arxiv.org/abs/2210.03629), which alternates thinking and acting in task solving, i.e. `_think` -> `_act` -> `_think` -> `_act` -> ...
Each time during `_think`, `Role` will choose an `Action` to take in response to current observation, and run the chosen `Action` during `_act` stage. The action output will then be new observation used in `_think` again for a next step. We use LLM to select actions in `_think` dynamically, which equips this mode with good generability.
![img](https://docs.deepwisdom.ai/main/assets/react.38f6f9f9.png)
In MetaGPT, `Role` is set up with this mode by default with one think-act loop, so you don't have to specify anything. On the other hand, if you want the `Role` to perform more think-act loops. Use `_set_react_mode` during `Role` initialization. For example, the code below will allow 3 think-act loops (`_think` or `_act` each counts as one loop)
python```
self._set_react_mode(react_mode="react", max_react_loop=6)
```
```
self._set_react_mode(react_mode="react", max_react_loop=6)
```

### By order [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#by-order)
Perform capable actions each time by order defined in `set_actions`, i.e. `_act` (Action1) -> `_act` (Action2) -> `_act` (Action3) -> ...
This mode is suitable for a deterministic SOP, where we know exactly what actions a `Role` should take and their order. With this mode, you only need to define the `Action`s and the framework will take over the pipeline building.
![img](https://docs.deepwisdom.ai/main/assets/act_by_order.3c56ed88.png)
Recall our [agent101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html) example, by specifying `self._set_react_mode(react_mode="by_order")`, the `Role` will take `SimpleWriteCode` first and `SimpleRunCode` next in its run.
python```
classRunnableCoder(Role):
  name: str="Alice"
  profile: str="RunnableCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode, SimpleRunCode])
self._set_react_mode(react_mode="by_order")
asyncdef_act(self) -> Message:
...
```
```
classRunnableCoder(Role):
  name: str="Alice"
  profile: str="RunnableCoder"
def__init__(self, **kwargs):
super().__init__(**kwargs)
self.set_actions([SimpleWriteCode, SimpleRunCode])
self._set_react_mode(react_mode="by_order")
asyncdef_act(self) -> Message:
...
```

### Plan and act [​](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_think_act.html#plan-and-act)
Draft a plan in advance, then use the plan to instruct a series of actions, i.e. `_plan` -> `_act` -> `_act` -> ...
![img](https://docs.deepwisdom.ai/main/assets/plan_and_act.b656b651.png)
Implementing, stay tuned
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/tutorials/agent_think_act.md)
[Next pageIntroduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/memory.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/memory.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/memory.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/memory.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Memory [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/memory.html#memory)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/memory.md)
[Next pageIntroduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu


---

# Original URL: https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/web.html
# Markdown Source: raw_markdown (来自对象)

[ Skip to content ](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/web.html#VPContent)
[![](https://docs.deepwisdom.ai/main/logo-light.svg)![](https://docs.deepwisdom.ai/main/logo-dark.svg)MetaGPT](https://docs.deepwisdom.ai/main/en/)
Search`K`
Main Navigation[Docs](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Demo
[Data Interpreter](https://docs.deepwisdom.ai/main/en/DataInterpreter/index.html)
[SELA](https://docs.deepwisdom.ai/main/en/sela/index.html)
[Blogs](https://docs.deepwisdom.ai/main/en/blog/blogs.html)[RFCs](https://docs.deepwisdom.ai/main/en/rfcs/RFC-116-MetaGPT%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html)
main
[main (unstable)](https://docs.deepwisdom.ai/main/)
[v0.8 (stable)](https://docs.deepwisdom.ai/v0.8/)
[v0.7](https://docs.deepwisdom.ai/v0.7/)
[v0.6](https://docs.deepwisdom.ai/v0.6/)
[v0.5](https://docs.deepwisdom.ai/v0.5/)
[v0.4](https://docs.deepwisdom.ai/v0.4/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/web.html)
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
English
[中文](https://docs.deepwisdom.ai/main/zh/guide/in_depth_guides/environment/web.html)
Appearance
[GitHub](https://github.com/geekan/MetaGPT)[Discord](https://discord.com/invite/wCp6Q3fsAk)[X](https://twitter.com/MetaGPT_)[ ](https://deepwisdom.ai/)
Menu
Return to top
Sidebar Navigation 
## Get Started
[Introduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
[Quickstart](https://docs.deepwisdom.ai/main/en/guide/get_started/quickstart.html)
[Installation](https://docs.deepwisdom.ai/main/en/guide/get_started/installation.html)
### [Configuration](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html)
[LLM](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/llm_api_configuration.html)
[Tools](https://docs.deepwisdom.ai/main/en/guide/get_started/configuration/tools.html)
## Tutorials
[Concepts](https://docs.deepwisdom.ai/main/en/guide/tutorials/concepts.html)
[Agent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/agent_101.html)
[MultiAgent 101](https://docs.deepwisdom.ai/main/en/guide/tutorials/multi_agent_101.html)
[Use memories](https://docs.deepwisdom.ai/main/en/guide/tutorials/use_memories.html)
[Create and use tools](https://docs.deepwisdom.ai/main/en/guide/tutorials/create_and_use_tools.html)
[Human engagement](https://docs.deepwisdom.ai/main/en/guide/tutorials/human_engagement.html)
[Integration with open LLM](https://docs.deepwisdom.ai/main/en/guide/tutorials/integration_with_open_llm.html)
[Customize LLMs for roles or actions](https://docs.deepwisdom.ai/main/en/guide/tutorials/customize_llms_for_roles_or_actions.html)
## Use Cases
### Agent
#### [Data Interpreter](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/intro.html)
[Data analysis and visualization](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/data_visualization.html)
[Machine learning modeling](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning.html)
[Machine learning modeling with tools](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/machine_learning_with_tools.html)
[Image background removal](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/image_removebg.html)
[Solve mathematical problems](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/solve_mathematical_problems.html)
[Receipt OCR](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/ocr_receipt.html)
[Tool usage: web page imitation](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/imitate_webpage.html)
[Human interaction](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/human_interaction.html)
[Tool usage: web scraping](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/crawl_webpage.html)
[Tool usage: text2image](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/text2image.html)
[Tool usage: email summarization and response](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/interpreter/email_summary.html)
[Researcher: search web and write reports](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/researcher.html)
[Tutorial Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/tutorial_assistant.html)
[Photographer](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/photographer.html)
[Receipt Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/receipt_assistant.html)
[Android Assistant](https://docs.deepwisdom.ai/main/en/guide/use_cases/agent/android_assistant.html)
### MultiAgent
[Debate](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/debate.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/werewolf_game.html)
[Minecraft](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/minecraft.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/use_cases/multi_agent/stanford_town.html)
## In-Depth Guides
[Agent communication](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/agent_communication.html)
[Incremental development](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/incremental_development.html)
[Serialization & Breakpoint Recovery](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/breakpoint_recovery.html)
[RAG Module](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/rag_module.html)
### [Environment](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/intro.html)
[Werewolf Game](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/werewolf.html)
[Stanford Town](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/stanford_town.html)
[Android](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/android.html)
## Contribution
[Code of Conduct](https://docs.deepwisdom.ai/main/en/guide/contribution/code_of_conduct.html)
### [Contribution Guidelines](https://docs.deepwisdom.ai/main/en/guide/contribution/contribution_guidelines.html)
[Code Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/code_contribution.html)
[Doc Contribution](https://docs.deepwisdom.ai/main/en/guide/contribution/guideline/doc_contribution.html)
[FAQ](https://docs.deepwisdom.ai/main/en/guide/contribution/faq.html)
[API](https://docs.deepwisdom.ai/main/en/guide/api.html)
[Index / FAQ](https://docs.deepwisdom.ai/main/en/guide/faq.html)
On this page
Table of Contents for current page 
# Web Environment [​](https://docs.deepwisdom.ai/main/en/guide/in_depth_guides/environment/web.html#web-environment)
Will be updated soon, stay tuned.
[ Edit this page on GitHub](https://github.com/geekan/MetaGPT-docs/blob/main/src/en/guide/in_depth_guides/environment/web.md)
[Next pageIntroduction](https://docs.deepwisdom.ai/main/en/guide/get_started/introduction.html)
Released under the MIT License.
Copyright © 2023-present alexanderwu
